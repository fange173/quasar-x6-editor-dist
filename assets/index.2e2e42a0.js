var e=Object.defineProperty,a=Object.prototype.hasOwnProperty,t=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,o=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,n=(e,n)=>{for(var s in n||(n={}))a.call(n,s)&&o(e,s,n[s]);if(t)for(var s of t(n))l.call(n,s)&&o(e,s,n[s]);return e};import{c as s,a as d,b as i}from"./vendor-vue.ff9ab330.js";import{Q as r,a as c,b as u,c as p,d as m,e as f,f as g,g as b,h as v,i as h,j as y,k,l as _,m as w,n as x,N as C,R as D,D as q,o as N,p as z,q as V,r as T,s as E,t as j,u as I,v as U,w as S,x as O,y as M,z as R,C as L,A as F,B as H,E as P,F as A,G as W,H as B,P as G,I as J}from"./vendor-quasar.d389f6de.js";import{D as $,G as X,E as Y,F as K,H as Z,I as Q}from"./vendor.7447b5ad.js";import{b as ee,e as ae,O as te,M as le,P as oe,Q as ne,g as se,R as de,r as ie,s as re,f as ce,S as ue,U as pe,V as me,W as fe,n as ge,q as be,C as ve,i as he,X as ye,L as ke,Y as _e,Z as we,y as xe,o as Ce,d as De,c as qe}from"./vendor-@vue.6c08681e.js";/* empty css                       */let Ne;!function(e=".",a="__import__"){try{self[a]=new Function("u","return import(u)")}catch(t){const l=new URL(e,location),o=e=>{URL.revokeObjectURL(e.src),e.remove()};self[a]=e=>new Promise(((t,n)=>{const s=new URL(e,l);if(self[a].moduleMap[s])return t(self[a].moduleMap[s]);const d=new Blob([`import * as m from '${s}';`,`${a}.moduleMap['${s}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(d),onerror(){n(new Error(`Failed to import: ${e}`)),o(i)},onload(){t(self[a].moduleMap[s]),o(i)}});document.head.appendChild(i)})),self[a].moduleMap={}}}("/assets/");const ze={},Ve=function(e,a){if(!a)return e();if(void 0===Ne){const e=document.createElement("link").relList;Ne=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(a.map((e=>{if(e in ze)return;ze[e]=!0;const a=e.endsWith(".css"),t=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${t}`))return;const l=document.createElement("link");return l.rel=a?"stylesheet":Ne,a||(l.as="script",l.crossOrigin=""),l.href=e,document.head.appendChild(l),a?new Promise(((e,a)=>{l.addEventListener("load",e),l.addEventListener("error",a)})):void 0}))).then((()=>e()))};const Te={props:{zoom:{type:Number}},setup(){const e=se();return{undo:()=>{e.parent.proxy.undo()},redo:()=>{e.parent.proxy.redo()},zoomIn:()=>{e.parent.proxy.zoomIn()},zoomOut:()=>{e.parent.proxy.zoomOut()},centerContent:()=>{e.parent.proxy.centerContent()},shGird:()=>{e.parent.proxy.shGird()},layout:()=>{e.parent.proxy.layout()},showData:()=>{e.parent.proxy.showData()},downloadData:()=>{e.parent.proxy.downloadData()},runWorkFlow:()=>{e.parent.proxy.runWorkFlow()},help:()=>{e.parent.proxy.help()}}}},Ee={id:"toolbar",class:"row items-center back-blur"},je=de(" 撤销 "),Ie=de(" 重做 "),Ue={class:"q-ml-sm",style:{"min-width":"40px"}},Se=de(" 放大 (Ctrl + 滚轮向上) "),Oe=de(" 缩小 (Ctrl + 滚轮向下) "),Me=de(" 居中 "),Re=de(" 显示网点 "),Le=de(" 自动布局 "),Fe=de(" 查看 json "),He=de(" 导出 json "),Pe=de(" 运行 "),Ae=de(" 帮助 ");Te.render=function(e,a,t,l,o,n){return ee(),ae("div",null,[te("div",Ee,[le(c,{flat:"",dense:"",icon:"undo",onClick:l.undo,class:"q-ml-xs"},{default:oe((()=>[le(r,{offset:[8,8]},{default:oe((()=>[je])),_:1})])),_:1},8,["onClick"]),le(c,{flat:"",dense:"",icon:"redo",onClick:l.redo},{default:oe((()=>[le(r,{offset:[8,8]},{default:oe((()=>[Ie])),_:1})])),_:1},8,["onClick"]),le(u,{vertical:"",inset:"",class:"q-ml-xs"}),te("div",Ue,ne(t.zoom)+"%",1),le(c,{flat:"",dense:"",icon:"zoom_in",onClick:l.zoomIn,class:"q-ml-xs"},{default:oe((()=>[le(r,{offset:[8,8]},{default:oe((()=>[Se])),_:1})])),_:1},8,["onClick"]),le(c,{flat:"",dense:"",icon:"zoom_out",onClick:l.zoomOut},{default:oe((()=>[le(r,{offset:[8,8]},{default:oe((()=>[Oe])),_:1})])),_:1},8,["onClick"]),le(u,{vertical:"",inset:"",class:"q-ml-xs"}),le(c,{flat:"",dense:"",icon:"center_focus_weak",onClick:l.centerContent,class:"q-ml-xs"},{default:oe((()=>[le(r,{offset:[8,8]},{default:oe((()=>[Me])),_:1})])),_:1},8,["onClick"]),le(c,{flat:"",dense:"",icon:"grid_4x4",onClick:l.shGird},{default:oe((()=>[le(r,{offset:[8,8]},{default:oe((()=>[Re])),_:1})])),_:1},8,["onClick"]),le(c,{flat:"",dense:"",icon:"auto_awesome_mosaic",onClick:l.layout},{default:oe((()=>[le(r,{offset:[8,8]},{default:oe((()=>[Le])),_:1})])),_:1},8,["onClick"]),le(u,{vertical:"",inset:"",class:"q-ml-xs"}),le(c,{flat:"",dense:"",icon:"visibility",onClick:l.showData,class:"q-ml-xs"},{default:oe((()=>[le(r,{offset:[8,8]},{default:oe((()=>[Fe])),_:1})])),_:1},8,["onClick"]),le(c,{flat:"",dense:"",icon:"download",onClick:l.downloadData},{default:oe((()=>[le(r,{offset:[8,8]},{default:oe((()=>[He])),_:1})])),_:1},8,["onClick"]),le(u,{vertical:"",inset:"",class:"q-ml-xs"}),le(c,{flat:"",dense:"",color:"primary",icon:"directions_run",onClick:l.runWorkFlow,class:"q-ml-xs"},{default:oe((()=>[le(r,{offset:[8,8]},{default:oe((()=>[Pe])),_:1})])),_:1},8,["onClick"]),le(c,{flat:"",dense:"",icon:"help",onClick:l.help,class:"q-mr-xs"},{default:oe((()=>[le(r,{offset:[8,8]},{default:oe((()=>[Ae])),_:1})])),_:1},8,["onClick"])])])},Te.__scopeId="data-v-264eaa42";const We={props:{showLeftDrawer:{type:Boolean}},setup(e){const a=se(),t={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}}},items:[{group:"top"},{group:"bottom"}]},l=ie([{id:"Simulation",data:{name:"Simulation脚本"},icon:"flag",children:[{id:"Simulation1",shape:"default-node",data:{name:"Simulation1脚本",cpuCores:"4",appUseCase:"ab08ad37-055b-b368-58aa-037620228cf8",status:"default",htc:!1},ports:n({},t)},{id:"Simulation2",shape:"default-node",data:{name:"Simulation2脚本",cpuCores:"4",appUseCase:"f30223f0-a215-4402-38ba-067a917b095d",status:"default",htc:!1},ports:n({},t)},{id:"Simulation3",shape:"default-node",data:{name:"Simulation3脚本",cpuCores:"4",appUseCase:"c0121580-1097-418f-14be-170e474fb8d3",status:"default",htc:!1},ports:n({},t)},{id:"Simulation4",shape:"default-node",data:{name:"Simulation4脚本",cpuCores:"4",appUseCase:"f4f1357b-1bfc-6797-5030-b9822d910e73",status:"default",htc:!1},ports:n({},t)}]},{id:"Tool",data:{name:"Tool工具"},icon:"construction",children:[{id:"Tool1",shape:"default-node",data:{name:"Tool1工具",cpuCores:"4",appUseCase:"79737114-e574-8956-bd45-8cf3b9fc8c88",status:"default",htc:!1},ports:n({},t)},{id:"Tool2",shape:"default-node",data:{name:"Tool2工具",cpuCores:"4",appUseCase:"75ca097e-b868-4250-885b-138a824f4982",status:"default",htc:!1},ports:n({},t)},{id:"Tool3",shape:"default-node",data:{name:"Tool3工具",cpuCores:"4",appUseCase:"cec670a0-f6af-916f-7a52-ec9cbd102a9a",status:"default",htc:!1},ports:n({},t)}]}]),o=ie(""),s=ie(null);return{shLeftDrawer:()=>{a.parent.proxy.shLeftDrawer()},showLeftDrawerCom:re((()=>e.showLeftDrawer)),nodeList:l,filter:o,filterRef:s,resetFilter(){o.value="",s.value.focus()},startDrag:(e,t)=>{a.parent.proxy.startDrag(e,t)},filterMethod:(e,a)=>-1!==e.data.name.indexOf(a)}}},Be=e=>(me("data-v-4701a5e5"),e=e(),fe(),e),Ge=Be((()=>te("div",null,[te("b",null,"组件库")],-1))),Je={class:"q-pa-md"},$e={key:0,class:"row items-center node-label"},Xe=["onMousedown","onTouchstart"],Ye=Be((()=>te("div",{class:"left-side"},[te("span",{class:"material-icons status-icons",style:{color:"#808080"}}," settings_outlined ")],-1))),Ke={class:"center"},Ze=Be((()=>te("div",{class:"right-side"},[te("span",{class:"material-icons status-icons",style:{color:"#808080"}}," task ")],-1))),Qe={class:"row"},ea=Be((()=>te("div",{class:"col-3"},[te("strong",null,"name：")],-1))),aa={class:"col-9"},ta={class:"row"},la=Be((()=>te("div",{class:"col-3"},[te("strong",null,"appUseCase：")],-1))),oa={class:"col-9"},na={class:"row"},sa=Be((()=>te("div",{class:"col-3"},[te("strong",null,"cpuCores：")],-1))),da={class:"col-9"},ia={class:"q-mini-drawer-hide absolute",style:{top:"50%",right:"-16px"}},ra={class:"q-mini-drawer-hide absolute",style:{top:"50%",left:"0px"}};We.render=function(e,a,t,l,o,n){return ee(),ae("div",null,[le(v,{id:"leftDrawer",modelValue:l.showLeftDrawerCom,"onUpdate:modelValue":a[1]||(a[1]=e=>l.showLeftDrawerCom=e),"show-if-above":"",width:300,breakpoint:500,bordered:"",side:"left"},{default:oe((()=>[le(p,{id:"qBarTitle"},{default:oe((()=>[le(m,{name:"inventory"}),Ge,le(f),le(c,{dense:"",flat:"",icon:"close",onClick:l.shLeftDrawer},null,8,["onClick"])])),_:1}),te("div",Je,[le(g,{outlined:"",dense:"",ref:"filterRef",modelValue:l.filter,"onUpdate:modelValue":a[0]||(a[0]=e=>l.filter=e)},{prepend:oe((()=>[le(m,{name:"search"})])),append:oe((()=>[""!==l.filter?(ee(),ce(m,{key:0,name:"clear",class:"cursor-pointer",onClick:l.resetFilter},null,8,["onClick"])):ue("",!0)])),_:1},8,["modelValue"]),le(b,{nodes:l.nodeList,"node-key":"id",filter:l.filter,"filter-method":l.filterMethod,"no-nodes-label":"没有节点数据！","no-results-label":"没有找到相关节点！","default-expand-all":"",class:"q-pt-sm"},{"default-header":oe((e=>[e.node.icon?(ee(),ae("div",$e,[le(m,{name:e.node.icon,class:"q-mr-sm"},null,8,["name"]),te("div",null,ne(e.node.data.name),1)])):(ee(),ae("div",{key:1,class:"node",style:{cursor:"move"},onMousedown:a=>l.startDrag(a,e),onTouchstart:pe((a=>l.startDrag(a,e)),["stop"])},[Ye,te("div",Ke,ne(e.node.data.name),1),Ze,le(r,{anchor:"center right",self:"center left",offset:[10,10]},{default:oe((()=>[te("div",Qe,[ea,te("div",aa,ne(e.node.data.name),1)]),te("div",ta,[la,te("div",oa,ne(e.node.data.appUseCase),1)]),te("div",na,[sa,te("div",da,ne(e.node.data.cpuCores),1)])])),_:2},1024)],40,Xe))])),_:1},8,["nodes","filter","filter-method"])]),te("div",ia,[le(c,{dense:"",round:"","text-color":"grey-7",unelevated:"",icon:"chevron_left",onClick:l.shLeftDrawer,style:{"z-index":"1"},class:"float-button back-blur"},null,8,["onClick"])])])),_:1},8,["modelValue"]),te("div",ra,[le(c,{dense:"",round:"","text-color":"grey-7",unelevated:"",icon:"chevron_right",onClick:l.shLeftDrawer,style:{"z-index":"1","margin-top":"25px"},class:"float-button back-blur"},null,8,["onClick"])])])},We.__scopeId="data-v-4701a5e5";const ca={},ua=e=>(me("data-v-75e44a1e"),e=e(),fe(),e),pa=[ua((()=>te("div",{id:"titleBar"},"导航器",-1))),ua((()=>te("div",{id:"minimapContainer"},null,-1)))];ca.render=function(e,a,t,l,o,n){return ee(),ae("div",null,pa)},ca.__scopeId="data-v-75e44a1e";const ma={props:{flow:{type:Object}},setup(e){const a=ie(),t=ie(),l=ie(),o=ie(""),n=ie({name:"",id:"",materialName:""});ge((()=>{n.value.name=e.flow.name,n.value.id=e.flow.id,n.value.materialName=e.flow.materialName}));return{clickType:o,clickNode:a,clickEdge:l,saveNode:function(){const e={name:a.value.name,cpuCores:a.value.cpuCores,appUseCase:a.value.appUseCase,status:a.value.status,htc:a.value.htc};t.value.setData(e),t.value.store.data.position.x=a.value.x,t.value.store.data.position.y=a.value.y,C.create({type:"positive",message:"保存节点成功！"})},nodeClickResponse:e=>{o.value="node",t.value=e;const l=t.value.getData(),n={id:t.value.id,cpuCores:l.cpuCores,appUseCase:l.appUseCase,name:l.name,status:l.status,htc:l.htc,x:t.value.store.data.position.x,y:t.value.store.data.position.y};a.value=n},nodeMouseMoveResponse:e=>{t.value=e,a.value&&(a.value.x=t.value.store.data.position.x,a.value.y=t.value.store.data.position.y)},edgeClickResponse:e=>{o.value="edge",l.value=e},blankClickResponse:()=>{o.value="blank",n.value.name=e.flow.name,n.value.id=e.flow.id,n.value.materialName=e.flow.materialName},thisFlow:n,saveFlow:function(){e.flow.name=n.value.name,e.flow.id=n.value.id,e.flow.materialName=n.value.materialName,C.create({type:"positive",message:"保存成功！"})}}}},fa=e=>(me("data-v-0458b3fc"),e=e(),fe(),e),ga={key:0,class:"q-gutter-md q-pl-md q-pr-md q-pt-md"},ba=fa((()=>te("div",{class:"inputTitle row"},[te("div",{class:"col-6"},"x"),te("div",{class:"col-6 q-pl-sm"},"y")],-1))),va={class:"row q-mt-xs"},ha={class:"col-6 q-pr-xs"},ya={class:"col-6 q-pl-xs"},ka=fa((()=>te("div",{class:"inputTitle q-mt-sm"},"externalId",-1))),_a=fa((()=>te("div",{class:"inputTitle q-mt-sm"},"cpuCores",-1))),wa=fa((()=>te("div",{class:"inputTitle q-mt-sm"},"appUseCase",-1))),xa=fa((()=>te("div",{class:"inputTitle q-mt-sm"},"name",-1))),Ca=fa((()=>te("div",{class:"inputTitle q-mt-sm"},"status",-1))),Da={class:"select-text"},qa={class:"row",style:{"margin-left":"-4px"}},Na=fa((()=>te("div",{class:"inputTitle q-mt-sm"},"htc",-1))),za={key:1,class:"q-gutter-md q-pl-md q-pr-md q-pt-md"},Va=fa((()=>te("div",{class:"inputTitle q-mt-sm"},"source",-1))),Ta=fa((()=>te("div",{class:"inputTitle q-mt-sm"},"target",-1))),Ea=fa((()=>te("div",{class:"inputTitle q-mt-sm"},"fileDependencies",-1))),ja=de("targetAppFile"),Ia=de("dependencyAppFile"),Ua=de("dependencyType"),Sa=de("+ 添加文件"),Oa={key:2,class:"q-gutter-md q-pl-md q-pr-md q-pt-md"},Ma=fa((()=>te("div",{class:"inputTitle q-mt-sm"},"id",-1))),Ra=fa((()=>te("div",{class:"inputTitle q-mt-sm"},"name",-1))),La=fa((()=>te("div",{class:"inputTitle q-mt-sm"},"materialName",-1)));ma.render=function(e,a,t,l,o,n){return ee(),ae("div",null,["node"===l.clickType?(ee(),ae("div",ga,[ba,te("div",va,[te("div",ha,[le(g,{dense:"",outlined:"",modelValue:l.clickNode.x,"onUpdate:modelValue":a[0]||(a[0]=e=>l.clickNode.x=e),readonly:""},null,8,["modelValue"])]),te("div",ya,[le(g,{dense:"",outlined:"",modelValue:l.clickNode.y,"onUpdate:modelValue":a[1]||(a[1]=e=>l.clickNode.y=e),readonly:""},null,8,["modelValue"])])]),ka,le(g,{dense:"",outlined:"",modelValue:l.clickNode.id,"onUpdate:modelValue":a[2]||(a[2]=e=>l.clickNode.id=e),class:"q-mt-xs",readonly:""},null,8,["modelValue"]),_a,le(g,{dense:"",outlined:"",modelValue:l.clickNode.cpuCores,"onUpdate:modelValue":a[3]||(a[3]=e=>l.clickNode.cpuCores=e),class:"q-mt-xs"},null,8,["modelValue"]),wa,le(g,{dense:"",outlined:"",modelValue:l.clickNode.appUseCase,"onUpdate:modelValue":a[4]||(a[4]=e=>l.clickNode.appUseCase=e),class:"q-mt-xs"},null,8,["modelValue"]),xa,le(g,{dense:"",outlined:"",modelValue:l.clickNode.name,"onUpdate:modelValue":a[5]||(a[5]=e=>l.clickNode.name=e),class:"q-mt-xs"},null,8,["modelValue"]),Ca,le(_,{dense:"",outlined:"",modelValue:l.clickNode.status,"onUpdate:modelValue":a[6]||(a[6]=e=>l.clickNode.status=e),options:["default","success","error","warning","running"],class:"q-mt-xs"},{prepend:oe((()=>[be(le(m,{name:"task",style:{color:"#808080","font-size":"20px"}},null,512),[[ve,"default"===l.clickNode.status]]),be(le(m,{name:"check_circle_outline",style:{color:"green","font-size":"20px"}},null,512),[[ve,"success"===l.clickNode.status]]),be(le(m,{name:"cancel",style:{color:"red","font-size":"20px"}},null,512),[[ve,"error"===l.clickNode.status]]),be(le(m,{name:"error_outline",style:{color:"orange","font-size":"20px"}},null,512),[[ve,"warning"===l.clickNode.status]]),be(le(m,{name:"directions_run",style:{color:"blue","font-size":"20px"}},null,512),[[ve,"running"===l.clickNode.status]])])),selected:oe((()=>[te("div",Da,ne(l.clickNode.status),1)])),option:oe((e=>[le(h,he(e.itemProps,ye(e.itemEvents)),{default:oe((()=>[le(y,null,{default:oe((()=>[te("span",qa,[be(le(m,{name:"task",class:"q-mr-sm",style:{color:"#808080","font-size":"20px"}},null,512),[[ve,"default"===e.opt]]),be(le(m,{name:"check_circle_outline",class:"q-mr-sm",style:{color:"green","font-size":"20px"}},null,512),[[ve,"success"===e.opt]]),be(le(m,{name:"cancel",class:"q-mr-sm",style:{color:"red","font-size":"20px"}},null,512),[[ve,"error"===e.opt]]),be(le(m,{name:"error_outline",class:"q-mr-sm",style:{color:"orange","font-size":"20px"}},null,512),[[ve,"warning"===e.opt]]),be(le(m,{name:"directions_run",class:"q-mr-sm",style:{color:"blue","font-size":"20px"}},null,512),[[ve,"running"===e.opt]]),le(k,{innerHTML:e.opt},null,8,["innerHTML"])])])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue"]),Na,le(w,{modelValue:l.clickNode.htc,"onUpdate:modelValue":a[7]||(a[7]=e=>l.clickNode.htc=e),class:"q-mt-xs",style:{border:"1px solid #c2c2c2"},dense:"",push:"",spread:"","no-caps":"",outlined:"",unelevated:"",ripple:!1,"toggle-color":"grey",color:"white","text-color":"black",options:[{label:"true",value:!0},{label:"false",value:!1}]},null,8,["modelValue"]),te("div",null,[le(c,{label:"保存",color:"primary",class:"q-mb-md",onClick:a[8]||(a[8]=e=>l.saveNode())})])])):"edge"===l.clickType?(ee(),ae("div",za,[Va,le(g,{dense:"",outlined:"",modelValue:l.clickEdge.source.cell,"onUpdate:modelValue":a[9]||(a[9]=e=>l.clickEdge.source.cell=e),class:"q-mt-xs",readonly:""},null,8,["modelValue"]),Ta,le(g,{dense:"",outlined:"",modelValue:l.clickEdge.target.cell,"onUpdate:modelValue":a[10]||(a[10]=e=>l.clickEdge.target.cell=e),class:"q-mt-xs",readonly:""},null,8,["modelValue"]),Ea,le(x,{outlined:"",separator:"",class:"rounded-borders q-mt-xs",style:{border:"1px solid #e0e0e0"}},{default:oe((()=>[(ee(!0),ae(ke,null,_e(l.clickEdge.store.data.fileDependencies,(e=>(ee(),ce(h,{key:e},{default:oe((()=>[le(y,null,{default:oe((()=>[le(k,{caption:""},{default:oe((()=>[ja])),_:1}),le(k,{class:"q-pb-xs"},{default:oe((()=>[de(ne(e.targetAppFile),1)])),_:2},1024),le(k,{caption:""},{default:oe((()=>[Ia])),_:1}),le(k,{class:"q-pb-xs"},{default:oe((()=>[de(ne(e.dependencyAppFile),1)])),_:2},1024),le(k,{caption:""},{default:oe((()=>[Ua])),_:1}),le(k,null,{default:oe((()=>[de(ne(e.dependencyType),1)])),_:2},1024)])),_:2},1024),le(y,{top:"",side:""},{default:oe((()=>[le(c,{size:"12px",flat:"",round:"",icon:"delete"})])),_:1})])),_:2},1024)))),128)),be((ee(),ce(h,{clickable:""},{default:oe((()=>[le(y,null,{default:oe((()=>[le(k,{caption:""},{default:oe((()=>[Sa])),_:1})])),_:1})])),_:1})),[[D]])])),_:1})])):(ee(),ae("div",Oa,[Ma,le(g,{dense:"",outlined:"",modelValue:l.thisFlow.id,"onUpdate:modelValue":a[11]||(a[11]=e=>l.thisFlow.id=e),class:"q-mt-xs",readonly:""},null,8,["modelValue"]),Ra,le(g,{dense:"",outlined:"",modelValue:l.thisFlow.name,"onUpdate:modelValue":a[12]||(a[12]=e=>l.thisFlow.name=e),class:"q-mt-xs"},null,8,["modelValue"]),La,le(g,{dense:"",outlined:"",modelValue:l.thisFlow.materialName,"onUpdate:modelValue":a[13]||(a[13]=e=>l.thisFlow.materialName=e),class:"q-mt-xs"},null,8,["modelValue"]),te("div",null,[le(c,{label:"保存",color:"primary",class:"q-mb-md",onClick:a[14]||(a[14]=e=>l.saveFlow())})])]))])},ma.__scopeId="data-v-0458b3fc";const Fa={components:{MiniMap:ca,EditPanel:ma},props:{showRightDrawer:{type:Boolean},flow:{type:Object}},setup(e){const a=se(),t=ie();return{shRightDrawer:()=>{a.parent.proxy.shRightDrawer()},showRightDrawerCom:re((()=>e.showRightDrawer)),editPanel:t,nodeClickResponse:e=>{t.value.nodeClickResponse(e)},nodeMouseMoveResponse:e=>{t.value.nodeMouseMoveResponse(e)},edgeClickResponse:e=>{t.value.edgeClickResponse(e)},blankClickResponse:()=>{t.value.blankClickResponse()}}}},Ha=(e=>(me("data-v-3c01b603"),e=e(),fe(),e))((()=>te("div",null,[te("b",null,"编辑")],-1))),Pa={class:"q-mini-drawer-hide absolute",style:{top:"50%",left:"-16px"}},Aa={class:"q-mini-drawer-hide absolute",style:{top:"50%",right:"0px"}};Fa.render=function(e,a,t,l,o,n){const s=we("EditPanel");return ee(),ae("div",null,[le(v,{id:"rightDrawer",modelValue:l.showRightDrawerCom,"onUpdate:modelValue":a[0]||(a[0]=e=>l.showRightDrawerCom=e),"show-if-above":"",width:300,breakpoint:500,bordered:"",side:"right"},{default:oe((()=>[le(p,{id:"qBarTitle"},{default:oe((()=>[le(m,{name:"edit"}),Ha,le(f),le(c,{dense:"",flat:"",icon:"close",onClick:l.shRightDrawer},null,8,["onClick"])])),_:1}),le(s,{id:"edit",ref:"editPanel",flow:t.flow},null,8,["flow"]),te("div",Pa,[le(c,{dense:"",round:"","text-color":"grey-7",unelevated:"",icon:"chevron_right",onClick:l.shRightDrawer,style:{"z-index":"1"},class:"float-button back-blur"},null,8,["onClick"])])])),_:1},8,["modelValue"]),te("div",Aa,[le(c,{dense:"",round:"","text-color":"grey-7",unelevated:"",icon:"chevron_left",onClick:l.shRightDrawer,style:{"z-index":"1","margin-top":"25px"},class:"float-button back-blur"},null,8,["onClick"])])])},Fa.__scopeId="data-v-3c01b603";const Wa={setup(){const e=xe("getNode")(),a=ie({name:"",status:""});return Ce((()=>{a.value=e.getData(),e.on("change:data",(({current:e})=>{a.value=e}))})),{data:a,contextMenu:e=>{},nodeSetting:()=>{q.create({options:{type:"radio",model:"opt1",items:[{label:"使用本地参数文件",value:"opt1",color:"secondary"},{label:"在线配置参数",value:"opt2"}]},persistent:!0,ok:"继续",cancel:"取消"}).onOk((e=>{C.create({message:"选择了 "+e,color:"primary"})}))}}}},Ba={key:0,class:"htc-node-1"},Ga={key:1,class:"htc-node-2"},Ja={class:"default-node tooltip"},$a={class:"left-side"},Xa={class:"center"},Ya={class:"right-side"},Ka={key:0,class:"material-icons status-icons",style:{color:"green"}},Za={key:1,class:"material-icons status-icons",style:{color:"red"}},Qa={key:2,class:"material-icons status-icons",style:{color:"orange"}},et={key:3,class:"material-icons status-icons running-status",style:{color:"blue"}},at={key:4,class:"material-icons status-icons",style:{color:"#808080"}};Wa.render=function(e,a,t,l,o,n){return ee(),ae("div",null,[l.data.htc?(ee(),ae("div",Ba)):ue("",!0),l.data.htc?(ee(),ae("div",Ga)):ue("",!0),te("div",Ja,[te("div",$a,[te("span",{class:"material-icons status-icons cursor-pointer",style:{color:"#808080"},onClick:a[0]||(a[0]=(...e)=>l.nodeSetting&&l.nodeSetting(...e))}," settings_outlined ")]),te("div",Xa,ne(l.data.name),1),te("div",Ya,["success"===l.data.status?(ee(),ae("span",Ka," check_circle_outline ")):"error"===l.data.status?(ee(),ae("span",Za," cancel ")):"warning"===l.data.status?(ee(),ae("span",Qa," error_outline ")):"running"===l.data.status?(ee(),ae("span",et," directions_run ")):(ee(),ae("span",at," task "))])])])},Wa.__scopeId="data-v-0f422171";const tt={props:{openHelpDialog:{type:Boolean}},setup(e){const a=ie("如何新增"),t=ie(20),l=se();return{close:()=>{l.parent.proxy.closeHelp()},tab:a,splitterModel:t,showHelpDialog:re((()=>e.openHelpDialog))}}},lt=e=>(me("data-v-39d1857c"),e=e(),fe(),e),ot={class:"text-h6 row"},nt=de(" 帮助"),st=lt((()=>te("div",{class:"text-h6 q-mb-md"},"如何新增",-1))),dt=lt((()=>te("p",null,"按住并拖动左侧组件库中的节点到中间画布，松开鼠标即可新增节点。",-1))),it=lt((()=>te("div",{class:"text-h6 q-mb-md"},"如何删除",-1))),rt=lt((()=>te("p",null,"鼠标右键点击需要删除的节点，在弹出菜单中点击“删除”。",-1))),ct=lt((()=>te("div",{class:"text-h6 q-mb-md"},"如何移动",-1))),ut=lt((()=>te("p",null,"按住并拖动中间画布中的节点到指定位置，松开鼠标即可移动节点。",-1))),pt=lt((()=>te("div",{class:"text-h6 q-mb-md"},"如何连线",-1))),mt=lt((()=>te("p",null," 鼠标移动到节点上、下边框的连接桩（小圆圈）处，当鼠标指针变为十字形状（+）后，移动鼠标到另一节点的连接桩并松开鼠标，即可连线。 ",-1))),ft=lt((()=>te("div",{class:"text-h6 q-mb-md"},"如何配置节点",-1))),gt=lt((()=>te("p",null,"鼠标右键点击需要配置的节点，在弹出菜单中点击“配置”。",-1))),bt=lt((()=>te("div",{class:"text-h6 q-mb-md"},"如何查看节点",-1))),vt=lt((()=>te("p",null,"鼠标右键点击需要查看的节点，在弹出菜单中点击“查看”。",-1)));tt.render=function(e,a,t,l,o,n){return ee(),ae("div",null,[le(U,{modelValue:l.showHelpDialog,"onUpdate:modelValue":[a[3]||(a[3]=e=>l.showHelpDialog=e),l.close],onEscapeKey:l.close},{default:oe((()=>[le(N,{style:{width:"600px","max-width":"80vw"}},{default:oe((()=>[le(z,null,{default:oe((()=>[te("div",ot,[nt,le(f),le(c,{dense:"",flat:"",icon:"close",onClick:l.close},null,8,["onClick"])])])),_:1}),le(z,{class:"q-pt-none"},{default:oe((()=>[le(V,{limits:[20,30],modelValue:l.splitterModel,"onUpdate:modelValue":a[2]||(a[2]=e=>l.splitterModel=e)},{before:oe((()=>[le(T,{modelValue:l.tab,"onUpdate:modelValue":a[0]||(a[0]=e=>l.tab=e),vertical:"",class:"text-primary"},{default:oe((()=>[le(E,{name:"如何新增",label:"如何新增"}),le(E,{name:"如何删除",label:"如何删除"}),le(E,{name:"如何移动",label:"如何移动"}),le(E,{name:"如何连线",label:"如何连线"}),le(E,{name:"如何配置节点",label:"如何配置节点"}),le(E,{name:"如何查看节点",label:"如何查看节点"})])),_:1},8,["modelValue"])])),after:oe((()=>[le(j,{modelValue:l.tab,"onUpdate:modelValue":a[1]||(a[1]=e=>l.tab=e),animated:"",swipeable:"",vertical:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:oe((()=>[le(I,{name:"如何新增"},{default:oe((()=>[st,dt])),_:1}),le(I,{name:"如何删除"},{default:oe((()=>[it,rt])),_:1}),le(I,{name:"如何移动"},{default:oe((()=>[ct,ut])),_:1}),le(I,{name:"如何连线"},{default:oe((()=>[pt,mt])),_:1}),le(I,{name:"如何配置节点"},{default:oe((()=>[ft,gt])),_:1}),le(I,{name:"如何查看节点"},{default:oe((()=>[bt,vt])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","onEscapeKey"])])},tt.__scopeId="data-v-39d1857c";const ht={components:{Codemirror:$},props:{openCodeDialog:{type:Boolean},data:{type:String}},setup(e){const a=se();return{copy:()=>{S(e.data).then((()=>{C.create({type:"positive",message:"已复制数据到剪贴板！"})})).catch((()=>{C.create({type:"negative",message:"复制数据失败！"})}))},close:()=>{a.parent.proxy.closeCode()},showCodeDialog:re((()=>e.openCodeDialog)),cmOptions:{mode:"application/json",tabSize:2,matchBrackets:!0,lineNumbers:!0,readOnly:!0}}}},yt={class:"text-h6 row"},kt=de(" 查看数据");ht.render=function(e,a,t,l,o,n){const s=we("Codemirror");return ee(),ae("div",null,[le(U,{modelValue:l.showCodeDialog,"onUpdate:modelValue":[a[1]||(a[1]=e=>l.showCodeDialog=e),l.close],onEscapeKey:l.close},{default:oe((()=>[le(N,{style:{"min-width":"600px","max-width":"80vw"}},{default:oe((()=>[le(z,null,{default:oe((()=>[te("div",yt,[kt,le(f),le(c,{dense:"",flat:"",icon:"content_copy",onClick:l.copy},null,8,["onClick"]),le(c,{dense:"",flat:"",icon:"close",onClick:l.close},null,8,["onClick"])])])),_:1}),le(z,{class:"q-pt-none"},{default:oe((()=>[le(s,{value:t.data,"onUpdate:value":a[0]||(a[0]=e=>t.data=e),options:l.cmOptions},null,8,["value","options"])])),_:1})])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","onEscapeKey"])])};const{Dnd:_t}=K;var wt=De({components:{ToolBar:Te,LeftDrawer:We,RightDrawer:Fa,HelpDialog:tt,CodeDialog:ht},setup(){const e=O();let a;const t=ie({}),l=ie(""),o=ie(""),s=ie(),d=ie(100),i=ie(!0),r=ie(!0),c=ie(!1),u=ie(!1),p=ie({}),m=ie(!1),f={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}}},items:[{group:"top"},{group:"bottom"}]};let g={name:"测试工作流20220128-1",externalId:"w-workflow-20220128",materialName:"w",jobs:[{externalId:"fe94ef60-b536-22bb-61fd-6b3a2222be17",cpuCores:"2",appUseCase:"ab08ad37-055b-b368-58aa-037620228cf8",name:"Simulate1脚本",htc:!1},{externalId:"4557647d-19bc-b1d7-5aec-4963dfe83b28",cpuCores:"1",appUseCase:"f30223f0-a215-4402-38ba-067a917b095d",name:"Simulate2脚本",htc:!1},{externalId:"35344a12-c8d7-1e2c-704f-b10a9b56e2c6",cpuCores:"2",appUseCase:"c0121580-1097-418f-14be-170e474fb8d3",name:"Simulate3脚本",htc:!0},{externalId:"8c6f878b-ffa0-e51b-93d2-0e65344d7f56",cpuCores:"2",appUseCase:"f4f1357b-1bfc-6797-5030-b9822d910e73",name:"Simulate4脚本",htc:!1},{externalId:"ba2f49b7-912e-de79-50a3-8e6d4083f681",cpuCores:"1",appUseCase:"1d6913e0-32bd-4563-a073-4900579da937",name:"Simulate5脚本",htc:!1},{externalId:"7a65b4d8-12bd-bd09-170c-cf37cc0a568a",cpuCores:"2",appUseCase:"81abf716-a0f8-f064-cabe-6e4e44442825",name:"Simulate6脚本",htc:!1}],dependencies:[{externalId:"ba832c2b-7ff3-4b24-be99-53ad0f949161",jobExternalId:"4557647d-19bc-b1d7-5aec-4963dfe83b28",jobDependencyExternalId:"fe94ef60-b536-22bb-61fd-6b3a2222be17",fileDependencies:[{targetAppFile:"0a9c2cb6-3dc7-9a00-55f1-33f2e31f5561",dependencyAppFile:"2ae998c2-7a33-65a4-a9b1-07a101ec695c",dependencyType:"appFile"},{targetAppFile:"d499e05c-a1a1-f365-184a-06f64438d81f",dependencyAppFile:"f055da12-e175-3f38-c2df-4a589ddc5db9",dependencyType:"appFile"}]},{externalId:"6201ebaf-5c4a-4211-a9ca-7ecb367c9e25",jobExternalId:"35344a12-c8d7-1e2c-704f-b10a9b56e2c6",jobDependencyExternalId:"fe94ef60-b536-22bb-61fd-6b3a2222be17",fileDependencies:[{targetAppFile:"b098bf40-eb8c-30d8-ef16-8f21ab41b248",dependencyAppFile:"1191f899-eaad-b87c-8936-5cf96d72d1c4",dependencyType:"appFile"}]},{externalId:"a5b8558d-12c8-4ec8-a69f-cbcc7e1dbea7",jobExternalId:"8c6f878b-ffa0-e51b-93d2-0e65344d7f56",jobDependencyExternalId:"4557647d-19bc-b1d7-5aec-4963dfe83b28",fileDependencies:[{targetAppFile:"56c90586-a686-5330-0b16-72a231212171",dependencyAppFile:"56984e29-f833-adae-9253-882e255d2e3b",dependencyType:"appFile"}]},{externalId:"9eda6ea8-d91b-4b1c-9cfb-4a46be11b698",jobExternalId:"ba2f49b7-912e-de79-50a3-8e6d4083f681",jobDependencyExternalId:"4557647d-19bc-b1d7-5aec-4963dfe83b28"},{externalId:"080cf216-4e96-4b31-b664-8666e3f98b41",jobExternalId:"7a65b4d8-12bd-bd09-170c-cf37cc0a568a",jobDependencyExternalId:"35344a12-c8d7-1e2c-704f-b10a9b56e2c6"}]};const b=ie({name:"",id:"",materialName:""});let v={nodes:[],edges:[]};const h=()=>{a.centerContent()},y=()=>{const e=a.toJSON().cells;let t=[],l=[];for(let a=0,o=e.length;a<o;a++)"default-edge"===e[a].shape?l.push({externalId:e[a].id,jobExternalId:e[a].target.cell,jobDependencyExternalId:e[a].source.cell,fileDependencies:e[a].fileDependencies}):t.push({externalId:e[a].id,cpuCores:e[a].data.cpuCores,appUseCase:e[a].data.appUseCase,name:e[a].data.name,htc:e[a].data.htc});p.value={name:b.value.name,externalId:b.value.id,materialName:b.value.materialName,jobs:t,dependencies:l}},k=()=>{y(),g=p.value,_(),a.dispose(),w(),x(),C(),h()};const _=()=>{if(g.name&&(b.value.name=g.name),g.externalId&&(b.value.id=g.externalId),g.materialName&&(b.value.materialName=g.materialName),0!==g.jobs.length){const e=g.jobs;for(let a=0,t=e.length;a<t;a++)v.nodes.push({id:e[a].externalId,data:{name:e[a].name,cpuCores:e[a].cpuCores,appUseCase:e[a].appUseCase,status:"default",htc:e[a].htc},shape:"default-node",ports:n({},f)})}if(0!==g.dependencies.length){const e=g.dependencies;for(let a=0,t=e.length;a<t;a++)v.edges.push({id:e[a].externalId,source:e[a].jobDependencyExternalId,target:e[a].jobExternalId,fileDependencies:e[a].fileDependencies,shape:"default-edge",zIndex:-1})}};function w(){new Y({type:"dagre",ranksep:40,nodesep:60,controlPoints:!1}).layout(v);a=new X({container:document.getElementById("container"),autoResize:!0,height:window.innerHeight-52,background:{color:"#f7f7fa"},grid:{size:10,visible:m.value,type:"dot",args:{color:"#a0a0a0",thickness:1}},snapline:!0,panning:!0,keyboard:!1,mousewheel:{enabled:!0,zoomAtMousePosition:!0,modifiers:"ctrl",minScale:.5,maxScale:3},history:{enabled:!0,ignoreChange:!0},selecting:{enabled:!0,multiple:!1,rubberEdge:!0,showNodeSelectionBox:!0,showEdgeSelectionBox:!0},connecting:{allowPort:!0,allowEdge:!1,allowNode:!1,allowLoop:!1,allowMulti:!1,allowBlank:!1,highlight:!0,snap:!0,router:{name:"er",args:{offset:"center",direction:"V"}},connector:{name:"rounded",args:{radius:45}},anchor:"center",connectionPoint:{name:"bbox"},validateConnection:({targetMagnet:e,sourceCell:t,targetCell:l})=>!a.toJSON().cells.find((e=>{if("edge"===e.shape&&e.target.cell===t.id&&e.source.cell===l.id)return!0}))&&!!e,createEdge:()=>a.createEdge({shape:"default-edge",attrs:{line:{strokeDasharray:"5 5"}},zIndex:-1})},highlighting:{magnetAvailable:{name:"stroke"},magnetAdsorbed:{name:"stroke",args:{attrs:{fill:"#fff",stroke:"#31d0c6"}}}}}).fromJSON(v)}const x=()=>{t.value=new _t({target:a,validateNode:()=>!0})};function C(){a.on("node:contextmenu",(({node:e})=>{o.value="node",l.value=e.id})),a.on("edge:contextmenu",(({edge:e})=>{o.value="edge",l.value=e.id})),a.on("blank:contextmenu",(()=>{o.value="blank",l.value=""})),a.on("cell:mousewheel",(()=>{setTimeout((()=>{d.value=Number((100*a.zoom()).toFixed(0))}),50)})),a.on("blank:mousewheel",(()=>{setTimeout((()=>{d.value=Number((100*a.zoom()).toFixed(0))}),50)})),a.on("node:click",(({node:e})=>{s.value.nodeClickResponse(e)})),a.on("edge:click",(({edge:e})=>{s.value.edgeClickResponse(e)})),a.on("blank:click",(({})=>{s.value.blankClickResponse()})),a.on("node:mousemove",(({node:e})=>{s.value.nodeMouseMoveResponse(e)})),a.on("edge:connected",(({edge:e})=>{e.attr({line:{strokeDasharray:""}})})),a.on("node:change:data",(({node:e})=>{const t=e.getData(),l=a.getIncomingEdges(e),o=a.getOutgoingEdges(e);null==l||l.forEach((e=>{"running"===t.status?(e.attr("line/strokeDasharray",5),e.attr("line/style/animation","running-line 30s infinite linear")):(e.attr("line/strokeDasharray",""),e.attr("line/style/animation",""))})),null==o||o.forEach((e=>{!0===t.htc?(e.attr("line/strokeWidth",5),e.attr("line/targetMarker/name","path"),e.attr("line/targetMarker/offsetX",-8),e.attr("line/targetMarker/d","M5.5,15.499,15.8,21.447,15.8,15.846,25.5,21.447,25.5,9.552,15.8,15.152,15.8,9.552z")):(e.attr("line/strokeWidth",1.5),e.attr("line/targetMarker/name","path"),e.attr("line/targetMarker/offsetX",-5),e.attr("line/targetMarker/d","M10.3,11.9L10.3,6.29L10.3,5.6L10.3,0L0,5.95L10.3,11.9Z"))}))})),a.on("edge:added",(()=>{q()}))}const D=(e,t)=>{const l=a.getNodes()[e];let o=l.getData();l.setData({name:o.name,status:t})},q=()=>{const e=a.getNodes();for(let a=0,t=e.length;a<t;a++)e[a].getData().htc&&(e[a].setData({htc:!1}),e[a].setData({htc:!0}))};return Ce((()=>{_(),X.registerNode("default-node",{inherit:"vue-shape",width:200,height:36,component:Wa},!0),X.registerEdge("default-edge",{inherit:"edge",attrs:{line:{stroke:"#c2c8d5",strokeWidth:1.5,targetMarker:{name:"path",offsetX:-5,d:"M10.3,11.9L10.3,6.29L10.3,5.6L10.3,0L0,5.95L10.3,11.9Z"}}}},!0),w(),x(),C(),q(),h()})),{undo:()=>{a.undo()},redo:()=>{a.redo()},zoomIn:()=>{d.value<=280&&(a.zoom(.2),setTimeout((()=>{d.value=Number((100*a.zoom()).toFixed(0))}),50))},zoomOut:()=>{d.value>=70&&(a.zoom(-.2),setTimeout((()=>{d.value=Number((100*a.zoom()).toFixed(0))}),50))},centerContent:h,choiceType:o,addNode:()=>{const t=a.toJSON().cells.find((e=>e.id==l.value)),o="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var a=16*Math.random()|0;return("x"==e?a:3&a|8).toString(16)}));a.addNode({id:o,data:{name:"未命名节点",cpuCores:"",appUseCase:"",status:"default",htc:!1},shape:"default-node",ports:n({},f),x:null==t?void 0:t.position.x,y:(null==t?void 0:t.position.y)+160}),a.addEdge({source:null==t?void 0:t.id,target:o,shape:"default-edge",zIndex:-1}),q(),e.notify({message:"添加节点成功！进行自动布局？",type:"positive",multiLine:!0,actions:[{label:"否",color:"white",handler:()=>{}},{label:"是",color:"yellow",handler:()=>{k()}}]})},deleteNode:()=>{a.removeNode(l.value),e.notify({message:"删除节点成功！",type:"positive"})},deleteEdge:()=>{a.removeEdge(l.value),e.notify({message:"删除连线成功！",type:"positive"})},refresh:()=>{a.clearCells(),e.notify({message:"清空画布成功！",type:"positive"})},nodeSetting:()=>{e.dialog({options:{type:"radio",model:"opt1",items:[{label:"使用本地参数文件",value:"opt1",color:"secondary"},{label:"在线配置参数",value:"opt2"}]},persistent:!0,ok:"继续",cancel:"取消"}).onOk((a=>{e.notify({message:"选择了 "+a,color:"primary"})}))},showNode:()=>{y(),p.value=JSON.stringify(p.value.jobs.find((e=>e.externalId==l.value)),null,2),u.value=!0},showEdge:()=>{y(),p.value=JSON.stringify(p.value.dependencies.find((e=>e.externalId==l.value)),null,2),u.value=!0},showData:()=>{y(),p.value=JSON.stringify(p.value,null,2),u.value=!0},downloadData:()=>{e.dialog({title:"提示",message:"确定要下载该流程数据吗？",ok:"确定",cancel:"取消",persistent:!0}).onOk((()=>{y();const a="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(p.value,null,"\t")),t=document.createElement("a");t.setAttribute("href",a),t.setAttribute("download","data"+M.formatDate(new Date,"YYYYMMDDHHmm")+".json"),t.click(),t.remove(),e.notify({message:"正在下载中，请稍候...",color:"primary"})}))},shGird:()=>{!0===m.value?a.hideGrid():a.showGrid(),m.value=!m.value},layout:k,shLeftDrawer:()=>{i.value=!i.value,!0===i.value&&!0===r.value?a.resize(window.innerWidth-600,window.innerHeight-52):!0===i.value&&!1===r.value||!1===i.value&&!0===r.value?a.resize(window.innerWidth-300,window.innerHeight-52):a.resize(window.innerWidth,window.innerHeight-52)},shRightDrawer:function(){r.value=!r.value,!0===i.value&&!0===r.value?a.resize(window.innerWidth-600,window.innerHeight-52):!0===i.value&&!1===r.value||!1===i.value&&!0===r.value?a.resize(window.innerWidth-300,window.innerHeight-52):a.resize(window.innerWidth,window.innerHeight-52)},showLeftDrawer:i,showRightDrawer:r,zoom:d,rightDrawer:s,startDrag:(e,l)=>{const o=a.createNode(l.node);t.value.start(o,e)},runWorkFlow:()=>{D(0,"running"),D(1,"default"),D(2,"default"),D(3,"default"),D(4,"default"),D(5,"default"),setTimeout((()=>{D(0,"success"),D(1,"running"),D(2,"running"),setTimeout((()=>{D(1,"success"),D(3,"running"),D(4,"running"),setTimeout((()=>{D(3,"success"),setTimeout((()=>{D(4,"warning")}),3e3)}),1e3)}),1e3),setTimeout((()=>{D(2,"success"),D(5,"running"),setTimeout((()=>{D(5,"error")}),1e3)}),3e3)}),2e3)},openHelpDialog:c,help:()=>{c.value=!0},closeHelp:()=>{c.value=!1},closeCode:()=>{u.value=!1},openCodeDialog:u,jsonData:p,flow:b}}});const xt={id:"container"},Ct=de("查看"),Dt=de("配置"),qt=de("添加"),Nt=de("删除"),zt=de("查看"),Vt=de("删除"),Tt=de("撤销"),Et=de("重做"),jt=de("查看"),It=de("导出"),Ut=de("更多"),St=de("清空");wt.render=function(e,a,t,l,o,n){const s=we("LeftDrawer"),d=we("RightDrawer"),i=we("ToolBar"),r=we("HelpDialog"),c=we("CodeDialog");return ee(),ae("div",null,[le(s,{showLeftDrawer:e.showLeftDrawer},null,8,["showLeftDrawer"]),le(d,{ref:"rightDrawer",showRightDrawer:e.showRightDrawer,flow:e.flow},null,8,["showRightDrawer","flow"]),te("div",xt,[le(R,{"touch-position":"","context-menu":""},{default:oe((()=>["node"==e.choiceType?(ee(),ce(x,{key:0,dense:"",style:{"min-width":"100px"}},{default:oe((()=>[be((ee(),ce(h,{clickable:""},{default:oe((()=>[le(y,{onClick:e.showNode},{default:oe((()=>[Ct])),_:1},8,["onClick"])])),_:1})),[[L]]),be((ee(),ce(h,{clickable:""},{default:oe((()=>[le(y,{onClick:e.nodeSetting},{default:oe((()=>[Dt])),_:1},8,["onClick"])])),_:1})),[[L]]),le(u),be((ee(),ce(h,{clickable:""},{default:oe((()=>[le(y,{onClick:e.addNode},{default:oe((()=>[qt])),_:1},8,["onClick"])])),_:1})),[[L]]),le(u),be((ee(),ce(h,{clickable:""},{default:oe((()=>[le(y,{onClick:e.deleteNode},{default:oe((()=>[Nt])),_:1},8,["onClick"])])),_:1})),[[L]])])),_:1})):ue("",!0),"edge"==e.choiceType?(ee(),ce(x,{key:1,dense:"",style:{"min-width":"100px"}},{default:oe((()=>[be((ee(),ce(h,{clickable:""},{default:oe((()=>[le(y,{onClick:e.showEdge},{default:oe((()=>[zt])),_:1},8,["onClick"])])),_:1})),[[L]]),le(u),be((ee(),ce(h,{clickable:""},{default:oe((()=>[le(y,{onClick:e.deleteEdge},{default:oe((()=>[Vt])),_:1},8,["onClick"])])),_:1})),[[L]])])),_:1})):ue("",!0),"blank"==e.choiceType?(ee(),ce(x,{key:2,dense:"",style:{"min-width":"100px"}},{default:oe((()=>[be((ee(),ce(h,{clickable:""},{default:oe((()=>[le(y,{onClick:e.undo},{default:oe((()=>[Tt])),_:1},8,["onClick"])])),_:1})),[[L]]),be((ee(),ce(h,{clickable:""},{default:oe((()=>[le(y,{onClick:e.redo},{default:oe((()=>[Et])),_:1},8,["onClick"])])),_:1})),[[L]]),le(u),be((ee(),ce(h,{clickable:""},{default:oe((()=>[le(y,{onClick:e.showData},{default:oe((()=>[jt])),_:1},8,["onClick"])])),_:1})),[[L]]),be((ee(),ce(h,{clickable:""},{default:oe((()=>[le(y,{onClick:e.downloadData},{default:oe((()=>[It])),_:1},8,["onClick"])])),_:1})),[[L]]),le(u),le(h,{clickable:""},{default:oe((()=>[le(y,null,{default:oe((()=>[Ut])),_:1}),le(y,{side:""},{default:oe((()=>[le(m,{name:"keyboard_arrow_right"})])),_:1}),le(R,{anchor:"top end",self:"top start"},{default:oe((()=>[le(x,{dense:"",style:{"min-width":"100px"}},{default:oe((()=>[le(h,{clickable:""},{default:oe((()=>[le(y,{onClick:e.refresh},{default:oe((()=>[St])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):ue("",!0)])),_:1})]),le(i,{zoom:e.zoom},null,8,["zoom"]),le(r,{openHelpDialog:e.openHelpDialog},null,8,["openHelpDialog"]),le(c,{openCodeDialog:e.openCodeDialog,data:e.jsonData},null,8,["openCodeDialog","data"])])},wt.__scopeId="data-v-0a5160a5";const Ot=[{name:"index",path:"/",component:De({setup:e=>(e,a)=>(ee(),ce(wt))}),props:!0},{name:"403",path:"/403",component:()=>Ve((()=>__import__("./403.3e3f865a.js")),["/assets/403.3e3f865a.js","/assets/403.1982665d.css","/assets/vendor-quasar.d389f6de.js","/assets/vendor-quasar.e6e7e7ca.css","/assets/vendor-@vue.6c08681e.js"]),props:!0,meta:{layout:"blank"}},{name:"login",path:"/login",component:()=>Ve((()=>__import__("./login.02cdaa1a.js")),["/assets/login.02cdaa1a.js","/assets/login.a8b0668f.css","/assets/vendor-@quasar.7f0fabf4.css","/assets/vendor-quasar.d389f6de.js","/assets/vendor-quasar.e6e7e7ca.css","/assets/vendor-@vue.6c08681e.js","/assets/vendor-vue.ff9ab330.js","/assets/vendor.7447b5ad.js","/assets/vendor.2097f091.css"]),props:!0,meta:{layout:"blank"}},{name:"register",path:"/register",component:()=>Ve((()=>__import__("./register.35ea8223.js")),["/assets/register.35ea8223.js","/assets/register.70bc86e7.css","/assets/vendor-quasar.d389f6de.js","/assets/vendor-quasar.e6e7e7ca.css","/assets/vendor-@vue.6c08681e.js"]),props:!0,meta:{layout:"blank"}},{name:"all",path:"/:all(.*)*",component:()=>Ve((()=>__import__("./_.582dd083.js")),["/assets/_.582dd083.js","/assets/_.8aac3b79.css","/assets/vendor-vue.ff9ab330.js","/assets/vendor-@vue.6c08681e.js","/assets/vendor.7447b5ad.js","/assets/vendor.2097f091.css"]),props:!0,meta:{layout:"blank"}}];var Mt={setup:()=>({})};const Rt=de(" X6Editor ");Mt.render=function(e,a,t,l,o,n){const s=we("router-view");return ee(),ce(B,{view:"hHh lpR fFf"},{default:oe((()=>[le(A,{class:"my-header"},{default:oe((()=>[le(F,null,{default:oe((()=>[le(H,{class:"text-black"},{default:oe((()=>[le(P,null,{default:oe((()=>[le(m,{name:"map",size:"28px"})])),_:1}),Rt])),_:1})])),_:1})])),_:1}),le(W,{class:"my-page-container"},{default:oe((()=>[le(s)])),_:1})])),_:1})},Mt.__scopeId="data-v-6d59b668";const Lt={blank:()=>Ve((()=>__import__("./blank.40150fea.js")),["/assets/blank.40150fea.js","/assets/blank.847bd984.css","/assets/vendor-quasar.d389f6de.js","/assets/vendor-quasar.e6e7e7ca.css","/assets/vendor-@vue.6c08681e.js"]),default:Mt};const Ft=Ot.map((e=>{var a;return{path:e.path,component:Lt[(null==(a=e.meta)?void 0:a.layout)||"default"],children:[n(n({},e),{path:""})]}}));const Ht=s({history:d(),routes:Ft});Ht.beforeEach(((e,a,t)=>{t()}));const Pt=[],At=Z.create({});At.interceptors.request.use((e=>e)),At.interceptors.response.use((e=>e.data),(async e=>{const a=e.response;var t;return 401===(t=a.data).status?(G.set("lastUrl",Ht.currentRoute.value.fullPath),setTimeout((()=>{Ht.push({name:"login",params:{redirect:Ht.currentRoute.value.fullPath}})}),350)):C.create({type:"warning",position:"top",message:Pt[t.data]||Pt[t.code]||t.message}),Promise.reject(a)}));var Wt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",api:At,axios:Z}),Bt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{404:e=>{const{normalize:a}=e;return a(["Not found"])},"User Disabled":e=>{const{normalize:a}=e;return a(["User has been disabled"])}}}),Gt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{index:{msg:e=>{const{normalize:a}=e;return a(["left menus are auto generate by vite-plugin-pages and vite-plugin-vue-layouts"])}}}});var Jt=Object.entries({"/src/locales/en/api.yml":Bt,"/src/locales/en/page.yml":Gt}).map((([e,a])=>a.default)).reduce(((e,a)=>n(n({},e),a)),{}),$t=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Jt}),Xt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{404:e=>{const{normalize:a}=e;return a(["页面不存在"])},"User Disabled":e=>{const{normalize:a}=e;return a(["用户已被禁封"])}}}),Yt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{index:{msg:e=>{const{normalize:a}=e;return a(["左侧菜单由 vite-plugin-pages 和 vite-plugin-vue-layouts 自动生成"])}}}});var Kt=Object.entries({"/src/locales/zh/api.yml":Xt,"/src/locales/zh/page.yml":Yt}).map((([e,a])=>a.default)).reduce(((e,a)=>n(n({},e),a)),{}),Zt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Kt});const Qt=Object.fromEntries(Object.entries({"/src/locales/en.ts":$t,"/src/locales/zh.ts":Zt}).map((([e,a])=>[e.slice(13,-3),a.default])));var el=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:e=>{const a=i({locale:"en",messages:Qt});e.use(a)}});var al=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:e=>{const a=Q();e.use(a)}});const tl={plugins:{Notify:C,Dialog:q,LocalStorage:G}};var ll=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:e=>{e.use(J,tl)}});var ol=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:e=>{e.use(Ht)}});const nl={};nl.render=function(e,a){const t=we("router-view");return ee(),ce(t)};const sl=qe(nl);Object.values({"/src/modules/axios.ts":Wt,"/src/modules/i18n.ts":el,"/src/modules/pinia.ts":al,"/src/modules/quasar.ts":ll,"/src/modules/router.ts":ol}).forEach((e=>{var a;return null==(a=e.install)?void 0:a.call(e,sl)})),sl.mount("#app");export{At as a};
