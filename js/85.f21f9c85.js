"use strict";(self["webpackChunkquasar_x6_editor"]=self["webpackChunkquasar_x6_editor"]||[]).push([[85],{1085:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Uo});var l=a(3673);function o(e,t,a,o,n,s){const d=(0,l.up)("X6Editor");return(0,l.wg)(),(0,l.j4)(d)}var n=a(8880);const s={id:"container"},d={id:"minimap"};function i(e,t,a,o,i,c){const r=(0,l.up)("Header"),u=(0,l.up)("LeftDrawer"),m=(0,l.up)("RightDrawer"),p=(0,l.up)("ContextMenu"),f=(0,l.up)("ToolBar"),w=(0,l.up)("HelpDialog"),k=(0,l.up)("CodeDialog"),g=(0,l.up)("AmisDialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(r,{flow:e.flow},null,8,["flow"]),(0,l.Wm)(u),(0,l.Wm)(m,{ref:"rightDrawer",flow:e.flow},null,8,["flow"]),(0,l._)("div",s,[(0,l.Wm)(p,{choiceType:e.choiceType,onShowNode:e.showNode,onNodeSetting:e.nodeSetting,onAddNode:e.addNode,onDeleteNode:e.deleteNode,onShowEdge:e.showEdge,onDeleteEdge:e.deleteEdge,onUndo:e.undo,onRedo:e.redo,onShowData:e.showData,onDownloadData:e.downloadData,onRefresh:e.refresh},null,8,["choiceType","onShowNode","onNodeSetting","onAddNode","onDeleteNode","onShowEdge","onDeleteEdge","onUndo","onRedo","onShowData","onDownloadData","onRefresh"])]),(0,l.wy)((0,l._)("div",d,null,512),[[n.F8,e.editorStore.showMinimap]]),(0,l.Wm)(f,{zoom:e.zoom},null,8,["zoom"]),(0,l.Wm)(w),(0,l.Wm)(k,{data:e.jsonData},null,8,["data"]),(0,l.Wm)(g)])}a(5363),a(9676),a(2100);var c=a(6853),r=a(4921),u=a(8825),m=a(1082),p=a(6395),f=a(1959);const w={id:"toolbar",class:"row items-center back-blur"},k=(0,l.Uk)(" 显示缩略图 "),g=(0,l.Uk)(" 显示网点 "),b=(0,l.Uk)(" 50% "),h=(0,l.Uk)(" 75% "),_=(0,l.Uk)(" 100% "),x=(0,l.Uk)(" 125% "),y=(0,l.Uk)(" 150% "),v=(0,l.Uk)(" 200% "),C=(0,l.Uk)(" 300% "),W=(0,l.Uk)(" 重置比例 "),D=(0,l.Uk)(" 适应内容 "),q=(0,l.Uk)(" 放大 (Ctrl + 滚轮向上) "),U=(0,l.Uk)(" 缩小 (Ctrl + 滚轮向下) "),Z=(0,l.Uk)(" 撤销 "),z=(0,l.Uk)(" 重做 "),T=(0,l.Uk)(" 居中 "),S=(0,l.Uk)(" 自动布局 ");function N(e,t,a,o,n,s){const d=(0,l.up)("q-item-section"),i=(0,l.up)("q-icon"),c=(0,l.up)("q-item"),r=(0,l.up)("q-list"),u=(0,l.up)("q-btn-dropdown"),m=(0,l.up)("q-separator"),p=(0,l.up)("q-tooltip"),f=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",w,[(0,l.Wm)(u,{flat:"",dense:"",icon:"settings",class:"q-ml-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{clickable:"",onClick:e.shMinimap},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[k])),_:1}),(0,l.Wm)(d,{side:""},{default:(0,l.w5)((()=>[e.editorStore.showMinimap?((0,l.wg)(),(0,l.j4)(i,{key:1,left:"",name:"check_box",class:"q-mr-none"})):((0,l.wg)(),(0,l.j4)(i,{key:0,left:"",name:"check_box_outline_blank",class:"q-mr-none"}))])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(c,{clickable:"",onClick:e.shGrid},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[g])),_:1}),(0,l.Wm)(d,{side:""},{default:(0,l.w5)((()=>[e.editorStore.showGrid?((0,l.wg)(),(0,l.j4)(i,{key:1,left:"",name:"check_box",class:"q-mr-none"})):((0,l.wg)(),(0,l.j4)(i,{key:0,left:"",name:"check_box_outline_blank",class:"q-mr-none"}))])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,l.Wm)(m,{vertical:"",inset:""}),(0,l.Wm)(u,{flat:"",dense:"",label:e.zoom+"%",class:"q-ml-xs",style:{width:"68px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{clickable:"",onClick:t[0]||(t[0]=t=>e.zoomTo(.5))},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[b])),_:1})])),_:1}),(0,l.Wm)(c,{clickable:"",onClick:t[1]||(t[1]=t=>e.zoomTo(.75))},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[h])),_:1})])),_:1}),(0,l.Wm)(c,{clickable:"",onClick:t[2]||(t[2]=t=>e.zoomTo(1))},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[_])),_:1})])),_:1}),(0,l.Wm)(c,{clickable:"",onClick:t[3]||(t[3]=t=>e.zoomTo(1.25))},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[x])),_:1})])),_:1}),(0,l.Wm)(c,{clickable:"",onClick:t[4]||(t[4]=t=>e.zoomTo(1.5))},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[y])),_:1})])),_:1}),(0,l.Wm)(c,{clickable:"",onClick:t[5]||(t[5]=t=>e.zoomTo(2))},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[v])),_:1})])),_:1}),(0,l.Wm)(c,{clickable:"",onClick:t[6]||(t[6]=t=>e.zoomTo(3))},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[C])),_:1})])),_:1}),(0,l.Wm)(m),(0,l.Wm)(c,{clickable:"",onClick:t[7]||(t[7]=t=>e.zoomTo(1))},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[W])),_:1})])),_:1}),(0,l.Wm)(c,{clickable:"",onClick:e.zoomToFit},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[D])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1},8,["label"]),(0,l.Wm)(m,{vertical:"",inset:""}),(0,l.Wm)(f,{flat:"",dense:"",icon:"zoom_in",onClick:e.zoomIn,class:"q-ml-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{offset:[8,8]},{default:(0,l.w5)((()=>[q])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(f,{flat:"",dense:"",icon:"zoom_out",onClick:e.zoomOut},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{offset:[8,8]},{default:(0,l.w5)((()=>[U])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(m,{vertical:"",inset:"",class:"q-ml-xs"}),(0,l.Wm)(f,{flat:"",dense:"",icon:"undo",onClick:e.undo,class:"q-ml-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{offset:[8,8]},{default:(0,l.w5)((()=>[Z])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(f,{flat:"",dense:"",icon:"redo",onClick:e.redo},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{offset:[8,8]},{default:(0,l.w5)((()=>[z])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(m,{vertical:"",inset:"",class:"q-ml-xs"}),(0,l.Wm)(f,{flat:"",dense:"",icon:"center_focus_weak",onClick:e.centerContent},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{offset:[8,8]},{default:(0,l.w5)((()=>[T])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(f,{flat:"",dense:"",icon:"timeline",onClick:e.layout,class:"q-mr-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{offset:[8,8]},{default:(0,l.w5)((()=>[S])),_:1})])),_:1},8,["onClick"])])])}var I=a(321);const Q=(0,I.Q_)("editorStore",{state:()=>({showLeftDrawer:!0,showRightDrawer:!0,showGrid:!0,showMinimap:!1,openHelpDialog:!1,openCodeDialog:!1,graphWidth:window.innerWidth-600}),actions:{}}),j=(0,l.aZ)({props:{zoom:{type:Number}},setup(){const e=(0,l.FN)(),t=Q(),a=()=>{e.parent.proxy.undo()},o=()=>{e.parent.proxy.redo()},n=()=>{e.parent.proxy.zoomIn()},s=()=>{e.parent.proxy.zoomOut()},d=()=>{e.parent.proxy.centerContent()},i=()=>{e.parent.proxy.shGrid()},c=()=>{e.parent.proxy.shMinimap()},r=()=>{e.parent.proxy.layout()},u=()=>{e.parent.proxy.showData()},m=()=>{e.parent.proxy.downloadData()},p=()=>{e.parent.proxy.runWorkFlow()},f=()=>{e.parent.proxy.help()},w=t=>{e.parent.proxy.zoomTo(t)},k=()=>{e.parent.proxy.zoomToFit()};return{undo:a,redo:o,zoomIn:n,zoomOut:s,centerContent:d,shGrid:i,layout:r,showData:u,downloadData:m,runWorkFlow:p,help:f,shMinimap:c,zoomTo:w,zoomToFit:k,editorStore:t}}});var V=a(4260),F=a(2165),E=a(8870),M=a(2226),R=a(7011),H=a(3414),L=a(8149),O=a(4554),A=a(5869),B=a(677),G=a(7518),J=a.n(G);const P=(0,V.Z)(j,[["render",N],["__scopeId","data-v-340cc63a"]]),K=P;J()(j,"components",{QBtn:F.Z,QTooltip:E.Z,QBtnDropdown:M.Z,QList:R.Z,QItem:H.Z,QItemSection:L.Z,QIcon:O.Z,QSeparator:A.Z}),J()(j,"directives",{ClosePopup:B.Z});a(71);var $=a(2323);const Y=e=>((0,l.dD)("data-v-587e2d65"),e=e(),(0,l.Cn)(),e),X=(0,l.Uk)(" 隐藏组件库 "),ee=(0,l.Uk)(" 显示组件库 "),te={class:"text-body1 text-bold q-px-sm"},ae={class:"text-body2 row items-center"},le={class:"q-px-sm cursor-pointer non-selectable relative-position flex flex-center toolbar-a"},oe=(0,l.Uk)(" 文件 "),ne=(0,l.Uk)(" 导入文件 "),se=(0,l.Uk)(" 查看数据 "),de=(0,l.Uk)(" 导出数据 "),ie=(0,l.Uk)(" 保存 "),ce=(0,l.Uk)(" 关闭！ "),re={class:"q-px-sm cursor-pointer non-selectable relative-position flex flex-center toolbar-a"},ue=(0,l.Uk)(" 编辑 "),me=(0,l.Uk)(" 撤销 "),pe=(0,l.Uk)(" 重做 "),fe=(0,l.Uk)("更多"),we=(0,l.Uk)("清空"),ke={class:"q-px-sm cursor-pointer non-selectable relative-position flex flex-center toolbar-a"},ge=(0,l.Uk)(" 视图 "),be=(0,l.Uk)(" 显示缩略图 "),he=(0,l.Uk)(" 显示网点 "),_e=(0,l.Uk)(" 放大 "),xe=(0,l.Uk)(" Ctrl+滚轮向上 "),ye=(0,l.Uk)(" 缩小 "),ve=(0,l.Uk)(" Ctrl+滚轮向下 "),Ce=(0,l.Uk)(" 居中 "),We=(0,l.Uk)(" 自动布局 "),De=(0,l.Uk)(" 重置比例 "),qe=(0,l.Uk)(" 适应内容 "),Ue=(0,l.Uk)(" 帮助 "),Ze=[Ue],ze=(0,l.Uk)(" 隐藏编辑 "),Te=(0,l.Uk)(" 显示编辑 "),Se=Y((()=>(0,l._)("div",{class:"text-h6"},"选择文件",-1)));function Ne(e,t,a,o,n,s){const d=(0,l.up)("q-tooltip"),i=(0,l.up)("q-btn"),c=(0,l.up)("q-item-section"),r=(0,l.up)("q-item"),u=(0,l.up)("q-separator"),m=(0,l.up)("q-list"),p=(0,l.up)("q-menu"),f=(0,l.up)("q-icon"),w=(0,l.up)("q-toolbar-title"),k=(0,l.up)("q-toolbar"),g=(0,l.up)("q-header"),b=(0,l.up)("q-card-section"),h=(0,l.up)("q-file"),_=(0,l.up)("q-card-actions"),x=(0,l.up)("q-card"),y=(0,l.up)("q-dialog"),v=(0,l.Q2)("close-popup"),C=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(g,{class:"my-header"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{class:"text-black"},{default:(0,l.w5)((()=>[e.editorStore.showLeftDrawer?((0,l.wg)(),(0,l.j4)(i,{key:0,flat:"",round:"",dense:"",icon:"menu",onClick:e.shLeftDrawer},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{offset:[8,8]},{default:(0,l.w5)((()=>[X])),_:1})])),_:1},8,["onClick"])):((0,l.wg)(),(0,l.j4)(i,{key:1,flat:"",round:"",dense:"",icon:"menu_open",onClick:e.shLeftDrawer},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{offset:[8,8]},{default:(0,l.w5)((()=>[ee])),_:1})])),_:1},8,["onClick"])),(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l._)("div",te,(0,$.zw)(e.flow.name),1),(0,l._)("div",ae,[(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",le,[oe,(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(r,{clickable:"",onClick:t[0]||(t[0]=t=>e.openFileDialog=!0)},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[ne])),_:1})])),_:1})),[[v]]),(0,l.Wm)(u),(0,l.wy)(((0,l.wg)(),(0,l.j4)(r,{clickable:"",onClick:e.showData},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[se])),_:1})])),_:1},8,["onClick"])),[[v]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(r,{clickable:"",onClick:e.downloadData},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[de])),_:1})])),_:1},8,["onClick"])),[[v]]),(0,l.Wm)(u),(0,l.wy)(((0,l.wg)(),(0,l.j4)(r,{clickable:"",onClick:e.saveData},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[ie])),_:1})])),_:1},8,["onClick"])),[[v]]),(0,l.Wm)(u),(0,l.wy)(((0,l.wg)(),(0,l.j4)(r,{clickable:"",onClick:e.showData},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[ce])),_:1})])),_:1},8,["onClick"])),[[v]])])),_:1})])),_:1})])),[[C]]),(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",re,[ue,(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(r,{clickable:"",onClick:e.undo},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[me])),_:1})])),_:1},8,["onClick"])),[[v]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(r,{clickable:"",onClick:e.redo},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[pe])),_:1})])),_:1},8,["onClick"])),[[v]]),(0,l.Wm)(u),(0,l.Wm)(r,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[fe])),_:1}),(0,l.Wm)(c,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{name:"keyboard_arrow_right"})])),_:1}),(0,l.Wm)(p,{anchor:"top end",self:"top start"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(r,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{onClick:e.refresh},{default:(0,l.w5)((()=>[we])),_:1},8,["onClick"])])),_:1})),[[v]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),[[C]]),(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",ke,[ge,(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{clickable:"",onClick:e.shMinimap},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[be])),_:1}),(0,l.Wm)(c,{side:""},{default:(0,l.w5)((()=>[e.editorStore.showMinimap?((0,l.wg)(),(0,l.j4)(f,{key:1,left:"",name:"check_box",class:"q-mr-none"})):((0,l.wg)(),(0,l.j4)(f,{key:0,left:"",name:"check_box_outline_blank",class:"q-mr-none"}))])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(r,{clickable:"",onClick:e.shGrid},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[he])),_:1}),(0,l.Wm)(c,{side:""},{default:(0,l.w5)((()=>[e.editorStore.showGrid?((0,l.wg)(),(0,l.j4)(f,{key:1,left:"",name:"check_box",class:"q-mr-none"})):((0,l.wg)(),(0,l.j4)(f,{key:0,left:"",name:"check_box_outline_blank",class:"q-mr-none"}))])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(u),(0,l.Wm)(r,{clickable:"",onClick:e.zoomIn},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[_e])),_:1}),(0,l.Wm)(c,{side:""},{default:(0,l.w5)((()=>[xe])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(r,{clickable:"",onClick:e.zoomOut},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[ye])),_:1}),(0,l.Wm)(c,{side:""},{default:(0,l.w5)((()=>[ve])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(u),(0,l.Wm)(r,{clickable:"",onClick:e.centerContent},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[Ce])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(r,{clickable:"",onClick:e.layout},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[We])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(u),(0,l.Wm)(r,{clickable:"",onClick:t[1]||(t[1]=t=>e.zoomTo(1))},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[De])),_:1})])),_:1}),(0,l.Wm)(r,{clickable:"",onClick:e.zoomToFit},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[qe])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})])),[[C]]),(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",{class:"q-px-sm cursor-pointer non-selectable relative-position flex flex-center toolbar-a",onClick:t[2]||(t[2]=(...t)=>e.help&&e.help(...t))},Ze)),[[C]])])])),_:1}),(0,l.Wm)(i,{dense:"",push:"",color:"primary",icon:"autorenew",label:"运行",onClick:e.runWorkFlow},null,8,["onClick"]),e.editorStore.showRightDrawer?((0,l.wg)(),(0,l.j4)(i,{key:2,flat:"",round:"",dense:"",icon:"menu",onClick:e.shRightDrawer,class:"q-ml-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{offset:[8,8]},{default:(0,l.w5)((()=>[ze])),_:1})])),_:1},8,["onClick"])):((0,l.wg)(),(0,l.j4)(i,{key:3,flat:"",round:"",dense:"",icon:"menu_open",onClick:e.shRightDrawer,class:"q-ml-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{offset:[8,8]},{default:(0,l.w5)((()=>[Te])),_:1})])),_:1},8,["onClick"]))])),_:1})])),_:1}),(0,l.Wm)(y,{persistent:"",modelValue:e.openFileDialog,"onUpdate:modelValue":t[4]||(t[4]=t=>e.openFileDialog=t)},{default:(0,l.w5)((()=>[(0,l.Wm)(x,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[Se])),_:1}),(0,l.Wm)(b,{class:"q-px-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{modelValue:e.file,"onUpdate:modelValue":t[3]||(t[3]=t=>e.file=t),filled:"",counter:"",accept:".json",style:{width:"300px"}},{prepend:(0,l.w5)((()=>[(0,l.Wm)(f,{name:"attach_file"})])),_:1},8,["modelValue"])])),_:1}),(0,l.Wm)(_,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(i,{flat:"",label:"取消",color:"primary",onClick:e.cancel},null,8,["onClick"]),[[v]]),(0,l.wy)((0,l.Wm)(i,{flat:"",label:"确定",color:"primary",onClick:e.importJson,"data-autofocus":"true",disabled:!e.file},null,8,["onClick","disabled"]),[[v]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}const Ie=(0,l.aZ)({props:{flow:{type:Object}},setup(){const e=(0,l.FN)(),t=(0,f.iH)(!1),a=(0,f.iH)(null),o=Q(),n=()=>{e.parent.proxy.undo()},s=()=>{e.parent.proxy.redo()},d=()=>{e.parent.proxy.zoomIn()},i=()=>{e.parent.proxy.zoomOut()},c=()=>{e.parent.proxy.centerContent()},r=()=>{e.parent.proxy.shGrid()},u=()=>{e.parent.proxy.shMinimap()},m=()=>{e.parent.proxy.layout()},p=()=>{e.parent.proxy.showData()},w=()=>{e.parent.proxy.downloadData()},k=()=>{e.parent.proxy.runWorkFlow()},g=()=>{e.parent.proxy.help()},b=t=>{e.parent.proxy.zoomTo(t)},h=()=>{e.parent.proxy.zoomToFit()},_=()=>{e.parent.proxy.refresh()},x=()=>{a.value=null},y=()=>{e.parent.proxy.saveData()},v=()=>{let t=new FileReader;t.readAsText(a.value),t.onload=()=>{e.parent.proxy.importJson(JSON.parse(t.result)),a.value=null}},C=()=>{e.parent.proxy.shLeftDrawer()},W=()=>{e.parent.proxy.shRightDrawer()};return{undo:n,redo:s,zoomIn:d,zoomOut:i,centerContent:c,shGrid:r,layout:m,showData:p,downloadData:w,runWorkFlow:k,help:g,shMinimap:u,zoomTo:b,zoomToFit:h,refresh:_,openFileDialog:t,file:a,importJson:v,cancel:x,saveData:y,shLeftDrawer:C,shRightDrawer:W,editorStore:o}}});var Qe=a(3812),je=a(9570),Ve=a(5096),Fe=a(3747),Ee=a(811),Me=a(6778),Re=a(151),He=a(5589),Le=a(3192),Oe=a(9367),Ae=a(6489);const Be=(0,V.Z)(Ie,[["render",Ne],["__scopeId","data-v-587e2d65"]]),Ge=Be;J()(Ie,"components",{QHeader:Qe.Z,QToolbar:je.Z,QBtn:F.Z,QTooltip:E.Z,QAvatar:Ve.Z,QToolbarTitle:Fe.Z,QMenu:Ee.Z,QList:R.Z,QItem:H.Z,QItemSection:L.Z,QSeparator:A.Z,QIcon:O.Z,QDialog:Me.Z,QCard:Re.Z,QCardSection:He.Z,QFile:Le.Z,QCardActions:Oe.Z}),J()(Ie,"directives",{Ripple:Ae.Z,ClosePopup:B.Z});const Je=e=>((0,l.dD)("data-v-94f011f4"),e=e(),(0,l.Cn)(),e),Pe={class:"absolute-top"},Ke=Je((()=>(0,l._)("div",null,[(0,l._)("b",null,"组件库")],-1))),$e={key:0,class:"row items-center node-label"},Ye=["onMousedown","onTouchstart"],Xe=Je((()=>(0,l._)("div",{class:"left-side"},[(0,l._)("span",{class:"material-icons status-icons",style:{color:"#808080"}}," task ")],-1))),et={class:"center"},tt=Je((()=>(0,l._)("div",{class:"right-side"},[(0,l._)("span",{class:"material-icons status-icons"}," tune ")],-1))),at={class:"row"},lt=Je((()=>(0,l._)("div",{class:"col-3"},[(0,l._)("strong",null,"name：")],-1))),ot={class:"col-9"},nt={class:"row"},st=Je((()=>(0,l._)("div",{class:"col-3"},[(0,l._)("strong",null,"appUseCase：")],-1))),dt={class:"col-9"},it={class:"row"},ct=Je((()=>(0,l._)("div",{class:"col-3"},[(0,l._)("strong",null,"cpuCores：")],-1))),rt={class:"col-9"},ut={class:"absolute-bottom"};function mt(e,t,a,o,s,d){const i=(0,l.up)("q-icon"),c=(0,l.up)("q-space"),r=(0,l.up)("q-bar"),u=(0,l.up)("q-input"),m=(0,l.up)("q-tooltip"),p=(0,l.up)("q-tree"),f=(0,l.up)("q-scroll-area"),w=(0,l.up)("q-btn"),k=(0,l.up)("q-drawer");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(k,{overlay:"",id:"leftDrawer",modelValue:e.editorStore.showLeftDrawer,"onUpdate:modelValue":t[1]||(t[1]=t=>e.editorStore.showLeftDrawer=t),width:300,bordered:"",side:"left"},{default:(0,l.w5)((()=>[(0,l._)("div",Pe,[(0,l.Wm)(r,{id:"qBarTitle"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{name:"inventory"}),Ke,(0,l.Wm)(c)])),_:1}),(0,l.Wm)(u,{outlined:"",dense:"",ref:"filterRef",modelValue:e.filter,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filter=t),class:"q-pt-xs q-px-md"},{prepend:(0,l.w5)((()=>[(0,l.Wm)(i,{name:"search"})])),append:(0,l.w5)((()=>[""!==e.filter?((0,l.wg)(),(0,l.j4)(i,{key:0,name:"clear",class:"cursor-pointer",onClick:e.resetFilter},null,8,["onClick"])):(0,l.kq)("",!0)])),_:1},8,["modelValue"])]),(0,l.Wm)(f,{class:"q-px-md",style:{height:"calc(100% - 112px)","margin-top":"76px","margin-bottom":"36px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{nodes:e.nodeList,"node-key":"id",filter:e.filter,"filter-method":e.filterMethod,"no-nodes-label":"没有节点数据！","no-results-label":"没有找到相关节点！","default-expand-all":"",class:"q-pt-sm q-pb-md"},{"default-header":(0,l.w5)((t=>[t.node.icon?((0,l.wg)(),(0,l.iD)("div",$e,[(0,l.Wm)(i,{name:t.node.icon,class:"q-mr-sm"},null,8,["name"]),(0,l._)("div",null,(0,$.zw)(t.node.data.name),1)])):((0,l.wg)(),(0,l.iD)("div",{key:1,class:"node",onMousedown:a=>e.startDrag(a,t),onTouchstart:(0,n.iM)((a=>e.startDrag(a,t)),["stop"])},[Xe,(0,l._)("div",et,(0,$.zw)(t.node.data.name),1),tt,(0,l.Wm)(m,{anchor:"center right",self:"center left",offset:[10,10]},{default:(0,l.w5)((()=>[(0,l._)("div",at,[lt,(0,l._)("div",ot,(0,$.zw)(t.node.data.name),1)]),(0,l._)("div",nt,[st,(0,l._)("div",dt,(0,$.zw)(t.node.data.appUseCase),1)]),(0,l._)("div",it,[ct,(0,l._)("div",rt,(0,$.zw)(t.node.data.cpuCores),1)])])),_:2},1024)],40,Ye))])),_:1},8,["nodes","filter","filter-method"])])),_:1}),(0,l._)("div",ut,[(0,l.Wm)(w,{align:"left",icon:"add",label:"添加更多组件...",class:"text-primary full-width",style:{background:"#eeeeee"},onClick:e.onClick},null,8,["onClick"])])])),_:1},8,["modelValue"])])}const pt=(0,l.aZ)({setup(){const e=(0,l.FN)(),t=Q(),a={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}}},items:[{group:"top"},{group:"bottom"}]},o=(0,f.iH)([{id:"Simulation",data:{name:"Simulation脚本"},icon:"flag",children:[{id:"Simulation1",shape:"default-node",data:{name:"Simulation1脚本",cpuCores:"4",appUseCase:"ab08ad37-055b-b368-58aa-037620228cf8",status:"default",htc:!1},ports:{...a}},{id:"Simulation2",shape:"default-node",data:{name:"Simulation2脚本",cpuCores:"4",appUseCase:"f30223f0-a215-4402-38ba-067a917b095d",status:"default",htc:!1},ports:{...a}},{id:"Simulation3",shape:"default-node",data:{name:"Simulation3脚本",cpuCores:"4",appUseCase:"c0121580-1097-418f-14be-170e474fb8d3",status:"default",htc:!1},ports:{...a}},{id:"Simulation4",shape:"default-node",data:{name:"Simulation4脚本",cpuCores:"4",appUseCase:"f4f1357b-1bfc-6797-5030-b9822d910e73",status:"default",htc:!1},ports:{...a}}]},{id:"Tool",data:{name:"Tool工具"},icon:"construction",children:[{id:"Tool1",shape:"default-node",data:{name:"Tool1工具",cpuCores:"4",appUseCase:"79737114-e574-8956-bd45-8cf3b9fc8c88",status:"default",htc:!1},ports:{...a}},{id:"Tool2",shape:"default-node",data:{name:"Tool2工具",cpuCores:"4",appUseCase:"75ca097e-b868-4250-885b-138a824f4982",status:"default",htc:!1},ports:{...a}},{id:"Tool3",shape:"default-node",data:{name:"Tool3工具",cpuCores:"4",appUseCase:"cec670a0-f6af-916f-7a52-ec9cbd102a9a",status:"default",htc:!1},ports:{...a}}]},{id:"Compute",data:{name:"Compute计算"},icon:"developer_board",children:[{id:"Compute1",shape:"default-node",data:{name:"Compute1计算",cpuCores:"4",appUseCase:"b21871de-75dd-4a39-9c4c-cd2df62eb20b",status:"default",htc:!1},ports:{...a}},{id:"Compute2",shape:"default-node",data:{name:"Compute2计算",cpuCores:"4",appUseCase:"40178a7c-b7b8-417a-9cd4-b0277da22374",status:"default",htc:!1},ports:{...a}},{id:"Compute3",shape:"default-node",data:{name:"Compute3计算",cpuCores:"4",appUseCase:"c1dd1643-c630-4073-8b53-68ba8391f9de",status:"default",htc:!1},ports:{...a}},{id:"Compute4",shape:"default-node",data:{name:"Compute4计算",cpuCores:"4",appUseCase:"45901e22-3ea9-4499-a481-bf5d33964d8a",status:"default",htc:!1},ports:{...a}},{id:"Compute5",shape:"default-node",data:{name:"Compute5计算",cpuCores:"4",appUseCase:"b7e4ec9b-e094-4c2b-8e34-79c8b09b2e14",status:"default",htc:!1},ports:{...a}}]},{id:"Test",data:{name:"Test测试"},icon:"bug_report",children:[{id:"Compute1",shape:"default-node",data:{name:"Test1测试",cpuCores:"4",appUseCase:"34594c90-fe25-4128-b9c6-66519711e6c8",status:"default",htc:!1},ports:{...a}},{id:"Compute2",shape:"default-node",data:{name:"Test2测试",cpuCores:"4",appUseCase:"497153b6-1c4b-473a-a0ec-bea0c5ee42b3",status:"default",htc:!1},ports:{...a}},{id:"Compute3",shape:"default-node",data:{name:"Test3测试",cpuCores:"4",appUseCase:"296c38f6-4af1-4bec-8553-ce9afb12bf1e",status:"default",htc:!1},ports:{...a}},{id:"Compute4",shape:"default-node",data:{name:"Test4测试",cpuCores:"4",appUseCase:"d65db538-3c41-4eaf-b25d-91bd3a334c30",status:"default",htc:!1},ports:{...a}}]}]),n=(0,f.iH)(""),s=(0,f.iH)(null),d=(t,a)=>{e.parent.proxy.startDrag(t,a)},i=()=>{e.parent.proxy.shLeftDrawer()},c=(e,t)=>-1!==e.data.name.indexOf(t);return{shLeftDrawer:i,nodeList:o,filter:n,filterRef:s,resetFilter(){n.value="",s.value.focus()},startDrag:d,filterMethod:c,editorStore:t}}});var ft=a(2901),wt=a(846),kt=a(2025),gt=a(4689),bt=a(7704),ht=a(5551);const _t=(0,V.Z)(pt,[["render",mt],["__scopeId","data-v-94f011f4"]]),xt=_t;J()(pt,"components",{QDrawer:ft.Z,QBar:wt.Z,QIcon:O.Z,QSpace:kt.Z,QBtn:F.Z,QInput:gt.Z,QScrollArea:bt.Z,QTree:ht.Z,QTooltip:E.Z});const yt=e=>((0,l.dD)("data-v-f15cabb8"),e=e(),(0,l.Cn)(),e),vt={class:"absolute-top"},Ct=yt((()=>(0,l._)("div",null,[(0,l._)("b",null,"编辑")],-1)));function Wt(e,t,a,o,n,s){const d=(0,l.up)("q-icon"),i=(0,l.up)("q-space"),c=(0,l.up)("q-bar"),r=(0,l.up)("EditPanel"),u=(0,l.up)("q-scroll-area"),m=(0,l.up)("q-drawer");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(m,{overlay:"",id:"rightDrawer",modelValue:e.editorStore.showRightDrawer,"onUpdate:modelValue":t[0]||(t[0]=t=>e.editorStore.showRightDrawer=t),width:300,bordered:"",side:"right"},{default:(0,l.w5)((()=>[(0,l._)("div",vt,[(0,l.Wm)(c,{id:"qBarTitle"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{name:"edit"}),Ct,(0,l.Wm)(i)])),_:1})]),(0,l.Wm)(u,{style:{height:"calc(100% - 32px)","margin-top":"32px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{id:"edit",ref:"editPanel",flow:e.flow},null,8,["flow"])])),_:1})])),_:1},8,["modelValue"])])}const Dt=e=>((0,l.dD)("data-v-25a1c6ae"),e=e(),(0,l.Cn)(),e),qt=Dt((()=>(0,l._)("div",{id:"titleBar"},"导航器",-1))),Ut=Dt((()=>(0,l._)("div",{id:"minimapContainer"},null,-1))),Zt=[qt,Ut];function zt(e,t,a,o,n,s){return(0,l.wg)(),(0,l.iD)("div",null,Zt)}const Tt=(0,l.aZ)({}),St=(0,V.Z)(Tt,[["render",zt],["__scopeId","data-v-25a1c6ae"]]),Nt=St,It=e=>((0,l.dD)("data-v-730e50b8"),e=e(),(0,l.Cn)(),e),Qt={key:0,class:"q-gutter-md q-pl-md q-pr-md q-pt-md"},jt=It((()=>(0,l._)("div",{class:"inputTitle row"},[(0,l._)("div",{class:"col-6"},"x"),(0,l._)("div",{class:"col-6 q-pl-sm"},"y")],-1))),Vt={class:"row q-mt-xs"},Ft={class:"col-6 q-pr-xs"},Et={class:"col-6 q-pl-xs"},Mt=It((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"externalId",-1))),Rt=It((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"cpuCores",-1))),Ht=It((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"appUseCase",-1))),Lt=It((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"name",-1))),Ot=It((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"status",-1))),At={class:"select-text"},Bt={key:0,class:"row",style:{"margin-left":"-4px"}},Gt=(0,l.Uk)(" default - 默认 "),Jt={key:1,class:"row",style:{"margin-left":"-4px"}},Pt=(0,l.Uk)(" success - 成功 "),Kt={key:2,class:"row",style:{"margin-left":"-4px"}},$t=(0,l.Uk)(" error - 错误 "),Yt={key:3,class:"row",style:{"margin-left":"-4px"}},Xt=(0,l.Uk)(" warning - 警告 "),ea={key:4,class:"row",style:{"margin-left":"-4px"}},ta=(0,l.Uk)(" running - 运行 "),aa=It((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"htc",-1))),la={key:1,class:"q-gutter-md q-pl-md q-pr-md q-pt-md"},oa=It((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"source",-1))),na=It((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"target",-1))),sa=It((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"fileDependencies",-1))),da=(0,l.Uk)("targetAppFile"),ia=(0,l.Uk)("dependencyAppFile"),ca=(0,l.Uk)("dependencyType"),ra=(0,l.Uk)("+ 添加文件"),ua={key:2,class:"q-gutter-md q-pl-md q-pr-md q-pt-md"},ma=It((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"id",-1))),pa=It((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"name",-1))),fa=It((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"materialName",-1)));function wa(e,t,a,o,s,d){const i=(0,l.up)("q-input"),c=(0,l.up)("q-icon"),r=(0,l.up)("q-item-section"),u=(0,l.up)("q-item"),m=(0,l.up)("q-select"),p=(0,l.up)("q-btn-toggle"),f=(0,l.up)("q-btn"),w=(0,l.up)("q-item-label"),k=(0,l.up)("q-list"),g=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.iD)("div",null,["node"===e.clickType?((0,l.wg)(),(0,l.iD)("div",Qt,[jt,(0,l._)("div",Vt,[(0,l._)("div",Ft,[(0,l.Wm)(i,{dense:"",outlined:"",modelValue:e.clickNode.x,"onUpdate:modelValue":t[0]||(t[0]=t=>e.clickNode.x=t),readonly:""},null,8,["modelValue"])]),(0,l._)("div",Et,[(0,l.Wm)(i,{dense:"",outlined:"",modelValue:e.clickNode.y,"onUpdate:modelValue":t[1]||(t[1]=t=>e.clickNode.y=t),readonly:""},null,8,["modelValue"])])]),Mt,(0,l.Wm)(i,{dense:"",outlined:"",modelValue:e.clickNode.id,"onUpdate:modelValue":t[2]||(t[2]=t=>e.clickNode.id=t),class:"q-mt-xs",readonly:""},null,8,["modelValue"]),Rt,(0,l.Wm)(i,{dense:"",outlined:"",modelValue:e.clickNode.cpuCores,"onUpdate:modelValue":t[3]||(t[3]=t=>e.clickNode.cpuCores=t),class:"q-mt-xs"},null,8,["modelValue"]),Ht,(0,l.Wm)(i,{dense:"",outlined:"",modelValue:e.clickNode.appUseCase,"onUpdate:modelValue":t[4]||(t[4]=t=>e.clickNode.appUseCase=t),class:"q-mt-xs"},null,8,["modelValue"]),Lt,(0,l.Wm)(i,{dense:"",outlined:"",modelValue:e.clickNode.name,"onUpdate:modelValue":t[5]||(t[5]=t=>e.clickNode.name=t),class:"q-mt-xs"},null,8,["modelValue"]),Ot,(0,l.Wm)(m,{dense:"",outlined:"",modelValue:e.clickNode.status,"onUpdate:modelValue":t[6]||(t[6]=t=>e.clickNode.status=t),options:["default","success","error","warning","running"],class:"q-mt-xs"},{prepend:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(c,{name:"task",class:"text-default",style:{"font-size":"20px"}},null,512),[[n.F8,"default"===e.clickNode.status]]),(0,l.wy)((0,l.Wm)(c,{name:"check_circle_outline",class:"text-positive",style:{"font-size":"20px"}},null,512),[[n.F8,"success"===e.clickNode.status]]),(0,l.wy)((0,l.Wm)(c,{name:"cancel",class:"text-red",style:{"font-size":"20px"}},null,512),[[n.F8,"error"===e.clickNode.status]]),(0,l.wy)((0,l.Wm)(c,{name:"error_outline",class:"text-warning",style:{"font-size":"20px"}},null,512),[[n.F8,"warning"===e.clickNode.status]]),(0,l.wy)((0,l.Wm)(c,{name:"directions_run",class:"text-primary",style:{"font-size":"20px"}},null,512),[[n.F8,"running"===e.clickNode.status]])])),selected:(0,l.w5)((()=>[(0,l._)("div",At,(0,$.zw)(e.clickNode.status),1)])),option:(0,l.w5)((e=>[(0,l.Wm)(u,(0,l.dG)(e.itemProps,(0,l.mx)(e.itemEvents)),{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>["default"===e.opt?((0,l.wg)(),(0,l.iD)("span",Bt,[(0,l.Wm)(c,{name:"task",class:"q-mr-sm text-default",style:{"font-size":"20px"}}),Gt])):"success"===e.opt?((0,l.wg)(),(0,l.iD)("span",Jt,[(0,l.Wm)(c,{name:"check_circle_outline",class:"q-mr-sm text-positive",style:{"font-size":"20px"}}),Pt])):"error"===e.opt?((0,l.wg)(),(0,l.iD)("span",Kt,[(0,l.Wm)(c,{name:"cancel",class:"q-mr-sm text-red",style:{"font-size":"20px"}}),$t])):"warning"===e.opt?((0,l.wg)(),(0,l.iD)("span",Yt,[(0,l.Wm)(c,{name:"error_outline",class:"q-mr-sm text-warning",style:{"font-size":"20px"}}),Xt])):"running"===e.opt?((0,l.wg)(),(0,l.iD)("span",ea,[(0,l.Wm)(c,{name:"directions_run",class:"q-mr-sm text-primary",style:{"font-size":"20px"}}),ta])):(0,l.kq)("",!0)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue"]),aa,(0,l.Wm)(p,{modelValue:e.clickNode.htc,"onUpdate:modelValue":t[7]||(t[7]=t=>e.clickNode.htc=t),class:"q-mt-xs",style:{border:"1px solid #c2c2c2"},dense:"",push:"",spread:"","no-caps":"",outlined:"",unelevated:"",ripple:!1,"toggle-color":"grey",color:"white","text-color":"black",options:[{label:"true",value:!0},{label:"false",value:!1}]},null,8,["modelValue"]),(0,l._)("div",null,[(0,l.Wm)(f,{label:"保存",color:"primary",class:"q-mb-md",onClick:t[8]||(t[8]=t=>e.saveNode())})])])):"edge"===e.clickType?((0,l.wg)(),(0,l.iD)("div",la,[oa,(0,l.Wm)(i,{dense:"",outlined:"",modelValue:e.clickEdge.source.cell,"onUpdate:modelValue":t[9]||(t[9]=t=>e.clickEdge.source.cell=t),class:"q-mt-xs",readonly:""},null,8,["modelValue"]),na,(0,l.Wm)(i,{dense:"",outlined:"",modelValue:e.clickEdge.target.cell,"onUpdate:modelValue":t[10]||(t[10]=t=>e.clickEdge.target.cell=t),class:"q-mt-xs",readonly:""},null,8,["modelValue"]),sa,(0,l.Wm)(k,{outlined:"",separator:"",class:"rounded-borders q-mt-xs",style:{border:"1px solid #e0e0e0"}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.clickEdge.store.data.fileDependencies,(e=>((0,l.wg)(),(0,l.j4)(u,{key:e},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,{caption:""},{default:(0,l.w5)((()=>[da])),_:1}),(0,l.Wm)(w,{class:"q-pb-xs"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,$.zw)(e.targetAppFile),1)])),_:2},1024),(0,l.Wm)(w,{caption:""},{default:(0,l.w5)((()=>[ia])),_:1}),(0,l.Wm)(w,{class:"q-pb-xs"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,$.zw)(e.dependencyAppFile),1)])),_:2},1024),(0,l.Wm)(w,{caption:""},{default:(0,l.w5)((()=>[ca])),_:1}),(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,$.zw)(e.dependencyType),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)(r,{top:"",side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{size:"12px",flat:"",round:"",icon:"delete"})])),_:1})])),_:2},1024)))),128)),(0,l.wy)(((0,l.wg)(),(0,l.j4)(u,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,{caption:""},{default:(0,l.w5)((()=>[ra])),_:1})])),_:1})])),_:1})),[[g]])])),_:1})])):((0,l.wg)(),(0,l.iD)("div",ua,[ma,(0,l.Wm)(i,{dense:"",outlined:"",modelValue:e.thisFlow.id,"onUpdate:modelValue":t[11]||(t[11]=t=>e.thisFlow.id=t),class:"q-mt-xs",readonly:""},null,8,["modelValue"]),pa,(0,l.Wm)(i,{dense:"",outlined:"",modelValue:e.thisFlow.name,"onUpdate:modelValue":t[12]||(t[12]=t=>e.thisFlow.name=t),class:"q-mt-xs"},null,8,["modelValue"]),fa,(0,l.Wm)(i,{dense:"",outlined:"",modelValue:e.thisFlow.materialName,"onUpdate:modelValue":t[13]||(t[13]=t=>e.thisFlow.materialName=t),class:"q-mt-xs"},null,8,["modelValue"]),(0,l._)("div",null,[(0,l.Wm)(f,{label:"保存",color:"primary",class:"q-mb-md",onClick:t[14]||(t[14]=t=>e.saveFlow())})])]))])}var ka=a(4434);const ga=(0,l.aZ)({props:{flow:{type:Object}},setup(e){const t=(0,f.iH)(),a=(0,f.iH)(),o=(0,f.iH)(),n=(0,f.iH)(""),s=(0,f.iH)({name:"",id:"",materialName:""});function d(){const e={name:t.value.name,cpuCores:t.value.cpuCores,appUseCase:t.value.appUseCase,status:t.value.status,htc:t.value.htc};a.value.setData(e),a.value.store.data.position.x=t.value.x,a.value.store.data.position.y=t.value.y,ka.Z.create({type:"positive",message:"保存节点成功！"})}function i(){e.flow.name=s.value.name,e.flow.id=s.value.id,e.flow.materialName=s.value.materialName,ka.Z.create({type:"positive",message:"保存成功！"})}(0,l.Y3)((()=>{s.value.name=e.flow.name,s.value.id=e.flow.id,s.value.materialName=e.flow.materialName}));const c=e=>{n.value="node",a.value=e;const l=a.value.getData(),o={id:a.value.id,cpuCores:l.cpuCores,appUseCase:l.appUseCase,name:l.name,status:l.status,htc:l.htc,x:a.value.store.data.position.x,y:a.value.store.data.position.y};t.value=o},r=e=>{a.value=e,t.value&&(t.value.x=a.value.store.data.position.x,t.value.y=a.value.store.data.position.y)},u=e=>{n.value="edge",o.value=e},m=()=>{n.value="blank",s.value.name=e.flow.name,s.value.id=e.flow.id,s.value.materialName=e.flow.materialName};return{clickType:n,clickNode:t,clickEdge:o,saveNode:d,nodeClickResponse:c,nodeMouseMoveResponse:r,edgeClickResponse:u,blankClickResponse:m,thisFlow:s,saveFlow:i}}});var ba=a(7757),ha=a(2350),_a=a(201);const xa=(0,V.Z)(ga,[["render",wa],["__scopeId","data-v-730e50b8"]]),ya=xa;J()(ga,"components",{QInput:gt.Z,QSelect:ba.Z,QIcon:O.Z,QItem:H.Z,QItemSection:L.Z,QItemLabel:ha.Z,QBtnToggle:_a.Z,QBtn:F.Z,QList:R.Z,QSeparator:A.Z}),J()(ga,"directives",{Ripple:Ae.Z});const va=(0,l.aZ)({components:{MiniMap:Nt,EditPanel:ya},props:{showRightDrawer:{type:Boolean},flow:{type:Object}},setup(e){const t=(0,l.FN)(),a=Q(),o=(0,f.iH)(),n=()=>{t.parent.proxy.shRightDrawer()},s=e=>{o.value.nodeClickResponse(e)},d=e=>{o.value.nodeMouseMoveResponse(e)},i=e=>{o.value.edgeClickResponse(e)},c=()=>{o.value.blankClickResponse()};return{shRightDrawer:n,editPanel:o,nodeClickResponse:s,nodeMouseMoveResponse:d,edgeClickResponse:i,blankClickResponse:c,editorStore:a}}}),Ca=(0,V.Z)(va,[["render",Wt],["__scopeId","data-v-f15cabb8"]]),Wa=Ca;J()(va,"components",{QDrawer:ft.Z,QBar:wt.Z,QIcon:O.Z,QSpace:kt.Z,QBtn:F.Z,QScrollArea:bt.Z});a(6572);const Da=e=>((0,l.dD)("data-v-23e035c0"),e=e(),(0,l.Cn)(),e),qa={key:0,class:"default-node htc-node-1"},Ua=Da((()=>(0,l._)("div",{class:"left-side"},null,-1))),Za=[Ua],za={key:1,class:"default-node htc-node-2"},Ta=Da((()=>(0,l._)("div",{class:"left-side"},null,-1))),Sa=[Ta],Na={class:"default-node"},Ia={class:"left-side"},Qa={key:0,class:"material-icons status-icons tooltip text-positive"},ja=(0,l.Uk)(" check_circle_outline "),Va=Da((()=>(0,l._)("span",{class:"tooltiptext bg-positive",style:{left:"18%"}},"成功",-1))),Fa=[ja,Va],Ea={key:1,class:"material-icons status-icons tooltip text-red"},Ma=(0,l.Uk)(" cancel "),Ra=Da((()=>(0,l._)("span",{class:"tooltiptext bg-red",style:{left:"18%"}},"错误",-1))),Ha=[Ma,Ra],La={key:2,class:"material-icons status-icons tooltip text-warning"},Oa=(0,l.Uk)(" error_outline "),Aa=Da((()=>(0,l._)("span",{class:"tooltiptext bg-warning",style:{left:"18%"}},"警告",-1))),Ba=[Oa,Aa],Ga={key:3,class:"material-icons status-icons running-status tooltip text-primary"},Ja=(0,l.Uk)(" directions_run "),Pa=Da((()=>(0,l._)("span",{class:"tooltiptext bg-primary",style:{left:"18%"}},"运行",-1))),Ka=[Ja,Pa],$a={key:4,class:"material-icons status-icons tooltip text-default"},Ya=(0,l.Uk)(" task "),Xa=Da((()=>(0,l._)("span",{class:"tooltiptext",style:{left:"18%"}},"默认",-1))),el=[Ya,Xa],tl={class:"center"},al={class:"right-side"},ll=(0,l.Uk)(" tune "),ol=Da((()=>(0,l._)("span",{class:"tooltiptext"},"配置",-1))),nl=[ll,ol];function sl(e,t,a,o,n,s){return(0,l.wg)(),(0,l.iD)("div",null,[e.data.htc?((0,l.wg)(),(0,l.iD)("div",qa,Za)):(0,l.kq)("",!0),e.data.htc?((0,l.wg)(),(0,l.iD)("div",za,Sa)):(0,l.kq)("",!0),(0,l._)("div",Na,[(0,l._)("div",Ia,["success"===e.data.status?((0,l.wg)(),(0,l.iD)("span",Qa,Fa)):"error"===e.data.status?((0,l.wg)(),(0,l.iD)("span",Ea,Ha)):"warning"===e.data.status?((0,l.wg)(),(0,l.iD)("span",La,Ba)):"running"===e.data.status?((0,l.wg)(),(0,l.iD)("span",Ga,Ka)):((0,l.wg)(),(0,l.iD)("span",$a,el))]),(0,l._)("div",tl,(0,$.zw)(e.data.name),1),(0,l._)("div",al,[(0,l._)("span",{class:"material-icons status-icons cursor-pointer tooltip",onClick:t[0]||(t[0]=(...t)=>e.nodeSetting&&e.nodeSetting(...t))},nl)])])])}var dl=a(499);const il=(0,I.Q_)("amisStore",{state:()=>({showDialog:!1,jsonData:{}}),actions:{openDialog(){this.showDialog=!0},closeDialog(){this.showDialog=!1},setJsonData(e){this.jsonData=e}}}),cl=(0,l.aZ)({setup(){const e=il(),t=(0,l.f3)("getNode"),a=t(),o=(0,f.iH)({name:"",status:""}),n=()=>{dl.Z.create({title:"配置",options:{type:"radio",model:"opt1",items:[{label:"使用本地参数文件",value:"opt1",color:"secondary"},{label:"在线配置参数",value:"opt2"}]},ok:"继续",cancel:"取消"}).onOk((t=>{const l={type:"page",body:{type:"form",mode:"horizontal",debug:!1,body:[{label:"cpuCores",type:"input-text",name:"cpuCores",value:a.data.cpuCores},{label:"appUseCase",type:"input-text",name:"appUseCase",value:a.data.appUseCase},{label:"name",type:"input-text",name:"name",value:a.data.name}]}};e.setJsonData(l),e.openDialog()}))};return(0,l.bv)((()=>{o.value=a.getData(),a.on("change:data",(({current:e})=>{o.value=e}))})),{data:o,nodeSetting:n}}}),rl=(0,V.Z)(cl,[["render",sl],["__scopeId","data-v-23e035c0"]]),ul=rl,ml=e=>((0,l.dD)("data-v-bd38ad62"),e=e(),(0,l.Cn)(),e),pl={class:"text-h6 row"},fl=(0,l.Uk)(" 帮助 "),wl=(0,l.Uk)(" 最大化 "),kl=(0,l.Uk)(" 最小化 "),gl=(0,l.Uk)(" 关闭 "),bl=ml((()=>(0,l._)("div",{class:"text-h6 q-mb-md"},"如何新增",-1))),hl=ml((()=>(0,l._)("p",null,"按住并拖动左侧组件库中的节点到中间画布，松开鼠标即可新增节点。",-1))),_l=ml((()=>(0,l._)("div",{class:"text-h6 q-mb-md"},"如何删除",-1))),xl=ml((()=>(0,l._)("p",null,"鼠标右键点击需要删除的节点，在弹出菜单中点击“删除”。",-1))),yl=ml((()=>(0,l._)("div",{class:"text-h6 q-mb-md"},"如何移动",-1))),vl=ml((()=>(0,l._)("p",null,"按住并拖动中间画布中的节点到指定位置，松开鼠标即可移动节点。",-1))),Cl=ml((()=>(0,l._)("div",{class:"text-h6 q-mb-md"},"如何连线",-1))),Wl=ml((()=>(0,l._)("p",null," 鼠标移动到节点上、下边框的连接桩（小圆圈）处，当鼠标指针变为十字形状（+）后，移动鼠标到另一节点的连接桩并松开鼠标，即可连线。 ",-1))),Dl=ml((()=>(0,l._)("div",{class:"text-h6 q-mb-md"},"如何配置节点",-1))),ql=ml((()=>(0,l._)("p",null,"鼠标右键点击需要配置的节点，在弹出菜单中点击“配置”。",-1))),Ul=ml((()=>(0,l._)("div",{class:"text-h6 q-mb-md"},"如何查看节点",-1))),Zl=ml((()=>(0,l._)("p",null,"鼠标右键点击需要查看的节点，在弹出菜单中点击“查看”。",-1)));function zl(e,t,a,o,n,s){const d=(0,l.up)("q-space"),i=(0,l.up)("q-tooltip"),c=(0,l.up)("q-btn"),r=(0,l.up)("q-card-section"),u=(0,l.up)("q-tab"),m=(0,l.up)("q-tabs"),p=(0,l.up)("q-tab-panel"),f=(0,l.up)("q-tab-panels"),w=(0,l.up)("q-splitter"),k=(0,l.up)("q-card"),g=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(g,{modelValue:e.editorStore.openHelpDialog,"onUpdate:modelValue":[t[5]||(t[5]=t=>e.editorStore.openHelpDialog=t),e.close],onEscapeKey:e.close,maximized:e.maximized,"full-width":e.maximized},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{style:{width:"600px","max-width":"80vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l._)("div",pl,[fl,(0,l.Wm)(d),e.maximized?((0,l.wg)(),(0,l.j4)(c,{key:1,dense:"",flat:"",icon:"minimize",onClick:t[1]||(t[1]=t=>e.maximized=!1)},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{offset:[8,8]},{default:(0,l.w5)((()=>[kl])),_:1})])),_:1})):((0,l.wg)(),(0,l.j4)(c,{key:0,dense:"",flat:"",icon:"crop_square",onClick:t[0]||(t[0]=t=>e.maximized=!0)},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{offset:[8,8]},{default:(0,l.w5)((()=>[wl])),_:1})])),_:1})),(0,l.Wm)(c,{dense:"",flat:"",icon:"close",onClick:e.close},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{offset:[8,8]},{default:(0,l.w5)((()=>[gl])),_:1})])),_:1},8,["onClick"])])])),_:1}),(0,l.Wm)(r,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{limits:[20,30],modelValue:e.splitterModel,"onUpdate:modelValue":t[4]||(t[4]=t=>e.splitterModel=t)},{before:(0,l.w5)((()=>[(0,l.Wm)(m,{modelValue:e.tab,"onUpdate:modelValue":t[2]||(t[2]=t=>e.tab=t),vertical:"",class:"text-primary"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"如何新增",label:"如何新增"}),(0,l.Wm)(u,{name:"如何删除",label:"如何删除"}),(0,l.Wm)(u,{name:"如何移动",label:"如何移动"}),(0,l.Wm)(u,{name:"如何连线",label:"如何连线"}),(0,l.Wm)(u,{name:"如何配置节点",label:"如何配置节点"}),(0,l.Wm)(u,{name:"如何查看节点",label:"如何查看节点"})])),_:1},8,["modelValue"])])),after:(0,l.w5)((()=>[(0,l.Wm)(f,{modelValue:e.tab,"onUpdate:modelValue":t[3]||(t[3]=t=>e.tab=t),animated:"",swipeable:"",vertical:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{name:"如何新增"},{default:(0,l.w5)((()=>[bl,hl])),_:1}),(0,l.Wm)(p,{name:"如何删除"},{default:(0,l.w5)((()=>[_l,xl])),_:1}),(0,l.Wm)(p,{name:"如何移动"},{default:(0,l.w5)((()=>[yl,vl])),_:1}),(0,l.Wm)(p,{name:"如何连线"},{default:(0,l.w5)((()=>[Cl,Wl])),_:1}),(0,l.Wm)(p,{name:"如何配置节点"},{default:(0,l.w5)((()=>[Dl,ql])),_:1}),(0,l.Wm)(p,{name:"如何查看节点"},{default:(0,l.w5)((()=>[Ul,Zl])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","onEscapeKey","maximized","full-width"])])}const Tl=(0,l.aZ)({setup(){const e=(0,f.iH)("如何新增"),t=(0,f.iH)(20),a=((0,l.FN)(),(0,f.iH)(!1)),o=Q(),n=()=>{o.openHelpDialog=!1,a.value=!1};return{close:n,tab:e,splitterModel:t,editorStore:o,maximized:a}}});var Sl=a(218),Nl=a(7547),Il=a(3269),Ql=a(5906),jl=a(6602);const Vl=(0,V.Z)(Tl,[["render",zl],["__scopeId","data-v-bd38ad62"]]),Fl=Vl;J()(Tl,"components",{QDialog:Me.Z,QCard:Re.Z,QCardSection:He.Z,QSpace:kt.Z,QBtn:F.Z,QTooltip:E.Z,QSplitter:Sl.Z,QTabs:Nl.Z,QTab:Il.Z,QTabPanels:Ql.Z,QTabPanel:jl.Z});const El={class:"text-h6 row"},Ml=(0,l.Uk)(" 查看数据 "),Rl=(0,l.Uk)(" 最大化 "),Hl=(0,l.Uk)(" 最小化 "),Ll=(0,l.Uk)(" 关闭 ");function Ol(e,t,a,o,n,s){const d=(0,l.up)("q-space"),i=(0,l.up)("q-tooltip"),c=(0,l.up)("q-btn"),r=(0,l.up)("q-card-section"),u=(0,l.up)("json-viewer"),m=(0,l.up)("q-card"),p=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(p,{modelValue:e.editorStore.openCodeDialog,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.editorStore.openCodeDialog=t),e.close],onEscapeKey:e.close,maximized:e.maximized,"full-width":e.maximized},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{style:{"min-width":"600px","max-width":"80vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l._)("div",El,[Ml,(0,l.Wm)(d),e.maximized?((0,l.wg)(),(0,l.j4)(c,{key:1,dense:"",flat:"",icon:"minimize",onClick:t[1]||(t[1]=t=>e.maximized=!1)},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{offset:[8,8]},{default:(0,l.w5)((()=>[Hl])),_:1})])),_:1})):((0,l.wg)(),(0,l.j4)(c,{key:0,dense:"",flat:"",icon:"crop_square",onClick:t[0]||(t[0]=t=>e.maximized=!0)},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{offset:[8,8]},{default:(0,l.w5)((()=>[Rl])),_:1})])),_:1})),(0,l.Wm)(c,{dense:"",flat:"",icon:"close",onClick:e.close},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{offset:[8,8]},{default:(0,l.w5)((()=>[Ll])),_:1})])),_:1},8,["onClick"])])])),_:1}),(0,l.Wm)(r,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{value:e.jsonData,"expand-depth":3,copyable:{copyText:"复制到剪贴板",copiedText:"复制成功!",timeout:2e3},boxed:!0,expanded:!0},null,8,["value"])])),_:1})])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","onEscapeKey","maximized","full-width"])])}var Al=a(401),Bl=a.n(Al);const Gl=(0,l.aZ)({components:{JsonViewer:Bl()},props:{data:{type:String}},setup(e){(0,l.FN)();const t=(0,f.iH)(!1),a=Q(),o=(0,l.Fl)((()=>JSON.parse(e.data))),n=()=>{a.openCodeDialog=!1,t.value=!1};return{close:n,jsonData:o,maximized:t,editorStore:a}}}),Jl=(0,V.Z)(Gl,[["render",Ol]]),Pl=Jl;J()(Gl,"components",{QDialog:Me.Z,QCard:Re.Z,QCardSection:He.Z,QSpace:kt.Z,QBtn:F.Z,QTooltip:E.Z});const Kl={class:"text-h6 row"},$l=(0,l.Uk)(" 配置参数 "),Yl=(0,l.Uk)(" 最大化 "),Xl=(0,l.Uk)(" 最小化 "),eo=(0,l.Uk)(" 关闭 ");function to(e,t,a,o,n,s){const d=(0,l.up)("q-space"),i=(0,l.up)("q-tooltip"),c=(0,l.up)("q-btn"),r=(0,l.up)("q-card-section"),u=(0,l.up)("AmisRenderer"),m=(0,l.up)("q-card"),p=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(p,{modelValue:e.amisStore.showDialog,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.amisStore.showDialog=t),e.close],onEscapeKey:e.close,maximized:e.maximized,"full-width":e.maximized},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{style:{"min-width":"600px","max-width":"80vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l._)("div",Kl,[$l,(0,l.Wm)(d),e.maximized?((0,l.wg)(),(0,l.j4)(c,{key:1,dense:"",flat:"",icon:"minimize",onClick:t[1]||(t[1]=t=>e.maximized=!1)},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{offset:[8,8]},{default:(0,l.w5)((()=>[Xl])),_:1})])),_:1})):((0,l.wg)(),(0,l.j4)(c,{key:0,dense:"",flat:"",icon:"crop_square",onClick:t[0]||(t[0]=t=>e.maximized=!0)},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{offset:[8,8]},{default:(0,l.w5)((()=>[Yl])),_:1})])),_:1})),(0,l.Wm)(c,{dense:"",flat:"",icon:"close",onClick:e.close},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{offset:[8,8]},{default:(0,l.w5)((()=>[eo])),_:1})])),_:1},8,["onClick"])])])),_:1}),(0,l.Wm)(r,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{amisData:e.amisStore.jsonData},null,8,["amisData"])])),_:1})])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","onEscapeKey","maximized","full-width"])])}const ao={id:"box"},lo=(0,l.aZ)({props:{amisData:{type:Object,required:!0}},setup(e){const t=e;return(0,l.bv)((()=>{const e=amisRequire("amis/embed");e.embed("#box",t.amisData)})),(e,t)=>((0,l.wg)(),(0,l.iD)("div",ao))}}),oo=lo,no=oo,so=(0,l.aZ)({components:{AmisRenderer:no},setup(){(0,l.FN)();const e=il(),t=(0,f.iH)(!1),a=()=>{e.closeDialog(),t.value=!1};return{close:a,maximized:t,amisStore:e}}}),io=(0,V.Z)(so,[["render",to]]),co=io;J()(so,"components",{QDialog:Me.Z,QCard:Re.Z,QCardSection:He.Z,QSpace:kt.Z,QBtn:F.Z,QTooltip:E.Z});const ro=(0,l.Uk)("删除"),uo=(0,l.Uk)("查看数据"),mo=(0,l.Uk)("添加节点"),po=(0,l.Uk)("删除"),fo=(0,l.Uk)("查看数据"),wo=(0,l.Uk)("查看数据"),ko=(0,l.Uk)("更多"),go=(0,l.Uk)("清空");function bo(e,t,a,o,n,s){const d=(0,l.up)("q-item-section"),i=(0,l.up)("q-item"),c=(0,l.up)("q-separator"),r=(0,l.up)("q-list"),u=(0,l.up)("q-icon"),m=(0,l.up)("q-menu"),p=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(m,{target:"#container","touch-position":"","context-menu":""},{default:(0,l.w5)((()=>["node"==e.choiceType?((0,l.wg)(),(0,l.j4)(r,{key:0,dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(i,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{onClick:t[0]||(t[0]=t=>e.$emit("deleteNode"))},{default:(0,l.w5)((()=>[ro])),_:1})])),_:1})),[[p]]),(0,l.Wm)(c),(0,l.wy)(((0,l.wg)(),(0,l.j4)(i,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{onClick:t[1]||(t[1]=t=>e.$emit("showNode"))},{default:(0,l.w5)((()=>[uo])),_:1})])),_:1})),[[p]]),(0,l.Wm)(c),(0,l.wy)(((0,l.wg)(),(0,l.j4)(i,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{onClick:t[2]||(t[2]=t=>e.$emit("addNode"))},{default:(0,l.w5)((()=>[mo])),_:1})])),_:1})),[[p]])])),_:1})):(0,l.kq)("",!0),"edge"==e.choiceType?((0,l.wg)(),(0,l.j4)(r,{key:1,dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(i,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{onClick:t[3]||(t[3]=t=>e.$emit("deleteEdge"))},{default:(0,l.w5)((()=>[po])),_:1})])),_:1})),[[p]]),(0,l.Wm)(c),(0,l.wy)(((0,l.wg)(),(0,l.j4)(i,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{onClick:t[4]||(t[4]=t=>e.$emit("showEdge"))},{default:(0,l.w5)((()=>[fo])),_:1})])),_:1})),[[p]])])),_:1})):(0,l.kq)("",!0),"blank"==e.choiceType?((0,l.wg)(),(0,l.j4)(r,{key:2,dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(i,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{onClick:t[5]||(t[5]=t=>e.$emit("showData"))},{default:(0,l.w5)((()=>[wo])),_:1})])),_:1})),[[p]]),(0,l.Wm)(c),(0,l.Wm)(i,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[ko])),_:1}),(0,l.Wm)(d,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"keyboard_arrow_right"})])),_:1}),(0,l.Wm)(m,{anchor:"top end",self:"top start"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(i,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{onClick:t[6]||(t[6]=t=>e.$emit("refresh"))},{default:(0,l.w5)((()=>[go])),_:1})])),_:1})),[[p]])])),_:1})])),_:1})])),_:1})])),_:1})):(0,l.kq)("",!0)])),_:1})}const ho=(0,l.aZ)({props:{choiceType:{type:String}},setup(){return{}}}),_o=(0,V.Z)(ho,[["render",bo],["__scopeId","data-v-19b0f18d"]]),xo=_o;J()(ho,"components",{QMenu:Ee.Z,QList:R.Z,QItem:H.Z,QItemSection:L.Z,QSeparator:A.Z,QIcon:O.Z}),J()(ho,"directives",{ClosePopup:B.Z});const{Dnd:yo}=r.e9,vo=(0,l.aZ)({components:{Header:Ge,ToolBar:K,LeftDrawer:xt,RightDrawer:Wa,HelpDialog:Fl,CodeDialog:Pl,AmisDialog:co,ContextMenu:xo},setup(){const e=(0,u.Z)();let t;const a=(0,f.iH)({}),o=(0,f.iH)(""),n=(0,f.iH)(""),s=(0,f.iH)(),d=(0,f.iH)(100),i=(0,f.iH)({}),w=Q(),k={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}}},items:[{group:"top"},{group:"bottom"}]};let g={name:"测试工作流20220128-1",externalId:"w-workflow-20220128",materialName:"w",jobs:[{externalId:"fe94ef60-b536-22bb-61fd-6b3a2222be17",cpuCores:"2",appUseCase:"ab08ad37-055b-b368-58aa-037620228cf8",name:"Simulate1脚本",htc:!1},{externalId:"4557647d-19bc-b1d7-5aec-4963dfe83b28",cpuCores:"1",appUseCase:"f30223f0-a215-4402-38ba-067a917b095d",name:"Simulate2脚本",htc:!1},{externalId:"35344a12-c8d7-1e2c-704f-b10a9b56e2c6",cpuCores:"2",appUseCase:"c0121580-1097-418f-14be-170e474fb8d3",name:"Simulate3脚本",htc:!0},{externalId:"8c6f878b-ffa0-e51b-93d2-0e65344d7f56",cpuCores:"2",appUseCase:"f4f1357b-1bfc-6797-5030-b9822d910e73",name:"Simulate4脚本",htc:!1},{externalId:"ba2f49b7-912e-de79-50a3-8e6d4083f681",cpuCores:"1",appUseCase:"1d6913e0-32bd-4563-a073-4900579da937",name:"Simulate5脚本",htc:!1},{externalId:"7a65b4d8-12bd-bd09-170c-cf37cc0a568a",cpuCores:"2",appUseCase:"81abf716-a0f8-f064-cabe-6e4e44442825",name:"Simulate6脚本",htc:!1}],dependencies:[{externalId:"ba832c2b-7ff3-4b24-be99-53ad0f949161",jobExternalId:"4557647d-19bc-b1d7-5aec-4963dfe83b28",jobDependencyExternalId:"fe94ef60-b536-22bb-61fd-6b3a2222be17",fileDependencies:[{targetAppFile:"0a9c2cb6-3dc7-9a00-55f1-33f2e31f5561",dependencyAppFile:"2ae998c2-7a33-65a4-a9b1-07a101ec695c",dependencyType:"appFile"},{targetAppFile:"d499e05c-a1a1-f365-184a-06f64438d81f",dependencyAppFile:"f055da12-e175-3f38-c2df-4a589ddc5db9",dependencyType:"appFile"}]},{externalId:"6201ebaf-5c4a-4211-a9ca-7ecb367c9e25",jobExternalId:"35344a12-c8d7-1e2c-704f-b10a9b56e2c6",jobDependencyExternalId:"fe94ef60-b536-22bb-61fd-6b3a2222be17",fileDependencies:[{targetAppFile:"b098bf40-eb8c-30d8-ef16-8f21ab41b248",dependencyAppFile:"1191f899-eaad-b87c-8936-5cf96d72d1c4",dependencyType:"appFile"}]},{externalId:"a5b8558d-12c8-4ec8-a69f-cbcc7e1dbea7",jobExternalId:"8c6f878b-ffa0-e51b-93d2-0e65344d7f56",jobDependencyExternalId:"4557647d-19bc-b1d7-5aec-4963dfe83b28",fileDependencies:[{targetAppFile:"56c90586-a686-5330-0b16-72a231212171",dependencyAppFile:"56984e29-f833-adae-9253-882e255d2e3b",dependencyType:"appFile"}]},{externalId:"9eda6ea8-d91b-4b1c-9cfb-4a46be11b698",jobExternalId:"ba2f49b7-912e-de79-50a3-8e6d4083f681",jobDependencyExternalId:"4557647d-19bc-b1d7-5aec-4963dfe83b28"},{externalId:"080cf216-4e96-4b31-b664-8666e3f98b41",jobExternalId:"7a65b4d8-12bd-bd09-170c-cf37cc0a568a",jobDependencyExternalId:"35344a12-c8d7-1e2c-704f-b10a9b56e2c6"}]};const b=(0,f.iH)({name:"",id:"",materialName:""});let h={nodes:[],edges:[]};const _=()=>{t.undo()},x=()=>{t.redo()},y=()=>{d.value<=280&&(t.zoom(.2),setTimeout((()=>{d.value=Number((100*t.zoom()).toFixed(0))}),50))},v=()=>{d.value>=70&&(t.zoom(-.2),setTimeout((()=>{d.value=Number((100*t.zoom()).toFixed(0))}),50))},C=e=>{t.zoomTo(e),setTimeout((()=>{d.value=Number((100*t.zoom()).toFixed(0))}),50)},W=()=>{t.zoomToFit(),setTimeout((()=>{d.value=Number((100*t.zoom()).toFixed(0))}),50)},D=()=>{t.centerContent()},q=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,a="x"==e?t:3&t|8;return a.toString(16)})),U=()=>{const a=t.toJSON().cells.find((e=>e.id==o.value)),l=q();t.addNode({id:l,data:{name:"未命名节点",cpuCores:"",appUseCase:"",status:"default",htc:!1},shape:"default-node",ports:{...k},x:null===a||void 0===a?void 0:a.position.x,y:(null===a||void 0===a?void 0:a.position.y)+160}),t.addEdge({source:null===a||void 0===a?void 0:a.id,target:l,shape:"default-edge",zIndex:-1}),e.notify({message:"添加节点成功！执行自动布局？",type:"positive",multiLine:!0,actions:[{label:"执行",color:"yellow",handler:()=>{H()}}]})},Z=()=>{e.dialog({title:"删除节点",message:"确定要删除该节点吗？",ok:"确定",cancel:"取消"}).onOk((()=>{t.removeNode(o.value),e.notify({message:"删除节点成功！",type:"positive"})}))},z=()=>{e.dialog({title:"删除连线",message:"确定要删除该连线吗？",ok:"确定",cancel:"取消"}).onOk((()=>{t.removeEdge(o.value),e.notify({message:"删除连线成功！",type:"positive"})}))},T=()=>{e.dialog({title:"清空画布",message:"确定要清空画布（包括所有节点和连线）吗？",ok:"确定",cancel:"取消"}).onOk((()=>{t.clearCells(),e.notify({message:"清空画布成功！",type:"positive"})}))},S=()=>{e.dialog({options:{title:"配置节点",type:"radio",model:"opt1",items:[{label:"使用本地参数文件",value:"opt1",color:"secondary"},{label:"在线配置参数",value:"opt2"}]},ok:"继续",cancel:"取消"}).onOk((t=>{e.notify({message:"选择了 "+t,color:"primary"})}))},N=()=>{j(),i.value=JSON.stringify(i.value.jobs.find((e=>e.externalId==o.value)),null,2),w.openCodeDialog=!0},I=()=>{j(),i.value=JSON.stringify(i.value.dependencies.find((e=>e.externalId==o.value)),null,2),w.openCodeDialog=!0},j=()=>{const e=t.toJSON().cells;let a=[],l=[];for(let t=0,o=e.length;t<o;t++)"default-edge"===e[t].shape?l.push({externalId:e[t].id,jobExternalId:e[t].target.cell,jobDependencyExternalId:e[t].source.cell,fileDependencies:e[t].fileDependencies}):a.push({externalId:e[t].id,cpuCores:e[t].data.cpuCores,appUseCase:e[t].data.appUseCase,name:e[t].data.name,htc:e[t].data.htc});i.value={name:b.value.name,externalId:b.value.id,materialName:b.value.materialName,jobs:a,dependencies:l}},V=()=>{j(),i.value=JSON.stringify(i.value,null,2),w.openCodeDialog=!0},F=()=>{e.dialog({title:"导出数据",message:"确定要导出该流程数据（Json格式）吗？",ok:"确定",cancel:"取消"}).onOk((()=>{j();const t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(i.value,null,"\t")),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download","data"+m.ZP.formatDate(new Date,"YYYYMMDDHHmm")+".json"),a.click(),a.remove(),e.notify({message:"正在下载中，请稍候...",color:"primary"})}))},E=()=>{w.showGrid?t.hideGrid():t.showGrid(),w.showGrid=!w.showGrid,p.Z.set("showGrid",w.showGrid)},M=()=>{w.showMinimap=!w.showMinimap,p.Z.set("showMinimap",w.showMinimap)},R=()=>{w.openHelpDialog=!0},H=()=>{j(),g=i.value,G(),t.dispose(),ee(),te(),ae(),J(),D()},L=()=>{w.showLeftDrawer=!w.showLeftDrawer},O=()=>{w.showRightDrawer=!w.showRightDrawer,w.showRightDrawer?document.getElementById("minimap").style.right="calc(316px)":document.getElementById("minimap").style.right="calc(16px)"},A=(e,l)=>{const o=t.createNode(l.node);a.value.start(o,e)},B=(e,a)=>{const l=t.getNodes()[e];let o=l.getData();l.setData({name:o.name,status:a})},G=()=>{if(g.name&&(b.value.name=g.name),g.externalId&&(b.value.id=g.externalId),g.materialName&&(b.value.materialName=g.materialName),g.jobs){h.nodes=[];const e=g.jobs;for(let t=0,a=e.length;t<a;t++)h.nodes.push({id:e[t].externalId,data:{name:e[t].name,cpuCores:e[t].cpuCores,appUseCase:e[t].appUseCase,status:"default",htc:e[t].htc},shape:"default-node",ports:{...k}})}if(g.dependencies){h.edges=[];const e=g.dependencies;for(let t=0,a=e.length;t<a;t++)h.edges.push({id:e[t].externalId,source:e[t].jobDependencyExternalId,target:e[t].jobExternalId,fileDependencies:e[t].fileDependencies,shape:"default-edge",zIndex:-1})}},J=()=>{const e=t.getNodes();for(let t=0,a=e.length;t<a;t++)e[t].getData().htc&&(e[t].setData({htc:!1}),e[t].setData({htc:!0}))},P=a=>{g=a,G(),t.dispose(),ee(),te(),ae(),J(),D(),e.notify({message:"导入文件成功！",type:"positive"})},K=()=>{j(),p.Z.set("jsonData",i.value),e.notify({message:"保存数据成功！",type:"positive"})},$=()=>{p.Z.getItem("showMinimap")&&(w.showMinimap=p.Z.getItem("showMinimap")),p.Z.getItem("showGrid")&&(w.showGrid=p.Z.getItem("showGrid")),p.Z.getItem("jsonData")&&(g=p.Z.getItem("jsonData"),G())},Y=()=>{B(0,"running"),B(1,"default"),B(2,"default"),B(3,"default"),B(4,"default"),B(5,"default"),setTimeout((()=>{B(0,"success"),B(1,"running"),B(2,"running"),setTimeout((()=>{B(1,"success"),B(3,"running"),B(4,"running"),setTimeout((()=>{B(3,"success"),setTimeout((()=>{B(4,"warning")}),3e3)}),1e3)}),1e3),setTimeout((()=>{B(2,"success"),B(5,"running"),setTimeout((()=>{B(5,"error")}),1e3)}),3e3)}),2e3)},X=()=>{r.kJ.registerNode("default-node",{inherit:"vue-shape",width:200,height:36,component:ul},!0),r.kJ.registerEdge("default-edge",{inherit:"edge",attrs:{line:{stroke:"#c2c8d5",strokeWidth:1.5,targetMarker:{name:"path",offsetX:-5,d:"M10.3,11.9L10.3,6.29L10.3,5.6L10.3,0L0,5.95L10.3,11.9Z"}}}},!0)};function ee(){const e=new c.Vq({type:"dagre",ranksep:40,nodesep:60,controlPoints:!1});e.layout(h);const a={name:"stroke"};t=new r.kJ({container:document.getElementById("container"),autoResize:!0,minimap:{enabled:!0,container:document.getElementById("minimap"),width:200,height:150},height:window.innerHeight-52,background:{color:"#f7f7fa"},grid:{size:10,visible:w.showGrid,type:"dot",args:{color:"#a0a0a0",thickness:1}},snapline:!0,panning:!0,keyboard:!1,mousewheel:{enabled:!0,zoomAtMousePosition:!0,modifiers:"ctrl",minScale:.5,maxScale:3},history:{enabled:!0,ignoreChange:!0},selecting:{enabled:!0,multiple:!1,rubberEdge:!0,showNodeSelectionBox:!0,showEdgeSelectionBox:!0},connecting:{allowPort:!0,allowEdge:!1,allowNode:!1,allowLoop:!1,allowMulti:!1,allowBlank:!1,highlight:!0,snap:!0,router:{name:"er",args:{offset:"center",direction:"V"}},connector:{name:"rounded",args:{radius:45}},anchor:"center",connectionPoint:{name:"bbox"},validateConnection({targetMagnet:e,sourceCell:a,targetCell:l}){const o=t.toJSON().cells.find((e=>{if("edge"===e.shape&&e.target.cell===a.id&&e.source.cell===l.id)return!0}));return!o&&!!e},createEdge(){return t.createEdge({shape:"default-edge",attrs:{line:{strokeDasharray:"5 5"}},zIndex:-1})}},highlighting:{magnetAvailable:a,magnetAdsorbed:{name:"stroke",args:{attrs:{fill:"#fff",stroke:"#31d0c6"}}}}}).fromJSON(h)}const te=()=>{a.value=new yo({target:t,validateNode(){return!0}})};function ae(){t.on("node:contextmenu",(({node:e})=>{n.value="node",o.value=e.id})),t.on("edge:contextmenu",(({edge:e})=>{n.value="edge",o.value=e.id})),t.on("blank:contextmenu",(()=>{n.value="blank",o.value=""})),t.on("cell:mousewheel",(()=>{setTimeout((()=>{d.value=Number((100*t.zoom()).toFixed(0))}),50)})),t.on("blank:mousewheel",(()=>{setTimeout((()=>{d.value=Number((100*t.zoom()).toFixed(0))}),50)})),t.on("node:click",(({node:e})=>{s.value.nodeClickResponse(e)})),t.on("edge:click",(({edge:e})=>{s.value.edgeClickResponse(e)})),t.on("blank:click",(({})=>{s.value.blankClickResponse()})),t.on("node:mousemove",(({node:e})=>{s.value.nodeMouseMoveResponse(e)})),t.on("edge:connected",(({edge:e})=>{e.attr({line:{strokeDasharray:""}})})),t.on("node:change:data",(({node:e})=>{const a=e.getData(),l=t.getIncomingEdges(e),o=t.getOutgoingEdges(e);null===l||void 0===l||l.forEach((e=>{"running"===a.status?(e.attr("line/strokeDasharray",5),e.attr("line/style/animation","running-line 30s infinite linear")):(e.attr("line/strokeDasharray",""),e.attr("line/style/animation",""))})),null===o||void 0===o||o.forEach((e=>{!0===a.htc?(e.attr("line/strokeWidth",5),e.attr("line/targetMarker/name","path"),e.attr("line/targetMarker/offsetX",-8),e.attr("line/targetMarker/d","M5.5,15.499,15.8,21.447,15.8,15.846,25.5,21.447,25.5,9.552,15.8,15.152,15.8,9.552z")):(e.attr("line/strokeWidth",1.5),e.attr("line/targetMarker/name","path"),e.attr("line/targetMarker/offsetX",-5),e.attr("line/targetMarker/d","M10.3,11.9L10.3,6.29L10.3,5.6L10.3,0L0,5.95L10.3,11.9Z"))}))})),t.on("edge:added",(()=>{J()})),window.onresize=()=>{t.resize(window.innerWidth,window.innerHeight-52)}}return(0,l.bv)((()=>{$(),G(),X(),ee(),te(),ae(),J(),D()})),{undo:_,redo:x,zoomIn:y,zoomOut:v,centerContent:D,choiceType:n,addNode:U,deleteNode:Z,deleteEdge:z,refresh:T,nodeSetting:S,showNode:N,showEdge:I,showData:V,downloadData:F,shGrid:E,layout:H,shLeftDrawer:L,shRightDrawer:O,zoom:d,rightDrawer:s,startDrag:A,runWorkFlow:Y,help:R,jsonData:i,flow:b,shMinimap:M,zoomTo:C,zoomToFit:W,importJson:P,saveData:K,json:g,editorStore:w}}}),Co=(0,V.Z)(vo,[["render",i],["__scopeId","data-v-2aca9dd8"]]),Wo=Co,Do=(0,l.aZ)({name:"PageIndex",components:{X6Editor:Wo},setup(){return{}}}),qo=(0,V.Z)(Do,[["render",o]]),Uo=qo}}]);