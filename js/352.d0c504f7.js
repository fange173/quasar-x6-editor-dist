"use strict";(self["webpackChunkquasar_x6_editor"]=self["webpackChunkquasar_x6_editor"]||[]).push([[352],{6352:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Al});var l=a(3673);function o(e,t,a,o,n,s){const i=(0,l.up)("X6Editor");return(0,l.wg)(),(0,l.j4)(i)}var n=a(8880);const s={id:"container"},i={id:"minimap"};function d(e,t,a,o,d,c){const r=(0,l.up)("Header"),u=(0,l.up)("LeftDrawer"),m=(0,l.up)("RightDrawer"),p=(0,l.up)("ContextMenu"),w=(0,l.up)("ToolBar"),f=(0,l.up)("HelpDialog"),k=(0,l.up)("CodeDialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(r,{flow:e.flow,showGrid:e.showGrid,showMinimap:e.showMinimap},null,8,["flow","showGrid","showMinimap"]),(0,l.Wm)(u,{showLeftDrawer:e.showLeftDrawer},null,8,["showLeftDrawer"]),(0,l.Wm)(m,{ref:"rightDrawer",showRightDrawer:e.showRightDrawer,flow:e.flow},null,8,["showRightDrawer","flow"]),(0,l._)("div",s,[(0,l.Wm)(p,{choiceType:e.choiceType,onShowNode:e.showNode,onNodeSetting:e.nodeSetting,onAddNode:e.addNode,onDeleteNode:e.deleteNode,onShowEdge:e.showEdge,onDeleteEdge:e.deleteEdge,onUndo:e.undo,onRedo:e.redo,onShowData:e.showData,onDownloadData:e.downloadData,onRefresh:e.refresh},null,8,["choiceType","onShowNode","onNodeSetting","onAddNode","onDeleteNode","onShowEdge","onDeleteEdge","onUndo","onRedo","onShowData","onDownloadData","onRefresh"])]),(0,l.wy)((0,l._)("div",i,null,512),[[n.F8,e.showMinimap]]),(0,l.Wm)(w,{zoom:e.zoom,showGrid:e.showGrid,showMinimap:e.showMinimap},null,8,["zoom","showGrid","showMinimap"]),(0,l.Wm)(f,{openHelpDialog:e.openHelpDialog},null,8,["openHelpDialog"]),(0,l.Wm)(k,{openCodeDialog:e.openCodeDialog,data:e.jsonData},null,8,["openCodeDialog","data"])])}a(5363),a(9676),a(2100);var c=a(9805),r=a(4921),u=a(8825),m=a(1082),p=a(1959);const w={id:"toolbar",class:"row items-center back-blur"},f=(0,l.Uk)(" 显示缩略图 "),k=(0,l.Uk)(" 显示网点 "),b=(0,l.Uk)(" 50% "),h=(0,l.Uk)(" 75% "),g=(0,l.Uk)(" 100% "),_=(0,l.Uk)(" 125% "),v=(0,l.Uk)(" 150% "),y=(0,l.Uk)(" 200% "),x=(0,l.Uk)(" 300% "),W=(0,l.Uk)(" 重置比例 "),C=(0,l.Uk)(" 适应内容 "),D=(0,l.Uk)(" 放大 (Ctrl + 滚轮向上) "),q=(0,l.Uk)(" 缩小 (Ctrl + 滚轮向下) "),U=(0,l.Uk)(" 撤销 "),Z=(0,l.Uk)(" 重做 "),z=(0,l.Uk)(" 居中 "),T=(0,l.Uk)(" 自动布局 ");function N(e,t,a,o,n,s){const i=(0,l.up)("q-item-section"),d=(0,l.up)("q-icon"),c=(0,l.up)("q-item"),r=(0,l.up)("q-list"),u=(0,l.up)("q-btn-dropdown"),m=(0,l.up)("q-separator"),p=(0,l.up)("q-tooltip"),N=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",w,[(0,l.Wm)(u,{flat:"",dense:"",icon:"settings",class:"q-ml-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{clickable:"",onClick:o.shMinimap},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[f])),_:1}),(0,l.Wm)(i,{side:""},{default:(0,l.w5)((()=>[a.showMinimap?((0,l.wg)(),(0,l.j4)(d,{key:1,left:"",name:"check_box",class:"q-mr-none"})):((0,l.wg)(),(0,l.j4)(d,{key:0,left:"",name:"check_box_outline_blank",class:"q-mr-none"}))])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(c,{clickable:"",onClick:o.shGrid},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[k])),_:1}),(0,l.Wm)(i,{side:""},{default:(0,l.w5)((()=>[a.showGrid?((0,l.wg)(),(0,l.j4)(d,{key:1,left:"",name:"check_box",class:"q-mr-none"})):((0,l.wg)(),(0,l.j4)(d,{key:0,left:"",name:"check_box_outline_blank",class:"q-mr-none"}))])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,l.Wm)(m,{vertical:"",inset:""}),(0,l.Wm)(u,{flat:"",dense:"",label:a.zoom+"%",class:"q-ml-xs",style:{width:"68px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{clickable:"",onClick:t[0]||(t[0]=e=>o.zoomTo(.5))},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[b])),_:1})])),_:1}),(0,l.Wm)(c,{clickable:"",onClick:t[1]||(t[1]=e=>o.zoomTo(.75))},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[h])),_:1})])),_:1}),(0,l.Wm)(c,{clickable:"",onClick:t[2]||(t[2]=e=>o.zoomTo(1))},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[g])),_:1})])),_:1}),(0,l.Wm)(c,{clickable:"",onClick:t[3]||(t[3]=e=>o.zoomTo(1.25))},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[_])),_:1})])),_:1}),(0,l.Wm)(c,{clickable:"",onClick:t[4]||(t[4]=e=>o.zoomTo(1.5))},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[v])),_:1})])),_:1}),(0,l.Wm)(c,{clickable:"",onClick:t[5]||(t[5]=e=>o.zoomTo(2))},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[y])),_:1})])),_:1}),(0,l.Wm)(c,{clickable:"",onClick:t[6]||(t[6]=e=>o.zoomTo(3))},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[x])),_:1})])),_:1}),(0,l.Wm)(m),(0,l.Wm)(c,{clickable:"",onClick:t[7]||(t[7]=e=>o.zoomTo(1))},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[W])),_:1})])),_:1}),(0,l.Wm)(c,{clickable:"",onClick:o.zoomToFit},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[C])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1},8,["label"]),(0,l.Wm)(m,{vertical:"",inset:""}),(0,l.Wm)(N,{flat:"",dense:"",icon:"zoom_in",onClick:o.zoomIn,class:"q-ml-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{offset:[8,8]},{default:(0,l.w5)((()=>[D])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(N,{flat:"",dense:"",icon:"zoom_out",onClick:o.zoomOut},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{offset:[8,8]},{default:(0,l.w5)((()=>[q])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(m,{vertical:"",inset:"",class:"q-ml-xs"}),(0,l.Wm)(N,{flat:"",dense:"",icon:"undo",onClick:o.undo,class:"q-ml-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{offset:[8,8]},{default:(0,l.w5)((()=>[U])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(N,{flat:"",dense:"",icon:"redo",onClick:o.redo},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{offset:[8,8]},{default:(0,l.w5)((()=>[Z])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(m,{vertical:"",inset:"",class:"q-ml-xs"}),(0,l.Wm)(N,{flat:"",dense:"",icon:"center_focus_weak",onClick:o.centerContent},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{offset:[8,8]},{default:(0,l.w5)((()=>[z])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(N,{flat:"",dense:"",icon:"timeline",onClick:o.layout},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{offset:[8,8]},{default:(0,l.w5)((()=>[T])),_:1})])),_:1},8,["onClick"])])])}const I={props:{zoom:{type:Number},showGrid:{type:Boolean},showMinimap:{type:Boolean}},setup(){const e=(0,l.FN)(),t=()=>{e.parent.proxy.undo()},a=()=>{e.parent.proxy.redo()},o=()=>{e.parent.proxy.zoomIn()},n=()=>{e.parent.proxy.zoomOut()},s=()=>{e.parent.proxy.centerContent()},i=()=>{e.parent.proxy.shGrid()},d=()=>{e.parent.proxy.shMinimap()},c=()=>{e.parent.proxy.layout()},r=()=>{e.parent.proxy.showData()},u=()=>{e.parent.proxy.downloadData()},m=()=>{e.parent.proxy.runWorkFlow()},p=()=>{e.parent.proxy.help()},w=t=>{e.parent.proxy.zoomTo(t)},f=()=>{e.parent.proxy.zoomToFit()};return{undo:t,redo:a,zoomIn:o,zoomOut:n,centerContent:s,shGrid:i,layout:c,showData:r,downloadData:u,runWorkFlow:m,help:p,shMinimap:d,zoomTo:w,zoomToFit:f}}};var F=a(4260),Q=a(2165),V=a(8870),j=a(2226),S=a(7011),M=a(3414),E=a(8149),H=a(4554),R=a(5869),L=a(677),B=a(7518),O=a.n(B);const G=(0,F.Z)(I,[["render",N],["__scopeId","data-v-2c8afebb"]]),A=G;O()(I,"components",{QBtn:Q.Z,QTooltip:V.Z,QBtnDropdown:j.Z,QList:S.Z,QItem:M.Z,QItemSection:E.Z,QIcon:H.Z,QSeparator:R.Z}),O()(I,"directives",{ClosePopup:L.Z});a(71);var P=a(2323);const J=e=>((0,l.dD)("data-v-5636756a"),e=e(),(0,l.Cn)(),e),$=J((()=>(0,l._)("img",{src:"https://cdn.quasar.dev/logo-v2/svg/logo-mono-black.svg"},null,-1))),Y={class:"text-body1 text-bold q-px-sm"},K={class:"text-body2 row items-center"},X={class:"q-px-sm cursor-pointer non-selectable relative-position flex flex-center toolbar-a"},ee=(0,l.Uk)(" 文件 "),te=(0,l.Uk)(" 查看数据 "),ae=(0,l.Uk)(" 导出数据 "),le=(0,l.Uk)(" 保存！ "),oe=(0,l.Uk)(" 关闭！ "),ne={class:"q-px-sm cursor-pointer non-selectable relative-position flex flex-center toolbar-a"},se=(0,l.Uk)(" 编辑 "),ie=(0,l.Uk)(" 撤销 "),de=(0,l.Uk)(" 重做 "),ce=(0,l.Uk)("更多"),re=(0,l.Uk)("清空"),ue={class:"q-px-sm cursor-pointer non-selectable relative-position flex flex-center toolbar-a"},me=(0,l.Uk)(" 视图 "),pe=(0,l.Uk)(" 显示缩略图 "),we=(0,l.Uk)(" 显示网点 "),fe=(0,l.Uk)(" 放大 "),ke=(0,l.Uk)(" Ctrl+滚轮向上 "),be=(0,l.Uk)(" 缩小 "),he=(0,l.Uk)(" Ctrl+滚轮向下 "),ge=(0,l.Uk)(" 居中 "),_e=(0,l.Uk)(" 自动布局 "),ve=(0,l.Uk)(" 重置比例 "),ye=(0,l.Uk)(" 适应内容 "),xe=(0,l.Uk)(" 帮助 "),We=[xe];function Ce(e,t,a,o,n,s){const i=(0,l.up)("q-avatar"),d=(0,l.up)("q-item-section"),c=(0,l.up)("q-item"),r=(0,l.up)("q-separator"),u=(0,l.up)("q-list"),m=(0,l.up)("q-menu"),p=(0,l.up)("q-icon"),w=(0,l.up)("q-toolbar-title"),f=(0,l.up)("q-btn"),k=(0,l.up)("q-toolbar"),b=(0,l.up)("q-header"),h=(0,l.Q2)("close-popup"),g=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(b,{class:"my-header"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{class:"text-black"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[$])),_:1}),(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l._)("div",Y,(0,P.zw)(a.flow.name),1),(0,l._)("div",K,[(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",X,[ee,(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(c,{clickable:"",onClick:o.showData},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[te])),_:1})])),_:1},8,["onClick"])),[[h]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(c,{clickable:"",onClick:o.downloadData},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[ae])),_:1})])),_:1},8,["onClick"])),[[h]]),(0,l.Wm)(r),(0,l.wy)(((0,l.wg)(),(0,l.j4)(c,{clickable:"",onClick:o.showData},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[le])),_:1})])),_:1},8,["onClick"])),[[h]]),(0,l.Wm)(r),(0,l.wy)(((0,l.wg)(),(0,l.j4)(c,{clickable:"",onClick:o.showData},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[oe])),_:1})])),_:1},8,["onClick"])),[[h]])])),_:1})])),_:1})])),[[g]]),(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",ne,[se,(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(c,{clickable:"",onClick:o.undo},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[ie])),_:1})])),_:1},8,["onClick"])),[[h]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(c,{clickable:"",onClick:o.redo},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[de])),_:1})])),_:1},8,["onClick"])),[[h]]),(0,l.Wm)(r),(0,l.Wm)(c,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[ce])),_:1}),(0,l.Wm)(d,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{name:"keyboard_arrow_right"})])),_:1}),(0,l.Wm)(m,{anchor:"top end",self:"top start"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{onClick:e.refresh},{default:(0,l.w5)((()=>[re])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),[[g]]),(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",ue,[me,(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{clickable:"",onClick:o.shMinimap},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[pe])),_:1}),(0,l.Wm)(d,{side:""},{default:(0,l.w5)((()=>[a.showMinimap?((0,l.wg)(),(0,l.j4)(p,{key:1,left:"",name:"check_box",class:"q-mr-none"})):((0,l.wg)(),(0,l.j4)(p,{key:0,left:"",name:"check_box_outline_blank",class:"q-mr-none"}))])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(c,{clickable:"",onClick:o.shGrid},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[we])),_:1}),(0,l.Wm)(d,{side:""},{default:(0,l.w5)((()=>[a.showGrid?((0,l.wg)(),(0,l.j4)(p,{key:1,left:"",name:"check_box",class:"q-mr-none"})):((0,l.wg)(),(0,l.j4)(p,{key:0,left:"",name:"check_box_outline_blank",class:"q-mr-none"}))])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(r),(0,l.Wm)(c,{clickable:"",onClick:o.zoomIn},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[fe])),_:1}),(0,l.Wm)(d,{side:""},{default:(0,l.w5)((()=>[ke])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(c,{clickable:"",onClick:o.zoomOut},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[be])),_:1}),(0,l.Wm)(d,{side:""},{default:(0,l.w5)((()=>[he])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(r),(0,l.Wm)(c,{clickable:"",onClick:o.centerContent},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[ge])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(c,{clickable:"",onClick:o.layout},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[_e])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(r),(0,l.Wm)(c,{clickable:"",onClick:t[0]||(t[0]=e=>o.zoomTo(1))},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[ve])),_:1})])),_:1}),(0,l.Wm)(c,{clickable:"",onClick:o.zoomToFit},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[ye])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})])),[[g]]),(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",{class:"q-px-sm cursor-pointer non-selectable relative-position flex flex-center toolbar-a",onClick:t[1]||(t[1]=(...e)=>o.help&&o.help(...e))},We)),[[g]])])])),_:1}),(0,l.Wm)(f,{dense:"",push:"",color:"primary",icon:"autorenew",label:"运行",onClick:o.runWorkFlow},null,8,["onClick"])])),_:1})])),_:1})])}const De={props:{showGrid:{type:Boolean},showMinimap:{type:Boolean},flow:{type:Object}},setup(){const e=(0,l.FN)(),t=()=>{e.parent.proxy.undo()},a=()=>{e.parent.proxy.redo()},o=()=>{e.parent.proxy.zoomIn()},n=()=>{e.parent.proxy.zoomOut()},s=()=>{e.parent.proxy.centerContent()},i=()=>{e.parent.proxy.shGrid()},d=()=>{e.parent.proxy.shMinimap()},c=()=>{e.parent.proxy.layout()},r=()=>{e.parent.proxy.showData()},u=()=>{e.parent.proxy.downloadData()},m=()=>{e.parent.proxy.runWorkFlow()},p=()=>{e.parent.proxy.help()},w=t=>{e.parent.proxy.zoomTo(t)},f=()=>{e.parent.proxy.zoomToFit()};return{undo:t,redo:a,zoomIn:o,zoomOut:n,centerContent:s,shGrid:i,layout:c,showData:r,downloadData:u,runWorkFlow:m,help:p,shMinimap:d,zoomTo:w,zoomToFit:f}}};var qe=a(3812),Ue=a(9570),Ze=a(5096),ze=a(3747),Te=a(811),Ne=a(6489);const Ie=(0,F.Z)(De,[["render",Ce],["__scopeId","data-v-5636756a"]]),Fe=Ie;O()(De,"components",{QHeader:qe.Z,QToolbar:Ue.Z,QAvatar:Ze.Z,QToolbarTitle:ze.Z,QMenu:Te.Z,QList:S.Z,QItem:M.Z,QItemSection:E.Z,QSeparator:R.Z,QIcon:H.Z,QBtn:Q.Z}),O()(De,"directives",{Ripple:Ne.Z,ClosePopup:L.Z});const Qe=e=>((0,l.dD)("data-v-22cb58d9"),e=e(),(0,l.Cn)(),e),Ve=Qe((()=>(0,l._)("div",null,[(0,l._)("b",null,"组件库")],-1))),je={class:"q-pa-md"},Se={key:0,class:"row items-center node-label"},Me=["onMousedown","onTouchstart"],Ee=Qe((()=>(0,l._)("div",{class:"left-side"},[(0,l._)("span",{class:"material-icons status-icons",style:{color:"#808080"}}," task ")],-1))),He={class:"center"},Re=Qe((()=>(0,l._)("div",{class:"right-side"},[(0,l._)("span",{class:"material-icons status-icons"}," tune ")],-1))),Le={class:"row"},Be=Qe((()=>(0,l._)("div",{class:"col-3"},[(0,l._)("strong",null,"name：")],-1))),Oe={class:"col-9"},Ge={class:"row"},Ae=Qe((()=>(0,l._)("div",{class:"col-3"},[(0,l._)("strong",null,"appUseCase：")],-1))),Pe={class:"col-9"},Je={class:"row"},$e=Qe((()=>(0,l._)("div",{class:"col-3"},[(0,l._)("strong",null,"cpuCores：")],-1))),Ye={class:"col-9"},Ke={class:"q-mini-drawer-hide absolute",style:{top:"50%",right:"-16px"}},Xe={class:"q-mini-drawer-hide absolute",style:{top:"50%",left:"0px"}};function et(e,t,a,o,s,i){const d=(0,l.up)("q-icon"),c=(0,l.up)("q-space"),r=(0,l.up)("q-btn"),u=(0,l.up)("q-bar"),m=(0,l.up)("q-input"),p=(0,l.up)("q-tooltip"),w=(0,l.up)("q-tree"),f=(0,l.up)("q-drawer");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(f,{id:"leftDrawer",modelValue:o.showLeftDrawerCom,"onUpdate:modelValue":t[1]||(t[1]=e=>o.showLeftDrawerCom=e),"show-if-above":"",width:300,breakpoint:500,bordered:"",side:"left"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{id:"qBarTitle"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{name:"inventory"}),Ve,(0,l.Wm)(c),(0,l.Wm)(r,{dense:"",flat:"",icon:"close",onClick:o.shLeftDrawer},null,8,["onClick"])])),_:1}),(0,l._)("div",je,[(0,l.Wm)(m,{outlined:"",dense:"",ref:"filterRef",modelValue:o.filter,"onUpdate:modelValue":t[0]||(t[0]=e=>o.filter=e)},{prepend:(0,l.w5)((()=>[(0,l.Wm)(d,{name:"search"})])),append:(0,l.w5)((()=>[""!==o.filter?((0,l.wg)(),(0,l.j4)(d,{key:0,name:"clear",class:"cursor-pointer",onClick:o.resetFilter},null,8,["onClick"])):(0,l.kq)("",!0)])),_:1},8,["modelValue"]),(0,l.Wm)(w,{nodes:o.nodeList,"node-key":"id",filter:o.filter,"filter-method":o.filterMethod,"no-nodes-label":"没有节点数据！","no-results-label":"没有找到相关节点！","default-expand-all":"",class:"q-pt-sm"},{"default-header":(0,l.w5)((e=>[e.node.icon?((0,l.wg)(),(0,l.iD)("div",Se,[(0,l.Wm)(d,{name:e.node.icon,class:"q-mr-sm"},null,8,["name"]),(0,l._)("div",null,(0,P.zw)(e.node.data.name),1)])):((0,l.wg)(),(0,l.iD)("div",{key:1,class:"node",onMousedown:t=>o.startDrag(t,e),onTouchstart:(0,n.iM)((t=>o.startDrag(t,e)),["stop"])},[Ee,(0,l._)("div",He,(0,P.zw)(e.node.data.name),1),Re,(0,l.Wm)(p,{anchor:"center right",self:"center left",offset:[10,10]},{default:(0,l.w5)((()=>[(0,l._)("div",Le,[Be,(0,l._)("div",Oe,(0,P.zw)(e.node.data.name),1)]),(0,l._)("div",Ge,[Ae,(0,l._)("div",Pe,(0,P.zw)(e.node.data.appUseCase),1)]),(0,l._)("div",Je,[$e,(0,l._)("div",Ye,(0,P.zw)(e.node.data.cpuCores),1)])])),_:2},1024)],40,Me))])),_:1},8,["nodes","filter","filter-method"])]),(0,l._)("div",Ke,[(0,l.Wm)(r,{dense:"",round:"","text-color":"grey-7",unelevated:"",icon:"chevron_left",onClick:o.shLeftDrawer,style:{"z-index":"1"},class:"float-button back-blur"},null,8,["onClick"])])])),_:1},8,["modelValue"]),(0,l._)("div",Xe,[(0,l.Wm)(r,{dense:"",round:"","text-color":"grey-7",unelevated:"",icon:"chevron_right",onClick:o.shLeftDrawer,style:{"z-index":"1","margin-top":"25px"},class:"float-button back-blur"},null,8,["onClick"])])])}const tt={props:{showLeftDrawer:{type:Boolean}},setup(e){const t=(0,l.FN)(),a={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}}},items:[{group:"top"},{group:"bottom"}]},o=(0,p.iH)([{id:"Simulation",data:{name:"Simulation脚本"},icon:"flag",children:[{id:"Simulation1",shape:"default-node",data:{name:"Simulation1脚本",cpuCores:"4",appUseCase:"ab08ad37-055b-b368-58aa-037620228cf8",status:"default",htc:!1},ports:{...a}},{id:"Simulation2",shape:"default-node",data:{name:"Simulation2脚本",cpuCores:"4",appUseCase:"f30223f0-a215-4402-38ba-067a917b095d",status:"default",htc:!1},ports:{...a}},{id:"Simulation3",shape:"default-node",data:{name:"Simulation3脚本",cpuCores:"4",appUseCase:"c0121580-1097-418f-14be-170e474fb8d3",status:"default",htc:!1},ports:{...a}},{id:"Simulation4",shape:"default-node",data:{name:"Simulation4脚本",cpuCores:"4",appUseCase:"f4f1357b-1bfc-6797-5030-b9822d910e73",status:"default",htc:!1},ports:{...a}}]},{id:"Tool",data:{name:"Tool工具"},icon:"construction",children:[{id:"Tool1",shape:"default-node",data:{name:"Tool1工具",cpuCores:"4",appUseCase:"79737114-e574-8956-bd45-8cf3b9fc8c88",status:"default",htc:!1},ports:{...a}},{id:"Tool2",shape:"default-node",data:{name:"Tool2工具",cpuCores:"4",appUseCase:"75ca097e-b868-4250-885b-138a824f4982",status:"default",htc:!1},ports:{...a}},{id:"Tool3",shape:"default-node",data:{name:"Tool3工具",cpuCores:"4",appUseCase:"cec670a0-f6af-916f-7a52-ec9cbd102a9a",status:"default",htc:!1},ports:{...a}}]}]),n=(0,p.iH)(""),s=(0,p.iH)(null),i=(e,a)=>{t.parent.proxy.startDrag(e,a)},d=(0,l.Fl)((()=>e.showLeftDrawer)),c=()=>{t.parent.proxy.shLeftDrawer()},r=(e,t)=>-1!==e.data.name.indexOf(t);return{shLeftDrawer:c,showLeftDrawerCom:d,nodeList:o,filter:n,filterRef:s,resetFilter(){n.value="",s.value.focus()},startDrag:i,filterMethod:r}}};var at=a(2901),lt=a(846),ot=a(2025),nt=a(4842),st=a(5551);const it=(0,F.Z)(tt,[["render",et],["__scopeId","data-v-22cb58d9"]]),dt=it;O()(tt,"components",{QDrawer:at.Z,QBar:lt.Z,QIcon:H.Z,QSpace:ot.Z,QBtn:Q.Z,QInput:nt.Z,QTree:st.Z,QTooltip:V.Z});const ct=e=>((0,l.dD)("data-v-4464dabb"),e=e(),(0,l.Cn)(),e),rt=ct((()=>(0,l._)("div",null,[(0,l._)("b",null,"编辑")],-1))),ut={class:"q-mini-drawer-hide absolute",style:{top:"50%",left:"-16px"}},mt={class:"q-mini-drawer-hide absolute",style:{top:"50%",right:"0px"}};function pt(e,t,a,o,n,s){const i=(0,l.up)("q-icon"),d=(0,l.up)("q-space"),c=(0,l.up)("q-btn"),r=(0,l.up)("q-bar"),u=(0,l.up)("EditPanel"),m=(0,l.up)("q-drawer");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(m,{id:"rightDrawer",modelValue:o.showRightDrawerCom,"onUpdate:modelValue":t[0]||(t[0]=e=>o.showRightDrawerCom=e),"show-if-above":"",width:300,breakpoint:500,bordered:"",side:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{id:"qBarTitle"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{name:"edit"}),rt,(0,l.Wm)(d),(0,l.Wm)(c,{dense:"",flat:"",icon:"close",onClick:o.shRightDrawer},null,8,["onClick"])])),_:1}),(0,l.Wm)(u,{id:"edit",ref:"editPanel",flow:a.flow},null,8,["flow"]),(0,l._)("div",ut,[(0,l.Wm)(c,{dense:"",round:"","text-color":"grey-7",unelevated:"",icon:"chevron_right",onClick:o.shRightDrawer,style:{"z-index":"1"},class:"float-button back-blur"},null,8,["onClick"])])])),_:1},8,["modelValue"]),(0,l._)("div",mt,[(0,l.Wm)(c,{dense:"",round:"","text-color":"grey-7",unelevated:"",icon:"chevron_left",onClick:o.shRightDrawer,style:{"z-index":"1","margin-top":"25px"},class:"float-button back-blur"},null,8,["onClick"])])])}const wt=e=>((0,l.dD)("data-v-571dd375"),e=e(),(0,l.Cn)(),e),ft=wt((()=>(0,l._)("div",{id:"titleBar"},"导航器",-1))),kt=wt((()=>(0,l._)("div",{id:"minimapContainer"},null,-1))),bt=[ft,kt];function ht(e,t,a,o,n,s){return(0,l.wg)(),(0,l.iD)("div",null,bt)}const gt={},_t=(0,F.Z)(gt,[["render",ht],["__scopeId","data-v-571dd375"]]),vt=_t,yt=e=>((0,l.dD)("data-v-7deef492"),e=e(),(0,l.Cn)(),e),xt={key:0,class:"q-gutter-md q-pl-md q-pr-md q-pt-md"},Wt=yt((()=>(0,l._)("div",{class:"inputTitle row"},[(0,l._)("div",{class:"col-6"},"x"),(0,l._)("div",{class:"col-6 q-pl-sm"},"y")],-1))),Ct={class:"row q-mt-xs"},Dt={class:"col-6 q-pr-xs"},qt={class:"col-6 q-pl-xs"},Ut=yt((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"externalId",-1))),Zt=yt((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"cpuCores",-1))),zt=yt((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"appUseCase",-1))),Tt=yt((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"name",-1))),Nt=yt((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"status",-1))),It={class:"select-text"},Ft={class:"row",style:{"margin-left":"-4px"}},Qt=yt((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"htc",-1))),Vt={key:1,class:"q-gutter-md q-pl-md q-pr-md q-pt-md"},jt=yt((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"source",-1))),St=yt((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"target",-1))),Mt=yt((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"fileDependencies",-1))),Et=(0,l.Uk)("targetAppFile"),Ht=(0,l.Uk)("dependencyAppFile"),Rt=(0,l.Uk)("dependencyType"),Lt=(0,l.Uk)("+ 添加文件"),Bt={key:2,class:"q-gutter-md q-pl-md q-pr-md q-pt-md"},Ot=yt((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"id",-1))),Gt=yt((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"name",-1))),At=yt((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"materialName",-1)));function Pt(e,t,a,o,s,i){const d=(0,l.up)("q-input"),c=(0,l.up)("q-icon"),r=(0,l.up)("q-item-label"),u=(0,l.up)("q-item-section"),m=(0,l.up)("q-item"),p=(0,l.up)("q-select"),w=(0,l.up)("q-btn-toggle"),f=(0,l.up)("q-btn"),k=(0,l.up)("q-list"),b=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.iD)("div",null,["node"===o.clickType?((0,l.wg)(),(0,l.iD)("div",xt,[Wt,(0,l._)("div",Ct,[(0,l._)("div",Dt,[(0,l.Wm)(d,{dense:"",outlined:"",modelValue:o.clickNode.x,"onUpdate:modelValue":t[0]||(t[0]=e=>o.clickNode.x=e),readonly:""},null,8,["modelValue"])]),(0,l._)("div",qt,[(0,l.Wm)(d,{dense:"",outlined:"",modelValue:o.clickNode.y,"onUpdate:modelValue":t[1]||(t[1]=e=>o.clickNode.y=e),readonly:""},null,8,["modelValue"])])]),Ut,(0,l.Wm)(d,{dense:"",outlined:"",modelValue:o.clickNode.id,"onUpdate:modelValue":t[2]||(t[2]=e=>o.clickNode.id=e),class:"q-mt-xs",readonly:""},null,8,["modelValue"]),Zt,(0,l.Wm)(d,{dense:"",outlined:"",modelValue:o.clickNode.cpuCores,"onUpdate:modelValue":t[3]||(t[3]=e=>o.clickNode.cpuCores=e),class:"q-mt-xs"},null,8,["modelValue"]),zt,(0,l.Wm)(d,{dense:"",outlined:"",modelValue:o.clickNode.appUseCase,"onUpdate:modelValue":t[4]||(t[4]=e=>o.clickNode.appUseCase=e),class:"q-mt-xs"},null,8,["modelValue"]),Tt,(0,l.Wm)(d,{dense:"",outlined:"",modelValue:o.clickNode.name,"onUpdate:modelValue":t[5]||(t[5]=e=>o.clickNode.name=e),class:"q-mt-xs"},null,8,["modelValue"]),Nt,(0,l.Wm)(p,{dense:"",outlined:"",modelValue:o.clickNode.status,"onUpdate:modelValue":t[6]||(t[6]=e=>o.clickNode.status=e),options:["default","success","error","warning","running"],class:"q-mt-xs"},{prepend:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(c,{name:"task",class:"text-default",style:{"font-size":"20px"}},null,512),[[n.F8,"default"===o.clickNode.status]]),(0,l.wy)((0,l.Wm)(c,{name:"check_circle_outline",class:"text-positive",style:{"font-size":"20px"}},null,512),[[n.F8,"success"===o.clickNode.status]]),(0,l.wy)((0,l.Wm)(c,{name:"cancel",class:"text-red",style:{"font-size":"20px"}},null,512),[[n.F8,"error"===o.clickNode.status]]),(0,l.wy)((0,l.Wm)(c,{name:"error_outline",class:"text-warning",style:{"font-size":"20px"}},null,512),[[n.F8,"warning"===o.clickNode.status]]),(0,l.wy)((0,l.Wm)(c,{name:"directions_run",class:"text-primary",style:{"font-size":"20px"}},null,512),[[n.F8,"running"===o.clickNode.status]])])),selected:(0,l.w5)((()=>[(0,l._)("div",It,(0,P.zw)(o.clickNode.status),1)])),option:(0,l.w5)((e=>[(0,l.Wm)(m,(0,l.dG)(e.itemProps,(0,l.mx)(e.itemEvents)),{default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l._)("span",Ft,[(0,l.wy)((0,l.Wm)(c,{name:"task",class:"q-mr-sm text-default",style:{"font-size":"20px"}},null,512),[[n.F8,"default"===e.opt]]),(0,l.wy)((0,l.Wm)(c,{name:"check_circle_outline",class:"q-mr-sm text-positive",style:{"font-size":"20px"}},null,512),[[n.F8,"success"===e.opt]]),(0,l.wy)((0,l.Wm)(c,{name:"cancel",class:"q-mr-sm text-red",style:{"font-size":"20px"}},null,512),[[n.F8,"error"===e.opt]]),(0,l.wy)((0,l.Wm)(c,{name:"error_outline",class:"q-mr-sm text-warning",style:{"font-size":"20px"}},null,512),[[n.F8,"warning"===e.opt]]),(0,l.wy)((0,l.Wm)(c,{name:"directions_run",class:"q-mr-sm text-primary",style:{"font-size":"20px"}},null,512),[[n.F8,"running"===e.opt]]),(0,l.Wm)(r,{innerHTML:e.opt},null,8,["innerHTML"])])])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue"]),Qt,(0,l.Wm)(w,{modelValue:o.clickNode.htc,"onUpdate:modelValue":t[7]||(t[7]=e=>o.clickNode.htc=e),class:"q-mt-xs",style:{border:"1px solid #c2c2c2"},dense:"",push:"",spread:"","no-caps":"",outlined:"",unelevated:"",ripple:!1,"toggle-color":"grey",color:"white","text-color":"black",options:[{label:"true",value:!0},{label:"false",value:!1}]},null,8,["modelValue"]),(0,l._)("div",null,[(0,l.Wm)(f,{label:"保存",color:"primary",class:"q-mb-md",onClick:t[8]||(t[8]=e=>o.saveNode())})])])):"edge"===o.clickType?((0,l.wg)(),(0,l.iD)("div",Vt,[jt,(0,l.Wm)(d,{dense:"",outlined:"",modelValue:o.clickEdge.source.cell,"onUpdate:modelValue":t[9]||(t[9]=e=>o.clickEdge.source.cell=e),class:"q-mt-xs",readonly:""},null,8,["modelValue"]),St,(0,l.Wm)(d,{dense:"",outlined:"",modelValue:o.clickEdge.target.cell,"onUpdate:modelValue":t[10]||(t[10]=e=>o.clickEdge.target.cell=e),class:"q-mt-xs",readonly:""},null,8,["modelValue"]),Mt,(0,l.Wm)(k,{outlined:"",separator:"",class:"rounded-borders q-mt-xs",style:{border:"1px solid #e0e0e0"}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.clickEdge.store.data.fileDependencies,(e=>((0,l.wg)(),(0,l.j4)(m,{key:e},{default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{caption:""},{default:(0,l.w5)((()=>[Et])),_:1}),(0,l.Wm)(r,{class:"q-pb-xs"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,P.zw)(e.targetAppFile),1)])),_:2},1024),(0,l.Wm)(r,{caption:""},{default:(0,l.w5)((()=>[Ht])),_:1}),(0,l.Wm)(r,{class:"q-pb-xs"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,P.zw)(e.dependencyAppFile),1)])),_:2},1024),(0,l.Wm)(r,{caption:""},{default:(0,l.w5)((()=>[Rt])),_:1}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,P.zw)(e.dependencyType),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)(u,{top:"",side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{size:"12px",flat:"",round:"",icon:"delete"})])),_:1})])),_:2},1024)))),128)),(0,l.wy)(((0,l.wg)(),(0,l.j4)(m,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{caption:""},{default:(0,l.w5)((()=>[Lt])),_:1})])),_:1})])),_:1})),[[b]])])),_:1})])):((0,l.wg)(),(0,l.iD)("div",Bt,[Ot,(0,l.Wm)(d,{dense:"",outlined:"",modelValue:o.thisFlow.id,"onUpdate:modelValue":t[11]||(t[11]=e=>o.thisFlow.id=e),class:"q-mt-xs",readonly:""},null,8,["modelValue"]),Gt,(0,l.Wm)(d,{dense:"",outlined:"",modelValue:o.thisFlow.name,"onUpdate:modelValue":t[12]||(t[12]=e=>o.thisFlow.name=e),class:"q-mt-xs"},null,8,["modelValue"]),At,(0,l.Wm)(d,{dense:"",outlined:"",modelValue:o.thisFlow.materialName,"onUpdate:modelValue":t[13]||(t[13]=e=>o.thisFlow.materialName=e),class:"q-mt-xs"},null,8,["modelValue"]),(0,l._)("div",null,[(0,l.Wm)(f,{label:"保存",color:"primary",class:"q-mb-md",onClick:t[14]||(t[14]=e=>o.saveFlow())})])]))])}var Jt=a(4434);const $t={props:{flow:{type:Object}},setup(e){const t=(0,p.iH)(),a=(0,p.iH)(),o=(0,p.iH)(),n=(0,p.iH)(""),s=(0,p.iH)({name:"",id:"",materialName:""});function i(){const e={name:t.value.name,cpuCores:t.value.cpuCores,appUseCase:t.value.appUseCase,status:t.value.status,htc:t.value.htc};a.value.setData(e),a.value.store.data.position.x=t.value.x,a.value.store.data.position.y=t.value.y,Jt.Z.create({type:"positive",message:"保存节点成功！"})}function d(){e.flow.name=s.value.name,e.flow.id=s.value.id,e.flow.materialName=s.value.materialName,Jt.Z.create({type:"positive",message:"保存成功！"})}(0,l.Y3)((()=>{s.value.name=e.flow.name,s.value.id=e.flow.id,s.value.materialName=e.flow.materialName}));const c=e=>{n.value="node",a.value=e;const l=a.value.getData(),o={id:a.value.id,cpuCores:l.cpuCores,appUseCase:l.appUseCase,name:l.name,status:l.status,htc:l.htc,x:a.value.store.data.position.x,y:a.value.store.data.position.y};t.value=o},r=e=>{a.value=e,t.value&&(t.value.x=a.value.store.data.position.x,t.value.y=a.value.store.data.position.y)},u=e=>{n.value="edge",o.value=e},m=()=>{n.value="blank",s.value.name=e.flow.name,s.value.id=e.flow.id,s.value.materialName=e.flow.materialName};return{clickType:n,clickNode:t,clickEdge:o,saveNode:i,nodeClickResponse:c,nodeMouseMoveResponse:r,edgeClickResponse:u,blankClickResponse:m,thisFlow:s,saveFlow:d}}};var Yt=a(9396),Kt=a(2350),Xt=a(201);const ea=(0,F.Z)($t,[["render",Pt],["__scopeId","data-v-7deef492"]]),ta=ea;O()($t,"components",{QInput:nt.Z,QSelect:Yt.Z,QIcon:H.Z,QItem:M.Z,QItemSection:E.Z,QItemLabel:Kt.Z,QBtnToggle:Xt.Z,QBtn:Q.Z,QList:S.Z,QSeparator:R.Z}),O()($t,"directives",{Ripple:Ne.Z});const aa={components:{MiniMap:vt,EditPanel:ta},props:{showRightDrawer:{type:Boolean},flow:{type:Object}},setup(e){const t=(0,l.FN)(),a=(0,p.iH)(),o=(0,l.Fl)((()=>e.showRightDrawer)),n=()=>{t.parent.proxy.shRightDrawer()},s=e=>{a.value.nodeClickResponse(e)},i=e=>{a.value.nodeMouseMoveResponse(e)},d=e=>{a.value.edgeClickResponse(e)},c=()=>{a.value.blankClickResponse()};return{shRightDrawer:n,showRightDrawerCom:o,editPanel:a,nodeClickResponse:s,nodeMouseMoveResponse:i,edgeClickResponse:d,blankClickResponse:c}}},la=(0,F.Z)(aa,[["render",pt],["__scopeId","data-v-4464dabb"]]),oa=la;O()(aa,"components",{QDrawer:at.Z,QBar:lt.Z,QIcon:H.Z,QSpace:ot.Z,QBtn:Q.Z});a(4874);const na=e=>((0,l.dD)("data-v-d9bf3972"),e=e(),(0,l.Cn)(),e),sa={key:0,class:"default-node htc-node-1"},ia=na((()=>(0,l._)("div",{class:"left-side"},null,-1))),da=[ia],ca={key:1,class:"default-node htc-node-2"},ra=na((()=>(0,l._)("div",{class:"left-side"},null,-1))),ua=[ra],ma={class:"default-node"},pa={class:"left-side"},wa={key:0,class:"material-icons status-icons tooltip text-positive"},fa=(0,l.Uk)(" check_circle_outline "),ka=na((()=>(0,l._)("span",{class:"tooltiptext bg-positive",style:{left:"18%"}},"成功",-1))),ba=[fa,ka],ha={key:1,class:"material-icons status-icons tooltip text-red"},ga=(0,l.Uk)(" cancel "),_a=na((()=>(0,l._)("span",{class:"tooltiptext bg-red",style:{left:"18%"}},"错误",-1))),va=[ga,_a],ya={key:2,class:"material-icons status-icons tooltip text-warning"},xa=(0,l.Uk)(" error_outline "),Wa=na((()=>(0,l._)("span",{class:"tooltiptext bg-warning",style:{left:"18%"}},"警告",-1))),Ca=[xa,Wa],Da={key:3,class:"material-icons status-icons running-status tooltip text-primary"},qa=(0,l.Uk)(" directions_run "),Ua=na((()=>(0,l._)("span",{class:"tooltiptext bg-primary",style:{left:"18%"}},"运行",-1))),Za=[qa,Ua],za={key:4,class:"material-icons status-icons tooltip text-default"},Ta=(0,l.Uk)(" task "),Na=na((()=>(0,l._)("span",{class:"tooltiptext",style:{left:"18%"}},"默认",-1))),Ia=[Ta,Na],Fa={class:"center"},Qa={class:"right-side"},Va=(0,l.Uk)(" tune "),ja=na((()=>(0,l._)("span",{class:"tooltiptext"},"配置",-1))),Sa=[Va,ja];function Ma(e,t,a,o,n,s){return(0,l.wg)(),(0,l.iD)("div",null,[o.data.htc?((0,l.wg)(),(0,l.iD)("div",sa,da)):(0,l.kq)("",!0),o.data.htc?((0,l.wg)(),(0,l.iD)("div",ca,ua)):(0,l.kq)("",!0),(0,l._)("div",ma,[(0,l._)("div",pa,["success"===o.data.status?((0,l.wg)(),(0,l.iD)("span",wa,ba)):"error"===o.data.status?((0,l.wg)(),(0,l.iD)("span",ha,va)):"warning"===o.data.status?((0,l.wg)(),(0,l.iD)("span",ya,Ca)):"running"===o.data.status?((0,l.wg)(),(0,l.iD)("span",Da,Za)):((0,l.wg)(),(0,l.iD)("span",za,Ia))]),(0,l._)("div",Fa,(0,P.zw)(o.data.name),1),(0,l._)("div",Qa,[(0,l._)("span",{class:"material-icons status-icons cursor-pointer tooltip",onClick:t[0]||(t[0]=(...e)=>o.nodeSetting&&o.nodeSetting(...e))},Sa)])])])}var Ea=a(1525);const Ha={setup(){const e=(0,l.f3)("getNode"),t=e(),a=(0,p.iH)({name:"",status:""}),o=()=>{Ea.Z.create({title:"配置",options:{type:"radio",model:"opt1",items:[{label:"使用本地参数文件",value:"opt1",color:"secondary"},{label:"在线配置参数",value:"opt2"}]},ok:"继续",cancel:"取消"}).onOk((e=>{Jt.Z.create({message:"选择了 "+e,color:"primary"})}))};return(0,l.bv)((()=>{a.value=t.getData(),t.on("change:data",(({current:e})=>{a.value=e}))})),{data:a,nodeSetting:o}}},Ra=(0,F.Z)(Ha,[["render",Ma],["__scopeId","data-v-d9bf3972"]]),La=Ra,Ba=e=>((0,l.dD)("data-v-c551dc10"),e=e(),(0,l.Cn)(),e),Oa={class:"text-h6 row"},Ga=(0,l.Uk)(" 帮助"),Aa=Ba((()=>(0,l._)("div",{class:"text-h6 q-mb-md"},"如何新增",-1))),Pa=Ba((()=>(0,l._)("p",null,"按住并拖动左侧组件库中的节点到中间画布，松开鼠标即可新增节点。",-1))),Ja=Ba((()=>(0,l._)("div",{class:"text-h6 q-mb-md"},"如何删除",-1))),$a=Ba((()=>(0,l._)("p",null,"鼠标右键点击需要删除的节点，在弹出菜单中点击“删除”。",-1))),Ya=Ba((()=>(0,l._)("div",{class:"text-h6 q-mb-md"},"如何移动",-1))),Ka=Ba((()=>(0,l._)("p",null,"按住并拖动中间画布中的节点到指定位置，松开鼠标即可移动节点。",-1))),Xa=Ba((()=>(0,l._)("div",{class:"text-h6 q-mb-md"},"如何连线",-1))),el=Ba((()=>(0,l._)("p",null," 鼠标移动到节点上、下边框的连接桩（小圆圈）处，当鼠标指针变为十字形状（+）后，移动鼠标到另一节点的连接桩并松开鼠标，即可连线。 ",-1))),tl=Ba((()=>(0,l._)("div",{class:"text-h6 q-mb-md"},"如何配置节点",-1))),al=Ba((()=>(0,l._)("p",null,"鼠标右键点击需要配置的节点，在弹出菜单中点击“配置”。",-1))),ll=Ba((()=>(0,l._)("div",{class:"text-h6 q-mb-md"},"如何查看节点",-1))),ol=Ba((()=>(0,l._)("p",null,"鼠标右键点击需要查看的节点，在弹出菜单中点击“查看”。",-1)));function nl(e,t,a,o,n,s){const i=(0,l.up)("q-space"),d=(0,l.up)("q-btn"),c=(0,l.up)("q-card-section"),r=(0,l.up)("q-tab"),u=(0,l.up)("q-tabs"),m=(0,l.up)("q-tab-panel"),p=(0,l.up)("q-tab-panels"),w=(0,l.up)("q-splitter"),f=(0,l.up)("q-card"),k=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(k,{modelValue:o.showHelpDialog,"onUpdate:modelValue":[t[3]||(t[3]=e=>o.showHelpDialog=e),o.close],onEscapeKey:o.close},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{style:{width:"600px","max-width":"80vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l._)("div",Oa,[Ga,(0,l.Wm)(i),(0,l.Wm)(d,{dense:"",flat:"",icon:"close",onClick:o.close},null,8,["onClick"])])])),_:1}),(0,l.Wm)(c,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{limits:[20,30],modelValue:o.splitterModel,"onUpdate:modelValue":t[2]||(t[2]=e=>o.splitterModel=e)},{before:(0,l.w5)((()=>[(0,l.Wm)(u,{modelValue:o.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>o.tab=e),vertical:"",class:"text-primary"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{name:"如何新增",label:"如何新增"}),(0,l.Wm)(r,{name:"如何删除",label:"如何删除"}),(0,l.Wm)(r,{name:"如何移动",label:"如何移动"}),(0,l.Wm)(r,{name:"如何连线",label:"如何连线"}),(0,l.Wm)(r,{name:"如何配置节点",label:"如何配置节点"}),(0,l.Wm)(r,{name:"如何查看节点",label:"如何查看节点"})])),_:1},8,["modelValue"])])),after:(0,l.w5)((()=>[(0,l.Wm)(p,{modelValue:o.tab,"onUpdate:modelValue":t[1]||(t[1]=e=>o.tab=e),animated:"",swipeable:"",vertical:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"如何新增"},{default:(0,l.w5)((()=>[Aa,Pa])),_:1}),(0,l.Wm)(m,{name:"如何删除"},{default:(0,l.w5)((()=>[Ja,$a])),_:1}),(0,l.Wm)(m,{name:"如何移动"},{default:(0,l.w5)((()=>[Ya,Ka])),_:1}),(0,l.Wm)(m,{name:"如何连线"},{default:(0,l.w5)((()=>[Xa,el])),_:1}),(0,l.Wm)(m,{name:"如何配置节点"},{default:(0,l.w5)((()=>[tl,al])),_:1}),(0,l.Wm)(m,{name:"如何查看节点"},{default:(0,l.w5)((()=>[ll,ol])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","onEscapeKey"])])}const sl={props:{openHelpDialog:{type:Boolean}},setup(e){const t=(0,p.iH)("如何新增"),a=(0,p.iH)(20),o=(0,l.FN)(),n=(0,l.Fl)((()=>e.openHelpDialog)),s=()=>{o.parent.proxy.closeHelp()};return{close:s,tab:t,splitterModel:a,showHelpDialog:n}}};var il=a(6778),dl=a(151),cl=a(5589),rl=a(218),ul=a(7547),ml=a(3269),pl=a(5906),wl=a(6602);const fl=(0,F.Z)(sl,[["render",nl],["__scopeId","data-v-c551dc10"]]),kl=fl;O()(sl,"components",{QDialog:il.Z,QCard:dl.Z,QCardSection:cl.Z,QSpace:ot.Z,QBtn:Q.Z,QSplitter:rl.Z,QTabs:ul.Z,QTab:ml.Z,QTabPanels:pl.Z,QTabPanel:wl.Z});const bl={class:"text-h6 row"},hl=(0,l.Uk)(" 查看数据");function gl(e,t,a,o,n,s){const i=(0,l.up)("q-space"),d=(0,l.up)("q-btn"),c=(0,l.up)("q-card-section"),r=(0,l.up)("Codemirror"),u=(0,l.up)("q-card"),m=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(m,{modelValue:o.showCodeDialog,"onUpdate:modelValue":[t[1]||(t[1]=e=>o.showCodeDialog=e),o.close],onEscapeKey:o.close},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{style:{"min-width":"600px","max-width":"80vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l._)("div",bl,[hl,(0,l.Wm)(i),(0,l.Wm)(d,{dense:"",flat:"",icon:"content_copy",onClick:o.copy},null,8,["onClick"]),(0,l.Wm)(d,{dense:"",flat:"",icon:"close",onClick:o.close},null,8,["onClick"])])])),_:1}),(0,l.Wm)(c,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{value:a.data,"onUpdate:value":t[0]||(t[0]=e=>a.data=e),options:o.cmOptions},null,8,["value","options"])])),_:1})])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","onEscapeKey"])])}var _l=a(1914),vl=a(9847);a(3131);const yl={components:{Codemirror:vl.ZP},props:{openCodeDialog:{type:Boolean},data:{type:String}},setup(e){const t=(0,l.FN)(),a=(0,l.Fl)((()=>e.openCodeDialog)),o=()=>{(0,_l.Z)(e.data).then((()=>{Jt.Z.create({type:"positive",message:"已复制数据到剪贴板！"})})).catch((()=>{Jt.Z.create({type:"negative",message:"复制数据失败！"})}))},n=()=>{t.parent.proxy.closeCode()};return{copy:o,close:n,showCodeDialog:a,cmOptions:{mode:"application/json",tabSize:2,matchBrackets:!0,lineNumbers:!0,readOnly:!0}}}},xl=(0,F.Z)(yl,[["render",gl]]),Wl=xl;O()(yl,"components",{QDialog:il.Z,QCard:dl.Z,QCardSection:cl.Z,QSpace:ot.Z,QBtn:Q.Z});const Cl=(0,l.Uk)("查看"),Dl=(0,l.Uk)("配置"),ql=(0,l.Uk)("添加"),Ul=(0,l.Uk)("删除"),Zl=(0,l.Uk)("查看"),zl=(0,l.Uk)("删除"),Tl=(0,l.Uk)("撤销"),Nl=(0,l.Uk)("重做"),Il=(0,l.Uk)("查看"),Fl=(0,l.Uk)("导出"),Ql=(0,l.Uk)("更多"),Vl=(0,l.Uk)("清空");function jl(e,t,a,o,n,s){const i=(0,l.up)("q-item-section"),d=(0,l.up)("q-item"),c=(0,l.up)("q-separator"),r=(0,l.up)("q-list"),u=(0,l.up)("q-icon"),m=(0,l.up)("q-menu"),p=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(m,{target:"#container","touch-position":"","context-menu":""},{default:(0,l.w5)((()=>["node"==a.choiceType?((0,l.wg)(),(0,l.j4)(r,{key:0,dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{onClick:t[0]||(t[0]=t=>e.$emit("showNode"))},{default:(0,l.w5)((()=>[Cl])),_:1})])),_:1})),[[p]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{onClick:t[1]||(t[1]=t=>e.$emit("nodeSetting"))},{default:(0,l.w5)((()=>[Dl])),_:1})])),_:1})),[[p]]),(0,l.Wm)(c),(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{onClick:t[2]||(t[2]=t=>e.$emit("addNode"))},{default:(0,l.w5)((()=>[ql])),_:1})])),_:1})),[[p]]),(0,l.Wm)(c),(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{onClick:t[3]||(t[3]=t=>e.$emit("deleteNode"))},{default:(0,l.w5)((()=>[Ul])),_:1})])),_:1})),[[p]])])),_:1})):(0,l.kq)("",!0),"edge"==a.choiceType?((0,l.wg)(),(0,l.j4)(r,{key:1,dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{onClick:t[4]||(t[4]=t=>e.$emit("showEdge"))},{default:(0,l.w5)((()=>[Zl])),_:1})])),_:1})),[[p]]),(0,l.Wm)(c),(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{onClick:t[5]||(t[5]=t=>e.$emit("deleteEdge"))},{default:(0,l.w5)((()=>[zl])),_:1})])),_:1})),[[p]])])),_:1})):(0,l.kq)("",!0),"blank"==a.choiceType?((0,l.wg)(),(0,l.j4)(r,{key:2,dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{onClick:t[6]||(t[6]=t=>e.$emit("undo"))},{default:(0,l.w5)((()=>[Tl])),_:1})])),_:1})),[[p]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{onClick:t[7]||(t[7]=t=>e.$emit("redo"))},{default:(0,l.w5)((()=>[Nl])),_:1})])),_:1})),[[p]]),(0,l.Wm)(c),(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{onClick:t[8]||(t[8]=t=>e.$emit("showData"))},{default:(0,l.w5)((()=>[Il])),_:1})])),_:1})),[[p]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{onClick:t[9]||(t[9]=t=>e.$emit("downloadData"))},{default:(0,l.w5)((()=>[Fl])),_:1})])),_:1})),[[p]]),(0,l.Wm)(c),(0,l.Wm)(d,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[Ql])),_:1}),(0,l.Wm)(i,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"keyboard_arrow_right"})])),_:1}),(0,l.Wm)(m,{anchor:"top end",self:"top start"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{onClick:t[10]||(t[10]=t=>e.$emit("refresh"))},{default:(0,l.w5)((()=>[Vl])),_:1})])),_:1})),[[p]])])),_:1})])),_:1})])),_:1})])),_:1})):(0,l.kq)("",!0)])),_:1})}const Sl={props:{choiceType:{type:String}},setup(){return{}}},Ml=(0,F.Z)(Sl,[["render",jl],["__scopeId","data-v-791066b0"]]),El=Ml;O()(Sl,"components",{QMenu:Te.Z,QList:S.Z,QItem:M.Z,QItemSection:E.Z,QSeparator:R.Z,QIcon:H.Z}),O()(Sl,"directives",{ClosePopup:L.Z});const{Dnd:Hl}=r.e9,Rl=(0,l.aZ)({components:{Header:Fe,ToolBar:A,LeftDrawer:dt,RightDrawer:oa,HelpDialog:kl,CodeDialog:Wl,ContextMenu:El},setup(){const e=(0,u.Z)();let t;const a=(0,p.iH)({}),o=(0,p.iH)(""),n=(0,p.iH)(""),s=(0,p.iH)(),i=(0,p.iH)(100),d=(0,p.iH)(!0),w=(0,p.iH)(!0),f=(0,p.iH)(!1),k=(0,p.iH)(!1),b=(0,p.iH)({}),h=(0,p.iH)(!1),g=(0,p.iH)(!1),_={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}}},items:[{group:"top"},{group:"bottom"}]};let v={name:"测试工作流20220128-1",externalId:"w-workflow-20220128",materialName:"w",jobs:[{externalId:"fe94ef60-b536-22bb-61fd-6b3a2222be17",cpuCores:"2",appUseCase:"ab08ad37-055b-b368-58aa-037620228cf8",name:"Simulate1脚本",htc:!1},{externalId:"4557647d-19bc-b1d7-5aec-4963dfe83b28",cpuCores:"1",appUseCase:"f30223f0-a215-4402-38ba-067a917b095d",name:"Simulate2脚本",htc:!1},{externalId:"35344a12-c8d7-1e2c-704f-b10a9b56e2c6",cpuCores:"2",appUseCase:"c0121580-1097-418f-14be-170e474fb8d3",name:"Simulate3脚本",htc:!0},{externalId:"8c6f878b-ffa0-e51b-93d2-0e65344d7f56",cpuCores:"2",appUseCase:"f4f1357b-1bfc-6797-5030-b9822d910e73",name:"Simulate4脚本",htc:!1},{externalId:"ba2f49b7-912e-de79-50a3-8e6d4083f681",cpuCores:"1",appUseCase:"1d6913e0-32bd-4563-a073-4900579da937",name:"Simulate5脚本",htc:!1},{externalId:"7a65b4d8-12bd-bd09-170c-cf37cc0a568a",cpuCores:"2",appUseCase:"81abf716-a0f8-f064-cabe-6e4e44442825",name:"Simulate6脚本",htc:!1}],dependencies:[{externalId:"ba832c2b-7ff3-4b24-be99-53ad0f949161",jobExternalId:"4557647d-19bc-b1d7-5aec-4963dfe83b28",jobDependencyExternalId:"fe94ef60-b536-22bb-61fd-6b3a2222be17",fileDependencies:[{targetAppFile:"0a9c2cb6-3dc7-9a00-55f1-33f2e31f5561",dependencyAppFile:"2ae998c2-7a33-65a4-a9b1-07a101ec695c",dependencyType:"appFile"},{targetAppFile:"d499e05c-a1a1-f365-184a-06f64438d81f",dependencyAppFile:"f055da12-e175-3f38-c2df-4a589ddc5db9",dependencyType:"appFile"}]},{externalId:"6201ebaf-5c4a-4211-a9ca-7ecb367c9e25",jobExternalId:"35344a12-c8d7-1e2c-704f-b10a9b56e2c6",jobDependencyExternalId:"fe94ef60-b536-22bb-61fd-6b3a2222be17",fileDependencies:[{targetAppFile:"b098bf40-eb8c-30d8-ef16-8f21ab41b248",dependencyAppFile:"1191f899-eaad-b87c-8936-5cf96d72d1c4",dependencyType:"appFile"}]},{externalId:"a5b8558d-12c8-4ec8-a69f-cbcc7e1dbea7",jobExternalId:"8c6f878b-ffa0-e51b-93d2-0e65344d7f56",jobDependencyExternalId:"4557647d-19bc-b1d7-5aec-4963dfe83b28",fileDependencies:[{targetAppFile:"56c90586-a686-5330-0b16-72a231212171",dependencyAppFile:"56984e29-f833-adae-9253-882e255d2e3b",dependencyType:"appFile"}]},{externalId:"9eda6ea8-d91b-4b1c-9cfb-4a46be11b698",jobExternalId:"ba2f49b7-912e-de79-50a3-8e6d4083f681",jobDependencyExternalId:"4557647d-19bc-b1d7-5aec-4963dfe83b28"},{externalId:"080cf216-4e96-4b31-b664-8666e3f98b41",jobExternalId:"7a65b4d8-12bd-bd09-170c-cf37cc0a568a",jobDependencyExternalId:"35344a12-c8d7-1e2c-704f-b10a9b56e2c6"}]};const y=(0,p.iH)({name:"",id:"",materialName:""});let x={nodes:[],edges:[]};const W=()=>{t.undo()},C=()=>{t.redo()},D=()=>{i.value<=280&&(t.zoom(.2),setTimeout((()=>{i.value=Number((100*t.zoom()).toFixed(0))}),50))},q=()=>{i.value>=70&&(t.zoom(-.2),setTimeout((()=>{i.value=Number((100*t.zoom()).toFixed(0))}),50))},U=e=>{t.zoomTo(e),setTimeout((()=>{i.value=Number((100*t.zoom()).toFixed(0))}),50)},Z=()=>{t.zoomToFit(),setTimeout((()=>{i.value=Number((100*t.zoom()).toFixed(0))}),50)},z=()=>{t.centerContent()},T=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,a="x"==e?t:3&t|8;return a.toString(16)})),N=()=>{const a=t.toJSON().cells.find((e=>e.id==o.value)),l=T();t.addNode({id:l,data:{name:"未命名节点",cpuCores:"",appUseCase:"",status:"default",htc:!1},shape:"default-node",ports:{..._},x:null===a||void 0===a?void 0:a.position.x,y:(null===a||void 0===a?void 0:a.position.y)+160}),t.addEdge({source:null===a||void 0===a?void 0:a.id,target:l,shape:"default-edge",zIndex:-1}),oe(),e.notify({message:"添加节点成功！进行自动布局？",type:"positive",multiLine:!0,actions:[{label:"否",color:"white",handler:()=>{}},{label:"是",color:"yellow",handler:()=>{A()}}]})},I=()=>{t.removeNode(o.value),e.notify({message:"删除节点成功！",type:"positive"})},F=()=>{t.removeEdge(o.value),e.notify({message:"删除连线成功！",type:"positive"})},Q=()=>{t.clearCells(),e.notify({message:"清空画布成功！",type:"positive"})},V=()=>{e.dialog({options:{title:"配置",type:"radio",model:"opt1",items:[{label:"使用本地参数文件",value:"opt1",color:"secondary"},{label:"在线配置参数",value:"opt2"}]},ok:"继续",cancel:"取消"}).onOk((t=>{e.notify({message:"选择了 "+t,color:"primary"})}))},j=()=>{M(),b.value=JSON.stringify(b.value.jobs.find((e=>e.externalId==o.value)),null,2),k.value=!0},S=()=>{M(),b.value=JSON.stringify(b.value.dependencies.find((e=>e.externalId==o.value)),null,2),k.value=!0},M=()=>{const e=t.toJSON().cells;let a=[],l=[];for(let t=0,o=e.length;t<o;t++)"default-edge"===e[t].shape?l.push({externalId:e[t].id,jobExternalId:e[t].target.cell,jobDependencyExternalId:e[t].source.cell,fileDependencies:e[t].fileDependencies}):a.push({externalId:e[t].id,cpuCores:e[t].data.cpuCores,appUseCase:e[t].data.appUseCase,name:e[t].data.name,htc:e[t].data.htc});b.value={name:y.value.name,externalId:y.value.id,materialName:y.value.materialName,jobs:a,dependencies:l}},E=()=>{M(),b.value=JSON.stringify(b.value,null,2),k.value=!0},H=()=>{k.value=!1},R=()=>{e.dialog({title:"提示",message:"确定要下载该流程数据吗？",ok:"确定",cancel:"取消",persistent:!0}).onOk((()=>{M();const t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(b.value,null,"\t")),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download","data"+m.ZP.formatDate(new Date,"YYYYMMDDHHmm")+".json"),a.click(),a.remove(),e.notify({message:"正在下载中，请稍候...",color:"primary"})}))},L=()=>{f.value=!0},B=()=>{f.value=!1},O=()=>{!0===g.value?t.hideGrid():t.showGrid(),g.value=!g.value},G=()=>{h.value=!h.value},A=()=>{M(),v=b.value,Y(),t.dispose(),X(),ee(),te(),z()},P=()=>{d.value=!d.value,!0===d.value&&!0===w.value?t.resize(window.innerWidth-600,window.innerHeight-52):!0===d.value&&!1===w.value||!1===d.value&&!0===w.value?t.resize(window.innerWidth-300,window.innerHeight-52):t.resize(window.innerWidth,window.innerHeight-52)};function J(){w.value=!w.value,!0===d.value&&!0===w.value?t.resize(window.innerWidth-600,window.innerHeight-52):!0===d.value&&!1===w.value||!1===d.value&&!0===w.value?t.resize(window.innerWidth-300,window.innerHeight-52):t.resize(window.innerWidth,window.innerHeight-52)}const $=(e,l)=>{const o=t.createNode(l.node);a.value.start(o,e)},Y=()=>{if(v.name&&(y.value.name=v.name),v.externalId&&(y.value.id=v.externalId),v.materialName&&(y.value.materialName=v.materialName),0!==v.jobs.length){x.nodes=[];const e=v.jobs;for(let t=0,a=e.length;t<a;t++)x.nodes.push({id:e[t].externalId,data:{name:e[t].name,cpuCores:e[t].cpuCores,appUseCase:e[t].appUseCase,status:"default",htc:e[t].htc},shape:"default-node",ports:{..._}})}if(0!==v.dependencies.length){x.edges=[];const e=v.dependencies;for(let t=0,a=e.length;t<a;t++)x.edges.push({id:e[t].externalId,source:e[t].jobDependencyExternalId,target:e[t].jobExternalId,fileDependencies:e[t].fileDependencies,shape:"default-edge",zIndex:-1})}},K=()=>{r.kJ.registerNode("default-node",{inherit:"vue-shape",width:200,height:36,component:La},!0),r.kJ.registerEdge("default-edge",{inherit:"edge",attrs:{line:{stroke:"#c2c8d5",strokeWidth:1.5,targetMarker:{name:"path",offsetX:-5,d:"M10.3,11.9L10.3,6.29L10.3,5.6L10.3,0L0,5.95L10.3,11.9Z"}}}},!0)};function X(){const e=new c.Vq({type:"dagre",ranksep:40,nodesep:60,controlPoints:!1});e.layout(x);const a={name:"stroke"};t=new r.kJ({container:document.getElementById("container"),autoResize:!0,minimap:{enabled:!0,container:document.getElementById("minimap"),width:266,height:198},height:window.innerHeight-52,background:{color:"#f7f7fa"},grid:{size:10,visible:g.value,type:"dot",args:{color:"#a0a0a0",thickness:1}},snapline:!0,panning:!0,keyboard:!1,mousewheel:{enabled:!0,zoomAtMousePosition:!0,modifiers:"ctrl",minScale:.5,maxScale:3},history:{enabled:!0,ignoreChange:!0},selecting:{enabled:!0,multiple:!1,rubberEdge:!0,showNodeSelectionBox:!0,showEdgeSelectionBox:!0},connecting:{allowPort:!0,allowEdge:!1,allowNode:!1,allowLoop:!1,allowMulti:!1,allowBlank:!1,highlight:!0,snap:!0,router:{name:"er",args:{offset:"center",direction:"V"}},connector:{name:"rounded",args:{radius:45}},anchor:"center",connectionPoint:{name:"bbox"},validateConnection({targetMagnet:e,sourceCell:a,targetCell:l}){const o=t.toJSON().cells.find((e=>{if("edge"===e.shape&&e.target.cell===a.id&&e.source.cell===l.id)return!0}));return!o&&!!e},createEdge(){return t.createEdge({shape:"default-edge",attrs:{line:{strokeDasharray:"5 5"}},zIndex:-1})}},highlighting:{magnetAvailable:a,magnetAdsorbed:{name:"stroke",args:{attrs:{fill:"#fff",stroke:"#31d0c6"}}}}}).fromJSON(x)}const ee=()=>{a.value=new Hl({target:t,validateNode(){return!0}})};function te(){t.on("node:contextmenu",(({node:e})=>{n.value="node",o.value=e.id})),t.on("edge:contextmenu",(({edge:e})=>{n.value="edge",o.value=e.id})),t.on("blank:contextmenu",(()=>{n.value="blank",o.value=""})),t.on("cell:mousewheel",(()=>{setTimeout((()=>{i.value=Number((100*t.zoom()).toFixed(0))}),50)})),t.on("blank:mousewheel",(()=>{setTimeout((()=>{i.value=Number((100*t.zoom()).toFixed(0))}),50)})),t.on("node:click",(({node:e})=>{s.value.nodeClickResponse(e)})),t.on("edge:click",(({edge:e})=>{s.value.edgeClickResponse(e)})),t.on("blank:click",(({})=>{s.value.blankClickResponse()})),t.on("node:mousemove",(({node:e})=>{s.value.nodeMouseMoveResponse(e)})),t.on("edge:connected",(({edge:e})=>{e.attr({line:{strokeDasharray:""}})})),t.on("node:change:data",(({node:e})=>{const a=e.getData(),l=t.getIncomingEdges(e),o=t.getOutgoingEdges(e);null===l||void 0===l||l.forEach((e=>{"running"===a.status?(e.attr("line/strokeDasharray",5),e.attr("line/style/animation","running-line 30s infinite linear")):(e.attr("line/strokeDasharray",""),e.attr("line/style/animation",""))})),null===o||void 0===o||o.forEach((e=>{!0===a.htc?(e.attr("line/strokeWidth",5),e.attr("line/targetMarker/name","path"),e.attr("line/targetMarker/offsetX",-8),e.attr("line/targetMarker/d","M5.5,15.499,15.8,21.447,15.8,15.846,25.5,21.447,25.5,9.552,15.8,15.152,15.8,9.552z")):(e.attr("line/strokeWidth",1.5),e.attr("line/targetMarker/name","path"),e.attr("line/targetMarker/offsetX",-5),e.attr("line/targetMarker/d","M10.3,11.9L10.3,6.29L10.3,5.6L10.3,0L0,5.95L10.3,11.9Z"))}))})),t.on("edge:added",(()=>{oe()}))}const ae=(e,a)=>{const l=t.getNodes()[e];let o=l.getData();l.setData({name:o.name,status:a})},le=()=>{ae(0,"running"),ae(1,"default"),ae(2,"default"),ae(3,"default"),ae(4,"default"),ae(5,"default"),setTimeout((()=>{ae(0,"success"),ae(1,"running"),ae(2,"running"),setTimeout((()=>{ae(1,"success"),ae(3,"running"),ae(4,"running"),setTimeout((()=>{ae(3,"success"),setTimeout((()=>{ae(4,"warning")}),3e3)}),1e3)}),1e3),setTimeout((()=>{ae(2,"success"),ae(5,"running"),setTimeout((()=>{ae(5,"error")}),1e3)}),3e3)}),2e3)},oe=()=>{const e=t.getNodes();for(let t=0,a=e.length;t<a;t++)e[t].getData().htc&&(e[t].setData({htc:!1}),e[t].setData({htc:!0}))};return(0,l.bv)((()=>{Y(),K(),X(),ee(),te(),oe(),z()})),{undo:W,redo:C,zoomIn:D,zoomOut:q,centerContent:z,choiceType:n,addNode:N,deleteNode:I,deleteEdge:F,refresh:Q,nodeSetting:V,showNode:j,showEdge:S,showData:E,downloadData:R,shGrid:O,layout:A,shLeftDrawer:P,shRightDrawer:J,showLeftDrawer:d,showRightDrawer:w,zoom:i,rightDrawer:s,startDrag:$,runWorkFlow:le,openHelpDialog:f,help:L,closeHelp:B,closeCode:H,openCodeDialog:k,jsonData:b,flow:y,showMinimap:h,shMinimap:G,showGrid:g,zoomTo:U,zoomToFit:Z}}}),Ll=(0,F.Z)(Rl,[["render",d],["__scopeId","data-v-21b00386"]]),Bl=Ll,Ol=(0,l.aZ)({name:"PageIndex",components:{X6Editor:Bl},setup(){return{}}}),Gl=(0,F.Z)(Ol,[["render",o]]),Al=Gl}}]);