"use strict";(self["webpackChunkquasar_x6_editor"]=self["webpackChunkquasar_x6_editor"]||[]).push([[270],{6270:(e,l,a)=>{a.r(l),a.d(l,{default:()=>Ma});var t=a(3673);function o(e,l,a,o,n,s){const d=(0,t.up)("X6Editor");return(0,t.wg)(),(0,t.j4)(d)}const n=(0,t.Uk)("查看"),s=(0,t.Uk)("配置"),d=(0,t.Uk)("删除"),i=(0,t.Uk)("查看"),c=(0,t.Uk)("删除"),r=(0,t.Uk)("撤销"),u=(0,t.Uk)("重做"),p=(0,t.Uk)("查看"),m=(0,t.Uk)("导出"),f=(0,t.Uk)("更多"),w=(0,t.Uk)("清空");function g(e,l,a,o,g,v){const b=(0,t.up)("LeftDrawer"),h=(0,t.up)("RightDrawer"),k=(0,t.up)("q-item-section"),_=(0,t.up)("q-item"),x=(0,t.up)("q-separator"),C=(0,t.up)("q-list"),y=(0,t.up)("q-icon"),W=(0,t.up)("q-menu"),q=(0,t.up)("q-page"),D=(0,t.up)("ToolBar"),U=(0,t.up)("HelpDialog"),z=(0,t.up)("CodeDialog"),Z=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(b,{showLeftDrawer:e.showLeftDrawer},null,8,["showLeftDrawer"]),(0,t.Wm)(h,{ref:"rightDrawer",showRightDrawer:e.showRightDrawer},null,8,["showRightDrawer"]),(0,t.Wm)(q,{id:"container"},{default:(0,t.w5)((()=>[(0,t.Wm)(W,{"touch-position":"","context-menu":""},{default:(0,t.w5)((()=>["node"==e.choiceType?((0,t.wg)(),(0,t.j4)(C,{key:0,dense:"",style:{"min-width":"100px"}},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(_,{clickable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{onClick:e.showNode},{default:(0,t.w5)((()=>[n])),_:1},8,["onClick"])])),_:1})),[[Z]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(_,{clickable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{onClick:e.nodeSetting},{default:(0,t.w5)((()=>[s])),_:1},8,["onClick"])])),_:1})),[[Z]]),(0,t.Wm)(x),(0,t.wy)(((0,t.wg)(),(0,t.j4)(_,{clickable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{onClick:e.deleteNode},{default:(0,t.w5)((()=>[d])),_:1},8,["onClick"])])),_:1})),[[Z]])])),_:1})):(0,t.kq)("",!0),"edge"==e.choiceType?((0,t.wg)(),(0,t.j4)(C,{key:1,dense:"",style:{"min-width":"100px"}},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(_,{clickable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{onClick:e.showEdge},{default:(0,t.w5)((()=>[i])),_:1},8,["onClick"])])),_:1})),[[Z]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(_,{clickable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{onClick:e.deleteEdge},{default:(0,t.w5)((()=>[c])),_:1},8,["onClick"])])),_:1})),[[Z]])])),_:1})):(0,t.kq)("",!0),"blank"==e.choiceType?((0,t.wg)(),(0,t.j4)(C,{key:2,dense:"",style:{"min-width":"100px"}},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(_,{clickable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{onClick:e.undo},{default:(0,t.w5)((()=>[r])),_:1},8,["onClick"])])),_:1})),[[Z]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(_,{clickable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{onClick:e.redo},{default:(0,t.w5)((()=>[u])),_:1},8,["onClick"])])),_:1})),[[Z]]),(0,t.Wm)(x),(0,t.wy)(((0,t.wg)(),(0,t.j4)(_,{clickable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{onClick:e.showData},{default:(0,t.w5)((()=>[p])),_:1},8,["onClick"])])),_:1})),[[Z]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(_,{clickable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{onClick:e.downloadData},{default:(0,t.w5)((()=>[m])),_:1},8,["onClick"])])),_:1})),[[Z]]),(0,t.Wm)(x),(0,t.Wm)(_,{clickable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(k,null,{default:(0,t.w5)((()=>[f])),_:1}),(0,t.Wm)(k,{side:""},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{name:"keyboard_arrow_right"})])),_:1}),(0,t.Wm)(W,{anchor:"top end",self:"top start"},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{dense:"",style:{"min-width":"100px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(_,{clickable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{onClick:e.refresh},{default:(0,t.w5)((()=>[w])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):(0,t.kq)("",!0)])),_:1})])),_:1}),(0,t.Wm)(D,{zoom:e.zoom},null,8,["zoom"]),(0,t.Wm)(U,{openHelpDialog:e.openHelpDialog},null,8,["openHelpDialog"]),(0,t.Wm)(z,{openCodeDialog:e.openCodeDialog,data:e.jsonData},null,8,["openCodeDialog","data"])])}var v=a(2623),b=a(4921),h=a(8825),k=a(1082),_=a(1959),x=a(2323);const C={id:"toolbar",class:"row items-center blur"},y=(0,t.Uk)(" 撤销 "),W=(0,t.Uk)(" 重做 "),q={class:"q-ml-sm",style:{"min-width":"40px"}},D=(0,t.Uk)(" 放大 (Ctrl + 滚轮向上) "),U=(0,t.Uk)(" 缩小 (Ctrl + 滚轮向下) "),z=(0,t.Uk)(" 居中 "),Z=(0,t.Uk)(" 显示网点 "),I=(0,t.Uk)(" 查看 json "),T=(0,t.Uk)(" 导出 json "),V=(0,t.Uk)(" 运行 "),N=(0,t.Uk)(" 帮助 ");function H(e,l,a,o,n,s){const d=(0,t.up)("q-tooltip"),i=(0,t.up)("q-btn"),c=(0,t.up)("q-separator");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",C,[(0,t.Wm)(i,{flat:"",dense:"",icon:"undo",onClick:o.undo,class:"q-ml-xs"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{offset:[8,8]},{default:(0,t.w5)((()=>[y])),_:1})])),_:1},8,["onClick"]),(0,t.Wm)(i,{flat:"",dense:"",icon:"redo",onClick:o.redo},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{offset:[8,8]},{default:(0,t.w5)((()=>[W])),_:1})])),_:1},8,["onClick"]),(0,t.Wm)(c,{vertical:"",inset:"",class:"q-ml-xs"}),(0,t._)("div",q,(0,x.zw)(a.zoom)+"%",1),(0,t.Wm)(i,{flat:"",dense:"",icon:"zoom_in",onClick:o.zoomIn,class:"q-ml-xs"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{offset:[8,8]},{default:(0,t.w5)((()=>[D])),_:1})])),_:1},8,["onClick"]),(0,t.Wm)(i,{flat:"",dense:"",icon:"zoom_out",onClick:o.zoomOut},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{offset:[8,8]},{default:(0,t.w5)((()=>[U])),_:1})])),_:1},8,["onClick"]),(0,t.Wm)(c,{vertical:"",inset:"",class:"q-ml-xs"}),(0,t.Wm)(i,{flat:"",dense:"",icon:"center_focus_weak",onClick:o.centerContent,class:"q-ml-xs"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{offset:[8,8]},{default:(0,t.w5)((()=>[z])),_:1})])),_:1},8,["onClick"]),(0,t.Wm)(i,{flat:"",dense:"",icon:"grid_4x4",onClick:o.shGird},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{offset:[8,8]},{default:(0,t.w5)((()=>[Z])),_:1})])),_:1},8,["onClick"]),(0,t.Wm)(c,{vertical:"",inset:"",class:"q-ml-xs"}),(0,t.Wm)(i,{flat:"",dense:"",icon:"visibility",onClick:o.showData,class:"q-ml-xs"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{offset:[8,8]},{default:(0,t.w5)((()=>[I])),_:1})])),_:1},8,["onClick"]),(0,t.Wm)(i,{flat:"",dense:"",icon:"download",onClick:o.downloadData},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{offset:[8,8]},{default:(0,t.w5)((()=>[T])),_:1})])),_:1},8,["onClick"]),(0,t.Wm)(c,{vertical:"",inset:"",class:"q-ml-xs"}),(0,t.Wm)(i,{flat:"",dense:"",color:"primary",icon:"directions_run",onClick:o.runWorkFlow,class:"q-ml-xs"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{offset:[8,8]},{default:(0,t.w5)((()=>[V])),_:1})])),_:1},8,["onClick"]),(0,t.Wm)(i,{flat:"",dense:"",icon:"help",onClick:o.help,class:"q-mr-xs"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{offset:[8,8]},{default:(0,t.w5)((()=>[N])),_:1})])),_:1},8,["onClick"])])])}const Q={props:{zoom:{type:Number}},setup(){const e=(0,t.FN)(),l=()=>{e.parent.proxy.undo()},a=()=>{e.parent.proxy.redo()},o=()=>{e.parent.proxy.zoomIn()},n=()=>{e.parent.proxy.zoomOut()},s=()=>{e.parent.proxy.centerContent()},d=()=>{e.parent.proxy.shGird()},i=()=>{e.parent.proxy.showData()},c=()=>{e.parent.proxy.downloadData()},r=()=>{e.parent.proxy.runWorkFlow()},u=()=>{e.parent.proxy.help()};return{undo:l,redo:a,zoomIn:o,zoomOut:n,centerContent:s,shGird:d,showData:i,downloadData:c,runWorkFlow:r,help:u}}};var S=a(4260),j=a(8240),E=a(8870),F=a(5869),M=a(7518),R=a.n(M);const L=(0,S.Z)(Q,[["render",H]]),B=L;R()(Q,"components",{QBtn:j.Z,QTooltip:E.Z,QSeparator:F.Z});var A=a(8880);const O=e=>((0,t.dD)("data-v-3e4cc071"),e=e(),(0,t.Cn)(),e),P=O((()=>(0,t._)("div",null,[(0,t._)("b",null,"组件库")],-1))),J={class:"q-pa-md"},G={key:0,class:"row items-center node-label"},K=["onMousedown","onTouchstart"],Y={class:"center"},X=O((()=>(0,t._)("div",{class:"right-side"},[(0,t._)("svg",{t:"1642577466654",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"14516",width:"16",height:"16"},[(0,t._)("path",{d:"M682.666667 0v256h256l-256-256z m-85.333334 0H170.666667a85.333333 85.333333 0 0 0-85.333334 85.333333v853.333334a85.333333 85.333333 0 0 0 85.333334 85.333333h682.666666a85.333333 85.333333 0 0 0 85.333334-85.333333V341.333333h-341.333334V0z m7.168 514.517333a42.666667 42.666667 0 1 1 70.997334 47.36L481.152 853.333333l-163.498667-109.013333a42.666667 42.666667 0 1 1 47.36-70.997333l92.501334 61.653333 146.986666-220.458667z","p-id":"14517",fill:"#666666"})])],-1))),$={class:"row"},ee=O((()=>(0,t._)("div",{class:"col-3 text-"},[(0,t._)("strong",null,"externalId：")],-1))),le={class:"col-9"},ae={class:"row"},te=O((()=>(0,t._)("div",{class:"col-3"},[(0,t._)("strong",null,"cpuCores：")],-1))),oe={class:"col-9"},ne={class:"row"},se=O((()=>(0,t._)("div",{class:"col-3"},[(0,t._)("strong",null,"appUseCase：")],-1))),de={class:"col-9"},ie={class:"row"},ce=O((()=>(0,t._)("div",{class:"col-3"},[(0,t._)("strong",null,"name：")],-1))),re={class:"col-9"},ue={class:"row"},pe=O((()=>(0,t._)("div",{class:"col-3"},[(0,t._)("strong",null,"status：")],-1))),me={class:"col-9"},fe={class:"q-mini-drawer-hide absolute",style:{top:"50%",right:"-16px"}},we={class:"q-mini-drawer-hide absolute",style:{top:"50%",left:"0px"}};function ge(e,l,a,o,n,s){const d=(0,t.up)("q-icon"),i=(0,t.up)("q-space"),c=(0,t.up)("q-btn"),r=(0,t.up)("q-bar"),u=(0,t.up)("q-input"),p=(0,t.up)("q-tooltip"),m=(0,t.up)("q-tree"),f=(0,t.up)("q-drawer");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(f,{id:"leftDrawer",modelValue:o.showLeftDrawerCom,"onUpdate:modelValue":l[1]||(l[1]=e=>o.showLeftDrawerCom=e),"show-if-above":"",width:300,breakpoint:500,bordered:"",side:"left"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{id:"qBarTitle"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{name:"inventory"}),P,(0,t.Wm)(i),(0,t.Wm)(c,{dense:"",flat:"",icon:"close",onClick:o.shLeftDrawer},null,8,["onClick"])])),_:1}),(0,t._)("div",J,[(0,t.Wm)(u,{outlined:"",dense:"",ref:"filterRef",modelValue:o.filter,"onUpdate:modelValue":l[0]||(l[0]=e=>o.filter=e)},{prepend:(0,t.w5)((()=>[(0,t.Wm)(d,{name:"search"})])),append:(0,t.w5)((()=>[""!==o.filter?((0,t.wg)(),(0,t.j4)(d,{key:0,name:"clear",class:"cursor-pointer",onClick:o.resetFilter},null,8,["onClick"])):(0,t.kq)("",!0)])),_:1},8,["modelValue"]),(0,t.Wm)(m,{nodes:o.nodeList,"node-key":"id",filter:o.filter,"filter-method":o.filterMethod,"no-nodes-label":"没有节点数据！","no-results-label":"没有找到相关节点！","default-expand-all":"",class:"q-pt-sm"},{"default-header":(0,t.w5)((e=>[e.node.icon?((0,t.wg)(),(0,t.iD)("div",G,[(0,t.Wm)(d,{name:e.node.icon,class:"q-mr-sm"},null,8,["name"]),(0,t._)("div",null,(0,x.zw)(e.node.data.name),1)])):((0,t.wg)(),(0,t.iD)("div",{key:1,class:"node",style:{cursor:"move"},onMousedown:l=>o.startDrag(l,e),onTouchstart:(0,A.iM)((l=>o.startDrag(l,e)),["stop"])},[(0,t._)("div",Y,(0,x.zw)(e.node.data.name),1),X,(0,t.Wm)(p,{anchor:"center right",self:"center left",offset:[10,10]},{default:(0,t.w5)((()=>[(0,t._)("div",$,[ee,(0,t._)("div",le,(0,x.zw)(e.node.id),1)]),(0,t._)("div",ae,[te,(0,t._)("div",oe,(0,x.zw)(e.node.data.cpuCores),1)]),(0,t._)("div",ne,[se,(0,t._)("div",de,(0,x.zw)(e.node.data.appUseCase),1)]),(0,t._)("div",ie,[ce,(0,t._)("div",re,(0,x.zw)(e.node.data.name),1)]),(0,t._)("div",ue,[pe,(0,t._)("div",me,(0,x.zw)(e.node.data.status),1)])])),_:2},1024)],40,K))])),_:1},8,["nodes","filter","filter-method"])]),(0,t._)("div",fe,[(0,t.Wm)(c,{dense:"",round:"","text-color":"grey-7",unelevated:"",icon:"chevron_left",onClick:o.shLeftDrawer,style:{"z-index":"1"},class:"float-button blur"},null,8,["onClick"])])])),_:1},8,["modelValue"]),(0,t._)("div",we,[(0,t.Wm)(c,{dense:"",round:"","text-color":"grey-7",unelevated:"",icon:"chevron_right",onClick:o.shLeftDrawer,style:{"z-index":"1","margin-top":"25px"},class:"float-button blur"},null,8,["onClick"])])])}const ve={props:{showLeftDrawer:{type:Boolean}},setup(e){const l=(0,t.FN)(),a={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}}},items:[{group:"top"},{group:"bottom"}]},o=(0,_.iH)([{id:"Simulation",data:{name:"Simulation脚本"},icon:"flag",children:[{id:"Simulation1",shape:"default-node",data:{name:"Simulation1脚本",cpuCores:"4",appUseCase:"ab08ad37-055b-b368-58aa-037620228cf8",status:"default"},ports:{...a}},{id:"Simulation2",shape:"default-node",data:{name:"Simulation2脚本",cpuCores:"4",appUseCase:"f30223f0-a215-4402-38ba-067a917b095d",status:"default"},ports:{...a}},{id:"Simulation3",shape:"default-node",data:{name:"Simulation3脚本",cpuCores:"4",appUseCase:"c0121580-1097-418f-14be-170e474fb8d3",status:"default"},ports:{...a}},{id:"Simulation4",shape:"default-node",data:{name:"Simulation4脚本",cpuCores:"4",appUseCase:"f4f1357b-1bfc-6797-5030-b9822d910e73",status:"default"},ports:{...a}}]},{id:"Tool",data:{name:"Tool工具"},icon:"construction",children:[{id:"Tool1",shape:"default-node",data:{name:"Tool1工具",cpuCores:"4",appUseCase:"79737114-e574-8956-bd45-8cf3b9fc8c88",status:"default"},ports:{...a}},{id:"Tool2",shape:"default-node",data:{name:"Tool2工具",cpuCores:"4",appUseCase:"75ca097e-b868-4250-885b-138a824f4982",status:"default"},ports:{...a}},{id:"Tool3",shape:"default-node",data:{name:"Tool3工具",cpuCores:"4",appUseCase:"cec670a0-f6af-916f-7a52-ec9cbd102a9a",status:"default"},ports:{...a}}]}]),n=(0,_.iH)(""),s=(0,_.iH)(null),d=(e,a)=>{l.parent.proxy.startDrag(e,a)},i=(0,t.Fl)((()=>e.showLeftDrawer)),c=()=>{l.parent.proxy.shLeftDrawer()},r=(e,l)=>-1!==e.data.name.indexOf(l);return{shLeftDrawer:c,showLeftDrawerCom:i,nodeList:o,filter:n,filterRef:s,resetFilter(){n.value="",s.value.focus()},startDrag:d,filterMethod:r}}};var be=a(2901),he=a(846),ke=a(4554),_e=a(2025),xe=a(4842),Ce=a(5551);const ye=(0,S.Z)(ve,[["render",ge],["__scopeId","data-v-3e4cc071"]]),We=ye;R()(ve,"components",{QDrawer:be.Z,QBar:he.Z,QIcon:ke.Z,QSpace:_e.Z,QBtn:j.Z,QInput:xe.Z,QTree:Ce.Z,QTooltip:E.Z});const qe={class:"q-mini-drawer-hide absolute",style:{top:"50%",left:"-16px"}},De=(0,t._)("div",null,[(0,t._)("b",null,"编辑")],-1),Ue={class:"q-mini-drawer-hide absolute",style:{top:"50%",right:"0px"}};function ze(e,l,a,o,n,s){const d=(0,t.up)("q-btn"),i=(0,t.up)("q-icon"),c=(0,t.up)("q-space"),r=(0,t.up)("q-bar"),u=(0,t.up)("EditPanel"),p=(0,t.up)("q-drawer");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(p,{id:"rightDrawer",modelValue:o.showRightDrawerCom,"onUpdate:modelValue":l[0]||(l[0]=e=>o.showRightDrawerCom=e),"show-if-above":"",width:300,breakpoint:500,bordered:"",side:"right"},{default:(0,t.w5)((()=>[(0,t._)("div",qe,[(0,t.Wm)(d,{dense:"",round:"","text-color":"grey-7",unelevated:"",icon:"chevron_right",onClick:o.shRightDrawer,style:{"z-index":"1"},class:"float-button blur"},null,8,["onClick"])]),(0,t.Wm)(r,{id:"qBarTitle"},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{name:"edit"}),De,(0,t.Wm)(c),(0,t.Wm)(d,{dense:"",flat:"",icon:"close",onClick:o.shRightDrawer},null,8,["onClick"])])),_:1}),(0,t.Wm)(u,{id:"edit",ref:"editPanel",style:{height:"100%"}},null,512)])),_:1},8,["modelValue"]),(0,t._)("div",Ue,[(0,t.Wm)(d,{dense:"",round:"","text-color":"grey-7",unelevated:"",icon:"chevron_left",onClick:o.shRightDrawer,style:{"z-index":"1","margin-top":"25px"},class:"float-button blur"},null,8,["onClick"])])])}const Ze=(0,t._)("div",{id:"titleBar"},"导航器",-1),Ie=(0,t._)("div",{id:"minimapContainer"},null,-1),Te=[Ze,Ie];function Ve(e,l,a,o,n,s){return(0,t.wg)(),(0,t.iD)("div",null,Te)}const Ne={},He=(0,S.Z)(Ne,[["render",Ve]]),Qe=He,Se={key:0,class:"q-gutter-md q-pl-md q-pr-md q-pt-md"},je=(0,t._)("div",{class:"inputTitle row"},[(0,t._)("div",{class:"col-6"},"x"),(0,t._)("div",{class:"col-6 q-pl-sm"},"y")],-1),Ee={class:"row q-mt-xs"},Fe={class:"col-6 q-pr-xs"},Me={class:"col-6 q-pl-xs"},Re=(0,t._)("div",{class:"inputTitle q-mt-sm"},"externalId",-1),Le=(0,t._)("div",{class:"inputTitle q-mt-sm"},"cpuCores",-1),Be=(0,t._)("div",{class:"inputTitle q-mt-sm"},"appUseCase",-1),Ae=(0,t._)("div",{class:"inputTitle q-mt-sm"},"name",-1),Oe=(0,t._)("div",{class:"inputTitle q-mt-sm"},"status",-1),Pe={class:"select-text"},Je={key:1,class:"q-gutter-md q-pl-md q-pr-md q-pt-md"},Ge=(0,t._)("div",{class:"inputTitle q-mt-sm"},"source",-1),Ke=(0,t._)("div",{class:"inputTitle q-mt-sm"},"target",-1),Ye=(0,t._)("div",{class:"inputTitle q-mt-sm"},"fileDependencies",-1),Xe=(0,t.Uk)("targetAppFile"),$e=(0,t.Uk)("dependencyAppFile"),el=(0,t.Uk)("dependencyType"),ll=(0,t.Uk)("+ 添加文件"),al={key:2,class:"q-gutter-md q-pl-md q-pr-md q-pt-md"},tl=(0,t._)("div",{class:"inputTitle row"},[(0,t._)("div",{class:"col-6"},"x"),(0,t._)("div",{class:"col-6 q-pl-sm"},"y")],-1),ol={class:"row q-mt-xs"},nl={class:"col-6 q-pr-xs"},sl={class:"col-6 q-pl-xs"},dl=(0,t._)("div",{class:"inputTitle q-mt-sm"},"externalId",-1),il=(0,t._)("div",{class:"inputTitle q-mt-sm"},"cpuCores",-1),cl=(0,t._)("div",{class:"inputTitle q-mt-sm"},"appUseCase",-1),rl=(0,t._)("div",{class:"inputTitle q-mt-sm"},"name",-1),ul=(0,t._)("div",{class:"inputTitle q-mt-sm"},"status",-1);function pl(e,l,a,o,n,s){const d=(0,t.up)("q-input"),i=(0,t.up)("q-item-label"),c=(0,t.up)("q-item-section"),r=(0,t.up)("q-icon"),u=(0,t.up)("q-item"),p=(0,t.up)("q-select"),m=(0,t.up)("q-btn"),f=(0,t.up)("q-list"),w=(0,t.up)("q-scroll-area"),g=(0,t.Q2)("ripple");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(w,{style:{height:"100%"}},{default:(0,t.w5)((()=>["node"==o.clickType?((0,t.wg)(),(0,t.iD)("div",Se,[je,(0,t._)("div",Ee,[(0,t._)("div",Fe,[(0,t.Wm)(d,{dense:"",outlined:"",modelValue:o.clickNode.x,"onUpdate:modelValue":l[0]||(l[0]=e=>o.clickNode.x=e),readonly:""},null,8,["modelValue"])]),(0,t._)("div",Me,[(0,t.Wm)(d,{dense:"",outlined:"",modelValue:o.clickNode.y,"onUpdate:modelValue":l[1]||(l[1]=e=>o.clickNode.y=e),readonly:""},null,8,["modelValue"])])]),Re,(0,t.Wm)(d,{dense:"",outlined:"",modelValue:o.clickNode.id,"onUpdate:modelValue":l[2]||(l[2]=e=>o.clickNode.id=e),class:"q-mt-xs",readonly:""},null,8,["modelValue"]),Le,(0,t.Wm)(d,{dense:"",outlined:"",modelValue:o.clickNode.cpuCores,"onUpdate:modelValue":l[3]||(l[3]=e=>o.clickNode.cpuCores=e),class:"q-mt-xs"},null,8,["modelValue"]),Be,(0,t.Wm)(d,{dense:"",outlined:"",modelValue:o.clickNode.appUseCase,"onUpdate:modelValue":l[4]||(l[4]=e=>o.clickNode.appUseCase=e),class:"q-mt-xs"},null,8,["modelValue"]),Ae,(0,t.Wm)(d,{dense:"",outlined:"",modelValue:o.clickNode.name,"onUpdate:modelValue":l[5]||(l[5]=e=>o.clickNode.name=e),class:"q-mt-xs"},null,8,["modelValue"]),Oe,(0,t.Wm)(p,{dense:"",outlined:"",modelValue:o.clickNode.status,"onUpdate:modelValue":l[6]||(l[6]=e=>o.clickNode.status=e),options:["default","success","error","warning","running"],class:"q-mt-xs"},{selected:(0,t.w5)((()=>[(0,t._)("div",Pe,(0,x.zw)(o.clickNode.status),1)])),option:(0,t.w5)((e=>[(0,t.Wm)(u,(0,t.dG)(e.itemProps,(0,t.mx)(e.itemEvents)),{default:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Wm)(i,{innerHTML:e.opt},null,8,["innerHTML"])])),_:2},1024),(0,t.Wm)(c,{avatar:""},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(r,{name:"task",style:{color:"#666","font-size":"20px"}},null,512),[[A.F8,"default"===e.opt]]),(0,t.wy)((0,t.Wm)(r,{name:"check_circle_outline",style:{color:"green","font-size":"20px"}},null,512),[[A.F8,"success"===e.opt]]),(0,t.wy)((0,t.Wm)(r,{name:"cancel",style:{color:"red","font-size":"20px"}},null,512),[[A.F8,"error"===e.opt]]),(0,t.wy)((0,t.Wm)(r,{name:"error_outline",style:{color:"orange","font-size":"20px"}},null,512),[[A.F8,"warning"===e.opt]]),(0,t.wy)((0,t.Wm)(r,{name:"directions_run",style:{color:"blue","font-size":"20px"}},null,512),[[A.F8,"running"===e.opt]])])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue"]),(0,t._)("div",null,[(0,t.Wm)(m,{label:"保存",color:"primary",class:"q-mb-md",onClick:l[7]||(l[7]=e=>o.saveNode())})])])):(0,t.kq)("",!0),"edge"==o.clickType?((0,t.wg)(),(0,t.iD)("div",Je,[Ge,(0,t.Wm)(d,{dense:"",outlined:"",modelValue:o.clickEdge.source.cell,"onUpdate:modelValue":l[8]||(l[8]=e=>o.clickEdge.source.cell=e),class:"q-mt-xs",readonly:""},null,8,["modelValue"]),Ke,(0,t.Wm)(d,{dense:"",outlined:"",modelValue:o.clickEdge.target.cell,"onUpdate:modelValue":l[9]||(l[9]=e=>o.clickEdge.target.cell=e),class:"q-mt-xs",readonly:""},null,8,["modelValue"]),Ye,(0,t.Wm)(f,{outlined:"",separator:"",class:"rounded-borders q-mt-xs",style:{border:"1px solid #e0e0e0"}},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.clickEdge.store.data.fileDependencies,(e=>((0,t.wg)(),(0,t.j4)(u,{key:e},{default:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Wm)(i,{caption:""},{default:(0,t.w5)((()=>[Xe])),_:1}),(0,t.Wm)(i,{class:"q-pb-xs"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,x.zw)(e.targetAppFile),1)])),_:2},1024),(0,t.Wm)(i,{caption:""},{default:(0,t.w5)((()=>[$e])),_:1}),(0,t.Wm)(i,{class:"q-pb-xs"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,x.zw)(e.dependencyAppFile),1)])),_:2},1024),(0,t.Wm)(i,{caption:""},{default:(0,t.w5)((()=>[el])),_:1}),(0,t.Wm)(i,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,x.zw)(e.dependencyType),1)])),_:2},1024)])),_:2},1024),(0,t.Wm)(c,{top:"",side:""},{default:(0,t.w5)((()=>[(0,t.Wm)(m,{size:"12px",flat:"",round:"",icon:"delete"})])),_:1})])),_:2},1024)))),128)),(0,t.wy)(((0,t.wg)(),(0,t.j4)(u,{clickable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Wm)(i,{caption:""},{default:(0,t.w5)((()=>[ll])),_:1})])),_:1})])),_:1})),[[g]])])),_:1}),(0,t._)("div",null,[(0,t.Wm)(m,{label:"保存",color:"primary",class:"q-mb-md"})])])):(0,t.kq)("",!0),"node"!=o.clickType&&"edge"!=o.clickType?((0,t.wg)(),(0,t.iD)("div",al,[tl,(0,t._)("div",ol,[(0,t._)("div",nl,[(0,t.Wm)(d,{dense:"",outlined:"",disable:""})]),(0,t._)("div",sl,[(0,t.Wm)(d,{dense:"",outlined:"",disable:""})])]),dl,(0,t.Wm)(d,{dense:"",outlined:"",disable:"",class:"q-mt-xs"}),il,(0,t.Wm)(d,{dense:"",outlined:"",disable:"",class:"q-mt-xs"}),cl,(0,t.Wm)(d,{dense:"",outlined:"",disable:"",class:"q-mt-xs"}),rl,(0,t.Wm)(d,{dense:"",outlined:"",disable:"",class:"q-mt-xs"}),ul,(0,t.Wm)(p,{dense:"",outlined:"",disable:"",class:"q-mt-xs"}),(0,t._)("div",null,[(0,t.Wm)(m,{label:"保存",color:"primary",class:"q-mb-md",disabled:""})])])):(0,t.kq)("",!0)])),_:1})])}const ml={setup(){const e=(0,_.iH)(),l=(0,_.iH)(),a=(0,_.iH)(),t=(0,_.iH)("");function o(){const a={name:e.value.name,cpuCores:e.value.cpuCores,appUseCase:e.value.appUseCase,status:e.value.status};l.value.setData(a),l.value.store.data.position.x=e.value.x,l.value.store.data.position.y=e.value.y}const n=a=>{t.value="node",l.value=a;const o=l.value.getData(),n={id:l.value.id,cpuCores:o.cpuCores,appUseCase:o.appUseCase,name:o.name,status:o.status,x:l.value.store.data.position.x,y:l.value.store.data.position.y};e.value=n},s=a=>{l.value=a,e.value&&(e.value.x=l.value.store.data.position.x,e.value.y=l.value.store.data.position.y)},d=e=>{t.value="edge",a.value=e};return{clickType:t,clickNode:e,clickEdge:a,saveNode:o,nodeClickResponse:n,nodeMouseMoveResponse:s,edgeClickResponse:d}}};var fl=a(7704),wl=a(9396),gl=a(3414),vl=a(8149),bl=a(2350),hl=a(7011),kl=a(6489);const _l=(0,S.Z)(ml,[["render",pl]]),xl=_l;R()(ml,"components",{QScrollArea:fl.Z,QInput:xe.Z,QSelect:wl.Z,QItem:gl.Z,QItemSection:vl.Z,QItemLabel:bl.Z,QIcon:ke.Z,QBtn:j.Z,QList:hl.Z,QSeparator:F.Z}),R()(ml,"directives",{Ripple:kl.Z});const Cl={components:{MiniMap:Qe,EditPanel:xl},props:{showRightDrawer:{type:Boolean}},setup(e){const l=(0,t.FN)(),a=(0,_.iH)(),o=(0,t.Fl)((()=>e.showRightDrawer)),n=()=>{l.parent.proxy.shRightDrawer()},s=e=>{a.value.nodeClickResponse(e)},d=e=>{a.value.nodeMouseMoveResponse(e)},i=e=>{a.value.edgeClickResponse(e)};return{shRightDrawer:n,showRightDrawerCom:o,editPanel:a,nodeClickResponse:s,nodeMouseMoveResponse:d,edgeClickResponse:i}}},yl=(0,S.Z)(Cl,[["render",ze]]),Wl=yl;R()(Cl,"components",{QDrawer:be.Z,QBtn:j.Z,QBar:he.Z,QIcon:ke.Z,QSpace:_e.Z});a(3082);const ql=e=>((0,t.dD)("data-v-51ad37f2"),e=e(),(0,t.Cn)(),e),Dl={class:"default-node tooltip"},Ul={class:"center"},zl={class:"right-side"},Zl={key:0,t:"1642577117055",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7504",width:"16",height:"16"},Il=ql((()=>(0,t._)("path",{d:"M721.066667 307.2l-328.533334 328.533333-85.333333-149.333333c-8.533333-17.066667-29.866667-25.6-46.933333-17.066667-17.066667 8.533333-21.333333 29.866667-12.8 51.2l106.666666 192c8.533333 12.8 17.066667 17.066667 29.866667 17.066667 4.266667 0 12.8 0 17.066667-4.266667 4.266667 0 4.266667-4.266667 8.533333-8.533333L768 354.133333c12.8-12.8 12.8-38.4 0-51.2-8.533333-12.8-34.133333-12.8-46.933333 4.266667zM512 0C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512S793.6 0 512 0z m311.466667 823.466667c-38.4 38.4-89.6 72.533333-140.8 93.866666-55.466667 21.333333-110.933333 34.133333-170.666667 34.133334s-115.2-12.8-170.666667-34.133334c-51.2-21.333333-98.133333-55.466667-140.8-93.866666-38.4-42.666667-72.533333-89.6-93.866666-140.8-21.333333-55.466667-34.133333-110.933333-34.133334-170.666667s12.8-115.2 34.133334-170.666667C128 290.133333 162.133333 243.2 200.533333 200.533333 243.2 162.133333 290.133333 128 341.333333 106.666667c55.466667-21.333333 110.933333-34.133333 170.666667-34.133334s115.2 12.8 170.666667 34.133334c51.2 21.333333 98.133333 55.466667 140.8 93.866666 38.4 42.666667 72.533333 89.6 93.866666 140.8 21.333333 55.466667 34.133333 110.933333 34.133334 170.666667s-12.8 115.2-34.133334 170.666667c-21.333333 51.2-55.466667 98.133333-93.866666 140.8z",fill:"#52c41a","p-id":"7505"},null,-1))),Tl=[Il],Vl={key:1,t:"1642577153841",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8433",width:"16",height:"16"},Nl=ql((()=>(0,t._)("path",{d:"M512 0C229.376 0 0 229.376 0 512s229.376 512 512 512 512-229.376 512-512S794.624 0 512 0z m218.624 672.256c15.872 15.872 15.872 41.984 0 57.856-8.192 8.192-18.432 11.776-29.184 11.776s-20.992-4.096-29.184-11.776L512 569.856l-160.256 160.256c-8.192 8.192-18.432 11.776-29.184 11.776s-20.992-4.096-29.184-11.776c-15.872-15.872-15.872-41.984 0-57.856L454.144 512 293.376 351.744c-15.872-15.872-15.872-41.984 0-57.856 15.872-15.872 41.984-15.872 57.856 0L512 454.144l160.256-160.256c15.872-15.872 41.984-15.872 57.856 0 15.872 15.872 15.872 41.984 0 57.856L569.856 512l160.768 160.256z",fill:"#ff0000","p-id":"8434"},null,-1))),Hl=[Nl],Ql={key:2,t:"1642641127756",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2299",width:"17",height:"17"},Sl=ql((()=>(0,t._)("path",{d:"M512 42.666667a469.333333 469.333333 0 1 0 469.333333 469.333333A469.333333 469.333333 0 0 0 512 42.666667z m0 864a394.666667 394.666667 0 1 1 394.666667-394.666667 395.146667 395.146667 0 0 1-394.666667 394.666667z","p-id":"2300",fill:"#ffa500"},null,-1))),jl=ql((()=>(0,t._)("path",{d:"M474.666667 695.52m5.333333 0l64 0q5.333333 0 5.333333 5.333333l0 64q0 5.333333-5.333333 5.333334l-64 0q-5.333333 0-5.333333-5.333334l0-64q0-5.333333 5.333333-5.333333Z","p-id":"2301",fill:"#ffa500"},null,-1))),El=ql((()=>(0,t._)("path",{d:"M474.666667 253.813333m5.333333 0l64 0q5.333333 0 5.333333 5.333334l0 362.666666q0 5.333333-5.333333 5.333334l-64 0q-5.333333 0-5.333333-5.333334l0-362.666666q0-5.333333 5.333333-5.333334Z","p-id":"2302",fill:"#ffa500"},null,-1))),Fl=[Sl,jl,El],Ml={key:3,t:"1642577381109",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"13110",width:"16",height:"16"},Rl=ql((()=>(0,t._)("path",{d:"M640 192c53.02 0 96-42.98 96-96S693.02 0 640 0s-96 42.98-96 96 42.98 96 96 96zM323.38 634.94l-29.6 69.04H160c-35.34 0-64 28.66-64 64s28.66 64 64 64h154.9c38.5 0 73.16-22.88 88.22-58.18l17.58-41.04-21.34-12.6c-34.64-20.46-60.12-50.74-75.98-85.22zM864 447.98h-88.06l-52.12-106.5c-25-51.1-70.9-88.46-123.56-101.88l-142.16-42.28c-56.6-13.6-115.54-1.1-161.68 34.28l-79.34 60.82c-28.06 21.5-33.38 61.66-11.84 89.72s61.68 33.32 89.72 11.84l79.38-60.82c15.34-11.78 34.88-16 50.54-12.28l29.4 8.74-74.92 174.78c-25.24 58.96-2.62 128.02 52.6 160.62l169.96 100.34-54.94 175.46c-10.56 33.72 8.22 69.62 41.94 80.18 6.38 2 12.82 2.96 19.16 2.96 27.22 0 52.46-17.54 61.04-44.9l63.28-202.12c11.82-41.54-5.78-86.16-43.28-108.78l-122.48-72.28 62.62-156.56 40.54 82.86c16 32.68 49.84 53.78 86.22 53.78H864c35.34 0 64-28.66 64-64s-28.66-63.98-64-63.98z","p-id":"13111",fill:"#0000ff"},null,-1))),Ll=[Rl],Bl={key:4,t:"1642577466654",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"14516",width:"16",height:"16"},Al=ql((()=>(0,t._)("path",{d:"M682.666667 0v256h256l-256-256z m-85.333334 0H170.666667a85.333333 85.333333 0 0 0-85.333334 85.333333v853.333334a85.333333 85.333333 0 0 0 85.333334 85.333333h682.666666a85.333333 85.333333 0 0 0 85.333334-85.333333V341.333333h-341.333334V0z m7.168 514.517333a42.666667 42.666667 0 1 1 70.997334 47.36L481.152 853.333333l-163.498667-109.013333a42.666667 42.666667 0 1 1 47.36-70.997333l92.501334 61.653333 146.986666-220.458667z","p-id":"14517",fill:"#666666"},null,-1))),Ol=[Al];function Pl(e,l,a,o,n,s){return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",Dl,[(0,t._)("div",Ul,(0,x.zw)(o.data.name),1),(0,t._)("div",zl,["success"===o.data.status?((0,t.wg)(),(0,t.iD)("svg",Zl,Tl)):"error"===o.data.status?((0,t.wg)(),(0,t.iD)("svg",Vl,Hl)):"warning"===o.data.status?((0,t.wg)(),(0,t.iD)("svg",Ql,Fl)):"running"===o.data.status?((0,t.wg)(),(0,t.iD)("svg",Ml,Ll)):((0,t.wg)(),(0,t.iD)("svg",Bl,Ol))])])])}const Jl={setup(){const e=(0,t.f3)("getNode"),l=e(),a=(0,_.iH)({name:"",status:""}),o=e=>{console.log(e)};return(0,t.bv)((()=>{a.value=l.getData(),l.on("change:data",(({current:e})=>{a.value=e}))})),{data:a,contextMenu:o}}},Gl=(0,S.Z)(Jl,[["render",Pl],["__scopeId","data-v-51ad37f2"]]),Kl=Gl,Yl={class:"text-h6 row"},Xl=(0,t.Uk)(" 帮助"),$l=(0,t._)("div",{class:"text-h6 q-mb-md"},"如何新增",-1),ea=(0,t._)("p",null,"按住并拖动左侧组件库中的节点到中间画布，松开鼠标即可新增节点。",-1),la=(0,t._)("div",{class:"text-h6 q-mb-md"},"如何删除",-1),aa=(0,t._)("p",null,"鼠标右键点击需要删除的节点，在弹出菜单中点击“删除”。",-1),ta=(0,t._)("div",{class:"text-h6 q-mb-md"},"如何移动",-1),oa=(0,t._)("p",null,"按住并拖动中间画布中的节点到指定位置，松开鼠标即可移动节点。",-1),na=(0,t._)("div",{class:"text-h6 q-mb-md"},"如何连线",-1),sa=(0,t._)("p",null," 鼠标移动到节点上、下边框的连接桩（小圆圈）处，当鼠标指针变为十字形状（+）后，移动鼠标到另一节点的连接桩并松开鼠标，即可连线。 ",-1),da=(0,t._)("div",{class:"text-h6 q-mb-md"},"如何配置节点",-1),ia=(0,t._)("p",null,"鼠标右键点击需要配置的节点，在弹出菜单中点击“配置”。",-1),ca=(0,t._)("div",{class:"text-h6 q-mb-md"},"如何查看节点",-1),ra=(0,t._)("p",null,"鼠标右键点击需要查看的节点，在弹出菜单中点击“查看”。",-1);function ua(e,l,a,o,n,s){const d=(0,t.up)("q-space"),i=(0,t.up)("q-btn"),c=(0,t.up)("q-card-section"),r=(0,t.up)("q-tab"),u=(0,t.up)("q-tabs"),p=(0,t.up)("q-tab-panel"),m=(0,t.up)("q-tab-panels"),f=(0,t.up)("q-splitter"),w=(0,t.up)("q-card"),g=(0,t.up)("q-dialog");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(g,{modelValue:o.showHelpDialog,"onUpdate:modelValue":[l[3]||(l[3]=e=>o.showHelpDialog=e),o.close],onEscapeKey:o.close},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{style:{width:"600px","max-width":"80vw"}},{default:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t._)("div",Yl,[Xl,(0,t.Wm)(d),(0,t.Wm)(i,{dense:"",flat:"",icon:"close",onClick:o.close},null,8,["onClick"])])])),_:1}),(0,t.Wm)(c,{class:"q-pt-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{modelValue:o.splitterModel,"onUpdate:modelValue":l[2]||(l[2]=e=>o.splitterModel=e)},{before:(0,t.w5)((()=>[(0,t.Wm)(u,{modelValue:o.tab,"onUpdate:modelValue":l[0]||(l[0]=e=>o.tab=e),vertical:"",class:"text-primary"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{name:"如何新增",label:"如何新增"}),(0,t.Wm)(r,{name:"如何删除",label:"如何删除"}),(0,t.Wm)(r,{name:"如何移动",label:"如何移动"}),(0,t.Wm)(r,{name:"如何连线",label:"如何连线"}),(0,t.Wm)(r,{name:"如何配置节点",label:"如何配置节点"}),(0,t.Wm)(r,{name:"如何查看节点",label:"如何查看节点"})])),_:1},8,["modelValue"])])),after:(0,t.w5)((()=>[(0,t.Wm)(m,{modelValue:o.tab,"onUpdate:modelValue":l[1]||(l[1]=e=>o.tab=e),animated:"",swipeable:"",vertical:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{name:"如何新增"},{default:(0,t.w5)((()=>[$l,ea])),_:1}),(0,t.Wm)(p,{name:"如何删除"},{default:(0,t.w5)((()=>[la,aa])),_:1}),(0,t.Wm)(p,{name:"如何移动"},{default:(0,t.w5)((()=>[ta,oa])),_:1}),(0,t.Wm)(p,{name:"如何连线"},{default:(0,t.w5)((()=>[na,sa])),_:1}),(0,t.Wm)(p,{name:"如何配置节点"},{default:(0,t.w5)((()=>[da,ia])),_:1}),(0,t.Wm)(p,{name:"如何查看节点"},{default:(0,t.w5)((()=>[ca,ra])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","onEscapeKey"])])}const pa={props:{openHelpDialog:{type:Boolean}},setup(e){const l=(0,_.iH)("如何新增"),a=(0,_.iH)(20),o=(0,t.FN)(),n=(0,t.Fl)((()=>e.openHelpDialog)),s=()=>{o.parent.proxy.closeHelp()};return{close:s,tab:l,splitterModel:a,showHelpDialog:n}}};var ma=a(6778),fa=a(151),wa=a(5589),ga=a(218),va=a(7547),ba=a(3269),ha=a(5906),ka=a(6602);const _a=(0,S.Z)(pa,[["render",ua]]),xa=_a;R()(pa,"components",{QDialog:ma.Z,QCard:fa.Z,QCardSection:wa.Z,QSpace:_e.Z,QBtn:j.Z,QSplitter:ga.Z,QTabs:va.Z,QTab:ba.Z,QTabPanels:ha.Z,QTabPanel:ka.Z});const Ca={class:"text-h6 row"},ya=(0,t.Uk)(" 查看数据");function Wa(e,l,a,o,n,s){const d=(0,t.up)("q-space"),i=(0,t.up)("q-btn"),c=(0,t.up)("q-card-section"),r=(0,t.up)("Codemirror"),u=(0,t.up)("q-card"),p=(0,t.up)("q-dialog");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(p,{modelValue:o.showCodeDialog,"onUpdate:modelValue":[l[1]||(l[1]=e=>o.showCodeDialog=e),o.close],onEscapeKey:o.close},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{style:{"min-width":"600px","max-width":"80vw"}},{default:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t._)("div",Ca,[ya,(0,t.Wm)(d),(0,t.Wm)(i,{dense:"",flat:"",icon:"content_copy",onClick:o.copy},null,8,["onClick"]),(0,t.Wm)(i,{dense:"",flat:"",icon:"close",onClick:o.close},null,8,["onClick"])])])),_:1}),(0,t.Wm)(c,{class:"q-pt-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{value:a.data,"onUpdate:value":l[0]||(l[0]=e=>a.data=e),options:o.cmOptions},null,8,["value","options"])])),_:1})])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","onEscapeKey"])])}var qa=a(9847),Da=(a(3131),a(1914)),Ua=a(4434);const za={components:{Codemirror:qa.ZP},props:{openCodeDialog:{type:Boolean},data:{type:String}},setup(e){const l=(0,t.FN)(),a=(0,t.Fl)((()=>e.openCodeDialog)),o=()=>{(0,Da.Z)(e.data).then((()=>{Ua.Z.create({type:"positive",message:"已复制数据到剪贴板！"})})).catch((()=>{Ua.Z.create({type:"negative",message:"复制数据失败！"})}))},n=()=>{l.parent.proxy.closeCode()};return{copy:o,close:n,showCodeDialog:a,cmOptions:{mode:"application/json",lineNumbers:!0,readOnly:!1}}}},Za=(0,S.Z)(za,[["render",Wa]]),Ia=Za;R()(za,"components",{QDialog:ma.Z,QCard:fa.Z,QCardSection:wa.Z,QSpace:_e.Z,QBtn:j.Z});const{Dnd:Ta}=b.e9,Va=(0,t.aZ)({components:{ToolBar:B,LeftDrawer:We,RightDrawer:Wl,HelpDialog:xa,CodeDialog:Ia},setup(){const e=(0,h.Z)();let l;const a=(0,_.iH)({}),o=(0,_.iH)(""),n=(0,_.iH)(""),s=(0,_.iH)(),d=(0,_.iH)(100),i=(0,_.iH)(!0),c=(0,_.iH)(!0),r=(0,_.iH)(!1),u=(0,_.iH)(!1),p=(0,_.iH)({}),m=(0,_.iH)(!0),f={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}}},items:[{group:"top"},{group:"bottom"}]},w={name:"测试工作流20220128-1",externalId:"w-workflow-20220128",materialName:"w",jobs:[{externalId:"fe94ef60-b536-22bb-61fd-6b3a2222be17",cpuCores:"2",appUseCase:"ab08ad37-055b-b368-58aa-037620228cf8",name:"Simulate1脚本"},{externalId:"4557647d-19bc-b1d7-5aec-4963dfe83b28",cpuCores:"1",appUseCase:"f30223f0-a215-4402-38ba-067a917b095d",name:"Simulate2脚本"},{externalId:"35344a12-c8d7-1e2c-704f-b10a9b56e2c6",cpuCores:"2",appUseCase:"c0121580-1097-418f-14be-170e474fb8d3",name:"Simulate3脚本"},{externalId:"8c6f878b-ffa0-e51b-93d2-0e65344d7f56",cpuCores:"2",appUseCase:"f4f1357b-1bfc-6797-5030-b9822d910e73",name:"Simulate4脚本"},{externalId:"ba2f49b7-912e-de79-50a3-8e6d4083f681",cpuCores:"1",appUseCase:"1d6913e0-32bd-4563-a073-4900579da937",name:"Simulate5脚本"},{externalId:"7a65b4d8-12bd-bd09-170c-cf37cc0a568a",cpuCores:"2",appUseCase:"81abf716-a0f8-f064-cabe-6e4e44442825",name:"Simulate6脚本"}],dependencies:[{externalId:"ba832c2b-7ff3-4b24-be99-53ad0f949161",jobExternalId:"4557647d-19bc-b1d7-5aec-4963dfe83b28",jobDependencyExternalId:"fe94ef60-b536-22bb-61fd-6b3a2222be17",fileDependencies:[{targetAppFile:"0a9c2cb6-3dc7-9a00-55f1-33f2e31f5561",dependencyAppFile:"2ae998c2-7a33-65a4-a9b1-07a101ec695c",dependencyType:"appFile"},{targetAppFile:"d499e05c-a1a1-f365-184a-06f64438d81f",dependencyAppFile:"f055da12-e175-3f38-c2df-4a589ddc5db9",dependencyType:"appFile"}]},{externalId:"6201ebaf-5c4a-4211-a9ca-7ecb367c9e25",jobExternalId:"35344a12-c8d7-1e2c-704f-b10a9b56e2c6",jobDependencyExternalId:"fe94ef60-b536-22bb-61fd-6b3a2222be17",fileDependencies:[{targetAppFile:"b098bf40-eb8c-30d8-ef16-8f21ab41b248",dependencyAppFile:"1191f899-eaad-b87c-8936-5cf96d72d1c4",dependencyType:"appFile"}]},{externalId:"a5b8558d-12c8-4ec8-a69f-cbcc7e1dbea7",jobExternalId:"8c6f878b-ffa0-e51b-93d2-0e65344d7f56",jobDependencyExternalId:"4557647d-19bc-b1d7-5aec-4963dfe83b28",fileDependencies:[{targetAppFile:"56c90586-a686-5330-0b16-72a231212171",dependencyAppFile:"56984e29-f833-adae-9253-882e255d2e3b",dependencyType:"appFile"}]},{externalId:"9eda6ea8-d91b-4b1c-9cfb-4a46be11b698",jobExternalId:"ba2f49b7-912e-de79-50a3-8e6d4083f681",jobDependencyExternalId:"4557647d-19bc-b1d7-5aec-4963dfe83b28"},{externalId:"080cf216-4e96-4b31-b664-8666e3f98b41",jobExternalId:"7a65b4d8-12bd-bd09-170c-cf37cc0a568a",jobDependencyExternalId:"35344a12-c8d7-1e2c-704f-b10a9b56e2c6"}]},g=(0,_.iH)({name:"",id:"",materialName:""});let x={nodes:[],edges:[]};const C=()=>{l.undo()},y=()=>{l.redo()},W=()=>{d.value<=280&&(l.zoom(.2),setTimeout((()=>{d.value=Number((100*l.zoom()).toFixed(0))}),50))},q=()=>{d.value>=70&&(l.zoom(-.2),setTimeout((()=>{d.value=Number((100*l.zoom()).toFixed(0))}),50))},D=()=>{l.centerContent()},U=()=>{l.removeNode(o.value)},z=()=>{l.removeEdge(o.value)},Z=()=>{l.clearCells()},I=()=>{e.dialog({options:{type:"radio",model:"opt1",items:[{label:"使用本地参数文件",value:"opt1",color:"secondary"},{label:"在线配置参数",value:"opt2"}]},persistent:!0,ok:"继续",cancel:"取消"}).onOk((l=>{e.notify({message:"选择了 "+l,color:"primary"})}))},T=()=>{N(),p.value=JSON.stringify(p.value.jobs.find((e=>e.externalId==o.value)),null,2),u.value=!0},V=()=>{N(),p.value=JSON.stringify(p.value.dependencies.find((e=>e.externalId==o.value)),null,2),u.value=!0},N=()=>{const e=l.toJSON().cells;let a=[],t=[];for(let l=0,o=e.length;l<o;l++)"default-edge"===e[l].shape?t.push({externalId:e[l].id,jobExternalId:e[l].target.cell,jobDependencyExternalId:e[l].source.cell,fileDependencies:e[l].fileDependencies}):a.push({externalId:e[l].id,cpuCores:e[l].data.cpuCores,appUseCase:e[l].data.appUseCase,name:e[l].data.name});p.value={name:"测试工作流20220128-1",externalId:"w-workflow-20220128",materialName:"w",jobs:a,dependencies:t}},H=()=>{N(),p.value=JSON.stringify(p.value,null,2),u.value=!0},Q=()=>{u.value=!1},S=()=>{e.dialog({title:"提示",message:"确定要下载该流程数据吗？",ok:"确定",cancel:"取消",persistent:!0}).onOk((()=>{N();const l="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(p.value,null,"\t")),a=document.createElement("a");a.setAttribute("href",l),a.setAttribute("download","data"+k.ZP.formatDate(new Date,"YYYYMMDDHHmm")+".json"),a.click(),a.remove(),e.notify({message:"正在下载中,请稍后...",color:"primary"})}))},j=()=>{r.value=!0},E=()=>{r.value=!1},F=()=>{!0===m.value?l.hideGrid():l.showGrid(),m.value=!m.value},M=()=>{i.value=!i.value,!0===i.value&&!0===c.value?l.resize(window.innerWidth-600,window.innerHeight-52):!0===i.value&&!1===c.value||!1===i.value&&!0===c.value?l.resize(window.innerWidth-300,window.innerHeight-52):l.resize(window.innerWidth,window.innerHeight-52)};function R(){c.value=!c.value,!0===i.value&&!0===c.value?l.resize(window.innerWidth-600,window.innerHeight-52):!0===i.value&&!1===c.value||!1===i.value&&!0===c.value?l.resize(window.innerWidth-300,window.innerHeight-52):l.resize(window.innerWidth,window.innerHeight-52)}const L=(e,t)=>{const o=l.createNode(t.node);a.value.start(o,e)},B=()=>{if(w.name&&(g.value.name=w.name),w.externalId&&(g.value.id=w.externalId),w.materialName&&(g.value.materialName=w.materialName),0!==w.jobs.length){const e=w.jobs;for(let l=0,a=e.length;l<a;l++)x.nodes.push({id:e[l].externalId,data:{name:e[l].name,cpuCores:e[l].cpuCores,appUseCase:e[l].appUseCase,status:"default"},shape:"default-node",ports:Object.assign({},f)})}if(0!==w.dependencies.length){const e=w.dependencies;for(let l=0,a=e.length;l<a;l++)x.edges.push({id:e[l].externalId,source:e[l].jobDependencyExternalId,target:e[l].jobExternalId,fileDependencies:e[l].fileDependencies,shape:"default-edge",zIndex:-1})}},A=()=>{b.kJ.registerNode("default-node",{inherit:"vue3-shape",width:200,height:36,component:Kl},!0),b.kJ.registerEdge("default-edge",{inherit:"edge",attrs:{line:{stroke:"#c2c8d5",strokeWidth:1.5,targetMarker:{name:"classic",width:8,height:8}}}},!0)};function O(){const e=new v.Vq({type:"dagre",ranksep:40,nodesep:60,controlPoints:!1});e.layout(x);const a={name:"stroke"};l=new b.kJ({container:document.getElementById("container"),autoResize:!0,minimap:{enabled:!0,container:document.getElementById("minimapContainer")},height:window.innerHeight-51,background:{color:"#f7f7fa"},grid:{size:10,visible:m.value,type:"dot",args:{color:"#a0a0a0",thickness:1}},snapline:!0,panning:!0,keyboard:!1,mousewheel:{enabled:!0,zoomAtMousePosition:!0,modifiers:"ctrl",minScale:.5,maxScale:3},history:{enabled:!0,ignoreChange:!0},selecting:{enabled:!0,multiple:!1,rubberEdge:!0,showNodeSelectionBox:!0,showEdgeSelectionBox:!0},connecting:{allowPort:!0,allowEdge:!1,allowNode:!1,allowLoop:!1,allowMulti:!1,allowBlank:!1,highlight:!0,snap:!0,router:{name:"er",args:{offset:"center",direction:"V"}},connector:{name:"rounded",args:{radius:45}},anchor:"center",connectionPoint:{name:"bbox"},validateConnection({targetMagnet:e,sourceCell:a,targetCell:t}){const o=l.toJSON().cells.find((e=>{if("edge"===e.shape&&e.target.cell===a.id&&e.source.cell===t.id)return!0}));return!o&&!!e},createEdge(){return l.createEdge({shape:"default-edge",zIndex:-1})}},highlighting:{magnetAvailable:a,magnetAdsorbed:{name:"stroke",args:{attrs:{fill:"#fff",stroke:"#31d0c6"}}}}}).fromJSON(x)}const P=()=>{a.value=new Ta({target:l,validateNode(){return!0}})};function J(){l.on("node:contextmenu",(({node:e})=>{n.value="node",o.value=e.id})),l.on("edge:contextmenu",(({edge:e})=>{n.value="edge",o.value=e.id})),l.on("blank:contextmenu",(()=>{n.value="blank",o.value=""})),l.on("cell:mousewheel",(()=>{setTimeout((()=>{d.value=Number((100*l.zoom()).toFixed(0))}),50)})),l.on("blank:mousewheel",(()=>{setTimeout((()=>{d.value=Number((100*l.zoom()).toFixed(0))}),50)})),l.on("node:click",(({node:e})=>{s.value.nodeClickResponse(e),console.log("node",e)})),l.on("node:mousemove",(({node:e})=>{s.value.nodeMouseMoveResponse(e)})),l.on("edge:click",(({edge:e})=>{s.value.edgeClickResponse(e),console.log("edge",e)}))}const G=(e,a)=>{const t=l.getNodes()[e];let o=t.getData();t.setData({name:o.name,status:a})},K=()=>{G(0,"running"),G(1,"default"),G(2,"default"),G(3,"default"),G(4,"default"),G(5,"default"),setTimeout((()=>{G(0,"success"),G(1,"running"),G(2,"running"),setTimeout((()=>{G(1,"success"),G(2,"success"),G(3,"running"),G(4,"running"),G(5,"running"),setTimeout((()=>{G(3,"success"),setTimeout((()=>{G(4,"warning"),setTimeout((()=>{G(5,"error")}),1e3)}),1e3)}),1e3)}),1e3)}),1e3)};return(0,t.bv)((()=>{B(),A(),O(),P(),J(),D()})),{undo:C,redo:y,zoomIn:W,zoomOut:q,centerContent:D,choiceType:n,deleteNode:U,deleteEdge:z,refresh:Z,nodeSetting:I,showNode:T,showEdge:V,showData:H,downloadData:S,shGird:F,shLeftDrawer:M,shRightDrawer:R,showLeftDrawer:i,showRightDrawer:c,zoom:d,rightDrawer:s,startDrag:L,runWorkFlow:K,openHelpDialog:r,help:j,closeHelp:E,closeCode:Q,openCodeDialog:u,jsonData:p,flow:g}}});var Na=a(4379),Ha=a(811),Qa=a(677);const Sa=(0,S.Z)(Va,[["render",g],["__scopeId","data-v-3ce8f29a"]]),ja=Sa;R()(Va,"components",{QPage:Na.Z,QMenu:Ha.Z,QList:hl.Z,QItem:gl.Z,QItemSection:vl.Z,QSeparator:F.Z,QIcon:ke.Z}),R()(Va,"directives",{ClosePopup:Qa.Z});const Ea=(0,t.aZ)({name:"PageIndex",components:{X6Editor:ja},setup(){return{}}}),Fa=(0,S.Z)(Ea,[["render",o]]),Ma=Fa}}]);