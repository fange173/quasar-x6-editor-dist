"use strict";(self["webpackChunkquasar_x6_editor"]=self["webpackChunkquasar_x6_editor"]||[]).push([[536],{5536:(e,a,t)=>{t.r(a),t.d(a,{default:()=>po});var l=t(3673);function o(e,a,t,o,n,s){const i=(0,l.up)("X6Editor");return(0,l.wg)(),(0,l.j4)(i)}var n=t(8880);const s={id:"container"},i={id:"minimap"};function d(e,a,t,o,d,c){const r=(0,l.up)("Header"),u=(0,l.up)("LeftDrawer"),p=(0,l.up)("RightDrawer"),m=(0,l.up)("ContextMenu"),f=(0,l.up)("ToolBar"),w=(0,l.up)("HelpDialog"),k=(0,l.up)("CodeDialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(r,{flow:e.flow,showGrid:e.showGrid,showMinimap:e.showMinimap,showLeftDrawer:e.showLeftDrawer,showRightDrawer:e.showRightDrawer},null,8,["flow","showGrid","showMinimap","showLeftDrawer","showRightDrawer"]),(0,l.Wm)(u,{showLeftDrawer:e.showLeftDrawer},null,8,["showLeftDrawer"]),(0,l.Wm)(p,{ref:"rightDrawer",showRightDrawer:e.showRightDrawer,flow:e.flow},null,8,["showRightDrawer","flow"]),(0,l._)("div",s,[(0,l.Wm)(m,{choiceType:e.choiceType,onShowNode:e.showNode,onNodeSetting:e.nodeSetting,onAddNode:e.addNode,onDeleteNode:e.deleteNode,onShowEdge:e.showEdge,onDeleteEdge:e.deleteEdge,onUndo:e.undo,onRedo:e.redo,onShowData:e.showData,onDownloadData:e.downloadData,onRefresh:e.refresh},null,8,["choiceType","onShowNode","onNodeSetting","onAddNode","onDeleteNode","onShowEdge","onDeleteEdge","onUndo","onRedo","onShowData","onDownloadData","onRefresh"])]),(0,l.wy)((0,l._)("div",i,null,512),[[n.F8,e.showMinimap]]),(0,l.Wm)(f,{zoom:e.zoom,showGrid:e.showGrid,showMinimap:e.showMinimap},null,8,["zoom","showGrid","showMinimap"]),(0,l.Wm)(w,{openHelpDialog:e.openHelpDialog},null,8,["openHelpDialog"]),(0,l.Wm)(k,{openCodeDialog:e.openCodeDialog,data:e.jsonData},null,8,["openCodeDialog","data"])])}t(5363),t(9676),t(2100);var c=t(9805),r=t(4921),u=t(8825),p=t(1082),m=t(6395),f=t(1959);const w={id:"toolbar",class:"row items-center back-blur"},k=(0,l.Uk)(" 显示缩略图 "),h=(0,l.Uk)(" 显示网点 "),g=(0,l.Uk)(" 50% "),b=(0,l.Uk)(" 75% "),_=(0,l.Uk)(" 100% "),v=(0,l.Uk)(" 125% "),x=(0,l.Uk)(" 150% "),y=(0,l.Uk)(" 200% "),C=(0,l.Uk)(" 300% "),W=(0,l.Uk)(" 重置比例 "),D=(0,l.Uk)(" 适应内容 "),q=(0,l.Uk)(" 放大 (Ctrl + 滚轮向上) "),U=(0,l.Uk)(" 缩小 (Ctrl + 滚轮向下) "),Z=(0,l.Uk)(" 撤销 "),z=(0,l.Uk)(" 重做 "),T=(0,l.Uk)(" 居中 "),N=(0,l.Uk)(" 自动布局 ");function I(e,a,t,o,n,s){const i=(0,l.up)("q-item-section"),d=(0,l.up)("q-icon"),c=(0,l.up)("q-item"),r=(0,l.up)("q-list"),u=(0,l.up)("q-btn-dropdown"),p=(0,l.up)("q-separator"),m=(0,l.up)("q-tooltip"),f=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",w,[(0,l.Wm)(u,{flat:"",dense:"",icon:"settings",class:"q-ml-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{clickable:"",onClick:o.shMinimap},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[k])),_:1}),(0,l.Wm)(i,{side:""},{default:(0,l.w5)((()=>[t.showMinimap?((0,l.wg)(),(0,l.j4)(d,{key:1,left:"",name:"check_box",class:"q-mr-none"})):((0,l.wg)(),(0,l.j4)(d,{key:0,left:"",name:"check_box_outline_blank",class:"q-mr-none"}))])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(c,{clickable:"",onClick:o.shGrid},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[h])),_:1}),(0,l.Wm)(i,{side:""},{default:(0,l.w5)((()=>[t.showGrid?((0,l.wg)(),(0,l.j4)(d,{key:1,left:"",name:"check_box",class:"q-mr-none"})):((0,l.wg)(),(0,l.j4)(d,{key:0,left:"",name:"check_box_outline_blank",class:"q-mr-none"}))])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,l.Wm)(p,{vertical:"",inset:""}),(0,l.Wm)(u,{flat:"",dense:"",label:t.zoom+"%",class:"q-ml-xs",style:{width:"68px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{clickable:"",onClick:a[0]||(a[0]=e=>o.zoomTo(.5))},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[g])),_:1})])),_:1}),(0,l.Wm)(c,{clickable:"",onClick:a[1]||(a[1]=e=>o.zoomTo(.75))},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[b])),_:1})])),_:1}),(0,l.Wm)(c,{clickable:"",onClick:a[2]||(a[2]=e=>o.zoomTo(1))},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[_])),_:1})])),_:1}),(0,l.Wm)(c,{clickable:"",onClick:a[3]||(a[3]=e=>o.zoomTo(1.25))},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[v])),_:1})])),_:1}),(0,l.Wm)(c,{clickable:"",onClick:a[4]||(a[4]=e=>o.zoomTo(1.5))},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[x])),_:1})])),_:1}),(0,l.Wm)(c,{clickable:"",onClick:a[5]||(a[5]=e=>o.zoomTo(2))},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[y])),_:1})])),_:1}),(0,l.Wm)(c,{clickable:"",onClick:a[6]||(a[6]=e=>o.zoomTo(3))},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[C])),_:1})])),_:1}),(0,l.Wm)(p),(0,l.Wm)(c,{clickable:"",onClick:a[7]||(a[7]=e=>o.zoomTo(1))},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[W])),_:1})])),_:1}),(0,l.Wm)(c,{clickable:"",onClick:o.zoomToFit},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[D])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1},8,["label"]),(0,l.Wm)(p,{vertical:"",inset:""}),(0,l.Wm)(f,{flat:"",dense:"",icon:"zoom_in",onClick:o.zoomIn,class:"q-ml-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{offset:[8,8]},{default:(0,l.w5)((()=>[q])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(f,{flat:"",dense:"",icon:"zoom_out",onClick:o.zoomOut},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{offset:[8,8]},{default:(0,l.w5)((()=>[U])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(p,{vertical:"",inset:"",class:"q-ml-xs"}),(0,l.Wm)(f,{flat:"",dense:"",icon:"undo",onClick:o.undo,class:"q-ml-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{offset:[8,8]},{default:(0,l.w5)((()=>[Z])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(f,{flat:"",dense:"",icon:"redo",onClick:o.redo},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{offset:[8,8]},{default:(0,l.w5)((()=>[z])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(p,{vertical:"",inset:"",class:"q-ml-xs"}),(0,l.Wm)(f,{flat:"",dense:"",icon:"center_focus_weak",onClick:o.centerContent},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{offset:[8,8]},{default:(0,l.w5)((()=>[T])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(f,{flat:"",dense:"",icon:"timeline",onClick:o.layout,class:"q-mr-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{offset:[8,8]},{default:(0,l.w5)((()=>[N])),_:1})])),_:1},8,["onClick"])])])}const Q={props:{zoom:{type:Number},showGrid:{type:Boolean},showMinimap:{type:Boolean}},setup(){const e=(0,l.FN)(),a=()=>{e.parent.proxy.undo()},t=()=>{e.parent.proxy.redo()},o=()=>{e.parent.proxy.zoomIn()},n=()=>{e.parent.proxy.zoomOut()},s=()=>{e.parent.proxy.centerContent()},i=()=>{e.parent.proxy.shGrid()},d=()=>{e.parent.proxy.shMinimap()},c=()=>{e.parent.proxy.layout()},r=()=>{e.parent.proxy.showData()},u=()=>{e.parent.proxy.downloadData()},p=()=>{e.parent.proxy.runWorkFlow()},m=()=>{e.parent.proxy.help()},f=a=>{e.parent.proxy.zoomTo(a)},w=()=>{e.parent.proxy.zoomToFit()};return{undo:a,redo:t,zoomIn:o,zoomOut:n,centerContent:s,shGrid:i,layout:c,showData:r,downloadData:u,runWorkFlow:p,help:m,shMinimap:d,zoomTo:f,zoomToFit:w}}};var j=t(4260),V=t(2165),F=t(8870),S=t(2226),M=t(7011),E=t(3414),H=t(8149),R=t(4554),L=t(5869),B=t(677),O=t(7518),A=t.n(O);const G=(0,j.Z)(Q,[["render",I],["__scopeId","data-v-407492a3"]]),J=G;A()(Q,"components",{QBtn:V.Z,QTooltip:F.Z,QBtnDropdown:S.Z,QList:M.Z,QItem:E.Z,QItemSection:H.Z,QIcon:R.Z,QSeparator:L.Z}),A()(Q,"directives",{ClosePopup:B.Z});t(71);var P=t(2323);const $=e=>((0,l.dD)("data-v-43129d83"),e=e(),(0,l.Cn)(),e),Y=(0,l.Uk)(" 隐藏组件库 "),K=(0,l.Uk)(" 显示组件库 "),X={class:"text-body1 text-bold q-px-sm"},ee={class:"text-body2 row items-center"},ae={class:"q-px-sm cursor-pointer non-selectable relative-position flex flex-center toolbar-a"},te=(0,l.Uk)(" 文件 "),le=(0,l.Uk)(" 导入文件 "),oe=(0,l.Uk)(" 查看数据 "),ne=(0,l.Uk)(" 导出数据 "),se=(0,l.Uk)(" 保存 "),ie=(0,l.Uk)(" 关闭！ "),de={class:"q-px-sm cursor-pointer non-selectable relative-position flex flex-center toolbar-a"},ce=(0,l.Uk)(" 编辑 "),re=(0,l.Uk)(" 撤销 "),ue=(0,l.Uk)(" 重做 "),pe=(0,l.Uk)("更多"),me=(0,l.Uk)("清空"),fe={class:"q-px-sm cursor-pointer non-selectable relative-position flex flex-center toolbar-a"},we=(0,l.Uk)(" 视图 "),ke=(0,l.Uk)(" 显示缩略图 "),he=(0,l.Uk)(" 显示网点 "),ge=(0,l.Uk)(" 放大 "),be=(0,l.Uk)(" Ctrl+滚轮向上 "),_e=(0,l.Uk)(" 缩小 "),ve=(0,l.Uk)(" Ctrl+滚轮向下 "),xe=(0,l.Uk)(" 居中 "),ye=(0,l.Uk)(" 自动布局 "),Ce=(0,l.Uk)(" 重置比例 "),We=(0,l.Uk)(" 适应内容 "),De=(0,l.Uk)(" 帮助 "),qe=[De],Ue=(0,l.Uk)(" 隐藏编辑 "),Ze=(0,l.Uk)(" 显示编辑 "),ze=$((()=>(0,l._)("div",{class:"text-h6"},"选择文件",-1)));function Te(e,a,t,o,n,s){const i=(0,l.up)("q-tooltip"),d=(0,l.up)("q-btn"),c=(0,l.up)("q-item-section"),r=(0,l.up)("q-item"),u=(0,l.up)("q-separator"),p=(0,l.up)("q-list"),m=(0,l.up)("q-menu"),f=(0,l.up)("q-icon"),w=(0,l.up)("q-toolbar-title"),k=(0,l.up)("q-toolbar"),h=(0,l.up)("q-header"),g=(0,l.up)("q-card-section"),b=(0,l.up)("q-file"),_=(0,l.up)("q-card-actions"),v=(0,l.up)("q-card"),x=(0,l.up)("q-dialog"),y=(0,l.Q2)("close-popup"),C=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(h,{class:"my-header"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{class:"text-black"},{default:(0,l.w5)((()=>[t.showLeftDrawer?((0,l.wg)(),(0,l.j4)(d,{key:0,flat:"",round:"",dense:"",icon:"menu",onClick:o.shLeftDrawer},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{offset:[8,8]},{default:(0,l.w5)((()=>[Y])),_:1})])),_:1},8,["onClick"])):((0,l.wg)(),(0,l.j4)(d,{key:1,flat:"",round:"",dense:"",icon:"menu_open",onClick:o.shLeftDrawer},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{offset:[8,8]},{default:(0,l.w5)((()=>[K])),_:1})])),_:1},8,["onClick"])),(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l._)("div",X,(0,P.zw)(t.flow.name),1),(0,l._)("div",ee,[(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",ae,[te,(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(r,{clickable:"",onClick:a[0]||(a[0]=e=>o.openFileDialog=!0)},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[le])),_:1})])),_:1})),[[y]]),(0,l.Wm)(u),(0,l.wy)(((0,l.wg)(),(0,l.j4)(r,{clickable:"",onClick:o.showData},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[oe])),_:1})])),_:1},8,["onClick"])),[[y]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(r,{clickable:"",onClick:o.downloadData},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[ne])),_:1})])),_:1},8,["onClick"])),[[y]]),(0,l.Wm)(u),(0,l.wy)(((0,l.wg)(),(0,l.j4)(r,{clickable:"",onClick:o.saveData},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[se])),_:1})])),_:1},8,["onClick"])),[[y]]),(0,l.Wm)(u),(0,l.wy)(((0,l.wg)(),(0,l.j4)(r,{clickable:"",onClick:o.showData},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[ie])),_:1})])),_:1},8,["onClick"])),[[y]])])),_:1})])),_:1})])),[[C]]),(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",de,[ce,(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(r,{clickable:"",onClick:o.undo},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[re])),_:1})])),_:1},8,["onClick"])),[[y]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(r,{clickable:"",onClick:o.redo},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[ue])),_:1})])),_:1},8,["onClick"])),[[y]]),(0,l.Wm)(u),(0,l.Wm)(r,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[pe])),_:1}),(0,l.Wm)(c,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{name:"keyboard_arrow_right"})])),_:1}),(0,l.Wm)(m,{anchor:"top end",self:"top start"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(r,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{onClick:o.refresh},{default:(0,l.w5)((()=>[me])),_:1},8,["onClick"])])),_:1})),[[y]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),[[C]]),(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",fe,[we,(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{clickable:"",onClick:o.shMinimap},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[ke])),_:1}),(0,l.Wm)(c,{side:""},{default:(0,l.w5)((()=>[t.showMinimap?((0,l.wg)(),(0,l.j4)(f,{key:1,left:"",name:"check_box",class:"q-mr-none"})):((0,l.wg)(),(0,l.j4)(f,{key:0,left:"",name:"check_box_outline_blank",class:"q-mr-none"}))])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(r,{clickable:"",onClick:o.shGrid},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[he])),_:1}),(0,l.Wm)(c,{side:""},{default:(0,l.w5)((()=>[t.showGrid?((0,l.wg)(),(0,l.j4)(f,{key:1,left:"",name:"check_box",class:"q-mr-none"})):((0,l.wg)(),(0,l.j4)(f,{key:0,left:"",name:"check_box_outline_blank",class:"q-mr-none"}))])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(u),(0,l.Wm)(r,{clickable:"",onClick:o.zoomIn},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[ge])),_:1}),(0,l.Wm)(c,{side:""},{default:(0,l.w5)((()=>[be])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(r,{clickable:"",onClick:o.zoomOut},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[_e])),_:1}),(0,l.Wm)(c,{side:""},{default:(0,l.w5)((()=>[ve])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(u),(0,l.Wm)(r,{clickable:"",onClick:o.centerContent},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[xe])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(r,{clickable:"",onClick:o.layout},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[ye])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(u),(0,l.Wm)(r,{clickable:"",onClick:a[1]||(a[1]=e=>o.zoomTo(1))},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[Ce])),_:1})])),_:1}),(0,l.Wm)(r,{clickable:"",onClick:o.zoomToFit},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[We])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})])),[[C]]),(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",{class:"q-px-sm cursor-pointer non-selectable relative-position flex flex-center toolbar-a",onClick:a[2]||(a[2]=(...e)=>o.help&&o.help(...e))},qe)),[[C]])])])),_:1}),(0,l.Wm)(d,{dense:"",push:"",color:"primary",icon:"autorenew",label:"运行",onClick:o.runWorkFlow},null,8,["onClick"]),t.showRightDrawer?((0,l.wg)(),(0,l.j4)(d,{key:2,flat:"",round:"",dense:"",icon:"menu",onClick:o.shRightDrawer,class:"q-ml-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{offset:[8,8]},{default:(0,l.w5)((()=>[Ue])),_:1})])),_:1},8,["onClick"])):((0,l.wg)(),(0,l.j4)(d,{key:3,flat:"",round:"",dense:"",icon:"menu_open",onClick:o.shRightDrawer,class:"q-ml-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{offset:[8,8]},{default:(0,l.w5)((()=>[Ze])),_:1})])),_:1},8,["onClick"]))])),_:1})])),_:1}),(0,l.Wm)(x,{persistent:"",modelValue:o.openFileDialog,"onUpdate:modelValue":a[4]||(a[4]=e=>o.openFileDialog=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[ze])),_:1}),(0,l.Wm)(g,{class:"q-px-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{modelValue:o.file,"onUpdate:modelValue":a[3]||(a[3]=e=>o.file=e),filled:"",counter:"",accept:".json",style:{width:"300px"}},{prepend:(0,l.w5)((()=>[(0,l.Wm)(f,{name:"attach_file"})])),_:1},8,["modelValue"])])),_:1}),(0,l.Wm)(_,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(d,{flat:"",label:"取消",color:"primary",onClick:o.cancel},null,8,["onClick"]),[[y]]),(0,l.wy)((0,l.Wm)(d,{flat:"",label:"确定",color:"primary",onClick:o.importJson,"data-autofocus":"true",disabled:!o.file},null,8,["onClick","disabled"]),[[y]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}const Ne={props:{showGrid:{type:Boolean},showMinimap:{type:Boolean},flow:{type:Object},showLeftDrawer:{type:Boolean},showRightDrawer:{type:Boolean}},setup(){const e=(0,l.FN)(),a=(0,f.iH)(!1),t=(0,f.iH)(null),o=()=>{e.parent.proxy.undo()},n=()=>{e.parent.proxy.redo()},s=()=>{e.parent.proxy.zoomIn()},i=()=>{e.parent.proxy.zoomOut()},d=()=>{e.parent.proxy.centerContent()},c=()=>{e.parent.proxy.shGrid()},r=()=>{e.parent.proxy.shMinimap()},u=()=>{e.parent.proxy.layout()},p=()=>{e.parent.proxy.showData()},m=()=>{e.parent.proxy.downloadData()},w=()=>{e.parent.proxy.runWorkFlow()},k=()=>{e.parent.proxy.help()},h=a=>{e.parent.proxy.zoomTo(a)},g=()=>{e.parent.proxy.zoomToFit()},b=()=>{e.parent.proxy.refresh()},_=()=>{t.value=null},v=()=>{e.parent.proxy.saveData()},x=()=>{let a=new FileReader;a.readAsText(t.value),a.onload=()=>{e.parent.proxy.importJson(JSON.parse(a.result)),t.value=null}},y=()=>{e.parent.proxy.shLeftDrawer()},C=()=>{e.parent.proxy.shRightDrawer()};return{undo:o,redo:n,zoomIn:s,zoomOut:i,centerContent:d,shGrid:c,layout:u,showData:p,downloadData:m,runWorkFlow:w,help:k,shMinimap:r,zoomTo:h,zoomToFit:g,refresh:b,openFileDialog:a,file:t,importJson:x,cancel:_,saveData:v,shLeftDrawer:y,shRightDrawer:C}}};var Ie=t(3812),Qe=t(9570),je=t(5096),Ve=t(3747),Fe=t(811),Se=t(6778),Me=t(151),Ee=t(5589),He=t(3192),Re=t(9367),Le=t(6489);const Be=(0,j.Z)(Ne,[["render",Te],["__scopeId","data-v-43129d83"]]),Oe=Be;A()(Ne,"components",{QHeader:Ie.Z,QToolbar:Qe.Z,QBtn:V.Z,QTooltip:F.Z,QAvatar:je.Z,QToolbarTitle:Ve.Z,QMenu:Fe.Z,QList:M.Z,QItem:E.Z,QItemSection:H.Z,QSeparator:L.Z,QIcon:R.Z,QDialog:Se.Z,QCard:Me.Z,QCardSection:Ee.Z,QFile:He.Z,QCardActions:Re.Z}),A()(Ne,"directives",{Ripple:Le.Z,ClosePopup:B.Z});const Ae=e=>((0,l.dD)("data-v-45463d92"),e=e(),(0,l.Cn)(),e),Ge={class:"absolute-top"},Je=Ae((()=>(0,l._)("div",null,[(0,l._)("b",null,"组件库")],-1))),Pe={key:0,class:"row items-center node-label"},$e=["onMousedown","onTouchstart"],Ye=Ae((()=>(0,l._)("div",{class:"left-side"},[(0,l._)("span",{class:"material-icons status-icons",style:{color:"#808080"}}," task ")],-1))),Ke={class:"center"},Xe=Ae((()=>(0,l._)("div",{class:"right-side"},[(0,l._)("span",{class:"material-icons status-icons"}," tune ")],-1))),ea={class:"row"},aa=Ae((()=>(0,l._)("div",{class:"col-3"},[(0,l._)("strong",null,"name：")],-1))),ta={class:"col-9"},la={class:"row"},oa=Ae((()=>(0,l._)("div",{class:"col-3"},[(0,l._)("strong",null,"appUseCase：")],-1))),na={class:"col-9"},sa={class:"row"},ia=Ae((()=>(0,l._)("div",{class:"col-3"},[(0,l._)("strong",null,"cpuCores：")],-1))),da={class:"col-9"},ca={class:"absolute-bottom"};function ra(e,a,t,o,s,i){const d=(0,l.up)("q-icon"),c=(0,l.up)("q-space"),r=(0,l.up)("q-bar"),u=(0,l.up)("q-input"),p=(0,l.up)("q-tooltip"),m=(0,l.up)("q-tree"),f=(0,l.up)("q-scroll-area"),w=(0,l.up)("q-btn"),k=(0,l.up)("q-drawer");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(k,{id:"leftDrawer",modelValue:o.showLeftDrawerCom,"onUpdate:modelValue":a[1]||(a[1]=e=>o.showLeftDrawerCom=e),"show-if-above":"",width:300,breakpoint:500,bordered:"",side:"left"},{default:(0,l.w5)((()=>[(0,l._)("div",Ge,[(0,l.Wm)(r,{id:"qBarTitle"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{name:"inventory"}),Je,(0,l.Wm)(c)])),_:1}),(0,l.Wm)(u,{outlined:"",dense:"",ref:"filterRef",modelValue:o.filter,"onUpdate:modelValue":a[0]||(a[0]=e=>o.filter=e),class:"q-pt-xs q-px-md"},{prepend:(0,l.w5)((()=>[(0,l.Wm)(d,{name:"search"})])),append:(0,l.w5)((()=>[""!==o.filter?((0,l.wg)(),(0,l.j4)(d,{key:0,name:"clear",class:"cursor-pointer",onClick:o.resetFilter},null,8,["onClick"])):(0,l.kq)("",!0)])),_:1},8,["modelValue"])]),(0,l.Wm)(f,{class:"q-px-md",style:{height:"calc(100% - 112px)","margin-top":"76px","margin-bottom":"36px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{nodes:o.nodeList,"node-key":"id",filter:o.filter,"filter-method":o.filterMethod,"no-nodes-label":"没有节点数据！","no-results-label":"没有找到相关节点！","default-expand-all":"",class:"q-pt-sm q-pb-md"},{"default-header":(0,l.w5)((e=>[e.node.icon?((0,l.wg)(),(0,l.iD)("div",Pe,[(0,l.Wm)(d,{name:e.node.icon,class:"q-mr-sm"},null,8,["name"]),(0,l._)("div",null,(0,P.zw)(e.node.data.name),1)])):((0,l.wg)(),(0,l.iD)("div",{key:1,class:"node",onMousedown:a=>o.startDrag(a,e),onTouchstart:(0,n.iM)((a=>o.startDrag(a,e)),["stop"])},[Ye,(0,l._)("div",Ke,(0,P.zw)(e.node.data.name),1),Xe,(0,l.Wm)(p,{anchor:"center right",self:"center left",offset:[10,10]},{default:(0,l.w5)((()=>[(0,l._)("div",ea,[aa,(0,l._)("div",ta,(0,P.zw)(e.node.data.name),1)]),(0,l._)("div",la,[oa,(0,l._)("div",na,(0,P.zw)(e.node.data.appUseCase),1)]),(0,l._)("div",sa,[ia,(0,l._)("div",da,(0,P.zw)(e.node.data.cpuCores),1)])])),_:2},1024)],40,$e))])),_:1},8,["nodes","filter","filter-method"])])),_:1}),(0,l._)("div",ca,[(0,l.Wm)(w,{align:"left",icon:"add",label:"添加更多组件...",class:"text-primary full-width",style:{background:"#eeeeee"},onClick:e.onClick},null,8,["onClick"])])])),_:1},8,["modelValue"])])}const ua={props:{showLeftDrawer:{type:Boolean}},setup(e){const a=(0,l.FN)(),t={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}}},items:[{group:"top"},{group:"bottom"}]},o=(0,f.iH)([{id:"Simulation",data:{name:"Simulation脚本"},icon:"flag",children:[{id:"Simulation1",shape:"default-node",data:{name:"Simulation1脚本",cpuCores:"4",appUseCase:"ab08ad37-055b-b368-58aa-037620228cf8",status:"default",htc:!1},ports:{...t}},{id:"Simulation2",shape:"default-node",data:{name:"Simulation2脚本",cpuCores:"4",appUseCase:"f30223f0-a215-4402-38ba-067a917b095d",status:"default",htc:!1},ports:{...t}},{id:"Simulation3",shape:"default-node",data:{name:"Simulation3脚本",cpuCores:"4",appUseCase:"c0121580-1097-418f-14be-170e474fb8d3",status:"default",htc:!1},ports:{...t}},{id:"Simulation4",shape:"default-node",data:{name:"Simulation4脚本",cpuCores:"4",appUseCase:"f4f1357b-1bfc-6797-5030-b9822d910e73",status:"default",htc:!1},ports:{...t}}]},{id:"Tool",data:{name:"Tool工具"},icon:"construction",children:[{id:"Tool1",shape:"default-node",data:{name:"Tool1工具",cpuCores:"4",appUseCase:"79737114-e574-8956-bd45-8cf3b9fc8c88",status:"default",htc:!1},ports:{...t}},{id:"Tool2",shape:"default-node",data:{name:"Tool2工具",cpuCores:"4",appUseCase:"75ca097e-b868-4250-885b-138a824f4982",status:"default",htc:!1},ports:{...t}},{id:"Tool3",shape:"default-node",data:{name:"Tool3工具",cpuCores:"4",appUseCase:"cec670a0-f6af-916f-7a52-ec9cbd102a9a",status:"default",htc:!1},ports:{...t}}]},{id:"Compute",data:{name:"Compute计算"},icon:"developer_board",children:[{id:"Compute1",shape:"default-node",data:{name:"Compute1计算",cpuCores:"4",appUseCase:"b21871de-75dd-4a39-9c4c-cd2df62eb20b",status:"default",htc:!1},ports:{...t}},{id:"Compute2",shape:"default-node",data:{name:"Compute2计算",cpuCores:"4",appUseCase:"40178a7c-b7b8-417a-9cd4-b0277da22374",status:"default",htc:!1},ports:{...t}},{id:"Compute3",shape:"default-node",data:{name:"Compute3计算",cpuCores:"4",appUseCase:"c1dd1643-c630-4073-8b53-68ba8391f9de",status:"default",htc:!1},ports:{...t}},{id:"Compute4",shape:"default-node",data:{name:"Compute4计算",cpuCores:"4",appUseCase:"45901e22-3ea9-4499-a481-bf5d33964d8a",status:"default",htc:!1},ports:{...t}},{id:"Compute5",shape:"default-node",data:{name:"Compute5计算",cpuCores:"4",appUseCase:"b7e4ec9b-e094-4c2b-8e34-79c8b09b2e14",status:"default",htc:!1},ports:{...t}}]},{id:"Test",data:{name:"Test测试"},icon:"bug_report",children:[{id:"Compute1",shape:"default-node",data:{name:"Test1测试",cpuCores:"4",appUseCase:"34594c90-fe25-4128-b9c6-66519711e6c8",status:"default",htc:!1},ports:{...t}},{id:"Compute2",shape:"default-node",data:{name:"Test2测试",cpuCores:"4",appUseCase:"497153b6-1c4b-473a-a0ec-bea0c5ee42b3",status:"default",htc:!1},ports:{...t}},{id:"Compute3",shape:"default-node",data:{name:"Test3测试",cpuCores:"4",appUseCase:"296c38f6-4af1-4bec-8553-ce9afb12bf1e",status:"default",htc:!1},ports:{...t}},{id:"Compute4",shape:"default-node",data:{name:"Test4测试",cpuCores:"4",appUseCase:"d65db538-3c41-4eaf-b25d-91bd3a334c30",status:"default",htc:!1},ports:{...t}}]}]),n=(0,f.iH)(""),s=(0,f.iH)(null),i=(e,t)=>{a.parent.proxy.startDrag(e,t)},d=(0,l.Fl)((()=>e.showLeftDrawer)),c=()=>{a.parent.proxy.shLeftDrawer()},r=(e,a)=>-1!==e.data.name.indexOf(a);return{shLeftDrawer:c,showLeftDrawerCom:d,nodeList:o,filter:n,filterRef:s,resetFilter(){n.value="",s.value.focus()},startDrag:i,filterMethod:r}}};var pa=t(2901),ma=t(846),fa=t(2025),wa=t(4689),ka=t(7704),ha=t(5551);const ga=(0,j.Z)(ua,[["render",ra],["__scopeId","data-v-45463d92"]]),ba=ga;A()(ua,"components",{QDrawer:pa.Z,QBar:ma.Z,QIcon:R.Z,QSpace:fa.Z,QBtn:V.Z,QInput:wa.Z,QScrollArea:ka.Z,QTree:ha.Z,QTooltip:F.Z});const _a=e=>((0,l.dD)("data-v-128e38de"),e=e(),(0,l.Cn)(),e),va={class:"absolute-top"},xa=_a((()=>(0,l._)("div",null,[(0,l._)("b",null,"编辑")],-1)));function ya(e,a,t,o,n,s){const i=(0,l.up)("q-icon"),d=(0,l.up)("q-space"),c=(0,l.up)("q-bar"),r=(0,l.up)("EditPanel"),u=(0,l.up)("q-scroll-area"),p=(0,l.up)("q-drawer");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(p,{id:"rightDrawer",modelValue:o.showRightDrawerCom,"onUpdate:modelValue":a[0]||(a[0]=e=>o.showRightDrawerCom=e),"show-if-above":"",width:300,breakpoint:500,bordered:"",side:"right"},{default:(0,l.w5)((()=>[(0,l._)("div",va,[(0,l.Wm)(c,{id:"qBarTitle"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{name:"edit"}),xa,(0,l.Wm)(d)])),_:1})]),(0,l.Wm)(u,{style:{height:"calc(100% - 32px)","margin-top":"32px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{id:"edit",ref:"editPanel",flow:t.flow},null,8,["flow"])])),_:1})])),_:1},8,["modelValue"])])}const Ca=e=>((0,l.dD)("data-v-571dd375"),e=e(),(0,l.Cn)(),e),Wa=Ca((()=>(0,l._)("div",{id:"titleBar"},"导航器",-1))),Da=Ca((()=>(0,l._)("div",{id:"minimapContainer"},null,-1))),qa=[Wa,Da];function Ua(e,a,t,o,n,s){return(0,l.wg)(),(0,l.iD)("div",null,qa)}const Za={},za=(0,j.Z)(Za,[["render",Ua],["__scopeId","data-v-571dd375"]]),Ta=za,Na=e=>((0,l.dD)("data-v-aa34cc68"),e=e(),(0,l.Cn)(),e),Ia={key:0,class:"q-gutter-md q-pl-md q-pr-md q-pt-md"},Qa=Na((()=>(0,l._)("div",{class:"inputTitle row"},[(0,l._)("div",{class:"col-6"},"x"),(0,l._)("div",{class:"col-6 q-pl-sm"},"y")],-1))),ja={class:"row q-mt-xs"},Va={class:"col-6 q-pr-xs"},Fa={class:"col-6 q-pl-xs"},Sa=Na((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"externalId",-1))),Ma=Na((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"cpuCores",-1))),Ea=Na((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"appUseCase",-1))),Ha=Na((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"name",-1))),Ra=Na((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"status",-1))),La={class:"select-text"},Ba={key:0,class:"row",style:{"margin-left":"-4px"}},Oa=(0,l.Uk)(" default - 默认 "),Aa={key:1,class:"row",style:{"margin-left":"-4px"}},Ga=(0,l.Uk)(" success - 成功 "),Ja={key:2,class:"row",style:{"margin-left":"-4px"}},Pa=(0,l.Uk)(" error - 错误 "),$a={key:3,class:"row",style:{"margin-left":"-4px"}},Ya=(0,l.Uk)(" warning - 警告 "),Ka={key:4,class:"row",style:{"margin-left":"-4px"}},Xa=(0,l.Uk)(" running - 运行 "),et=Na((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"htc",-1))),at={key:1,class:"q-gutter-md q-pl-md q-pr-md q-pt-md"},tt=Na((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"source",-1))),lt=Na((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"target",-1))),ot=Na((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"fileDependencies",-1))),nt=(0,l.Uk)("targetAppFile"),st=(0,l.Uk)("dependencyAppFile"),it=(0,l.Uk)("dependencyType"),dt=(0,l.Uk)("+ 添加文件"),ct={key:2,class:"q-gutter-md q-pl-md q-pr-md q-pt-md"},rt=Na((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"id",-1))),ut=Na((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"name",-1))),pt=Na((()=>(0,l._)("div",{class:"inputTitle q-mt-sm"},"materialName",-1)));function mt(e,a,t,o,s,i){const d=(0,l.up)("q-input"),c=(0,l.up)("q-icon"),r=(0,l.up)("q-item-section"),u=(0,l.up)("q-item"),p=(0,l.up)("q-select"),m=(0,l.up)("q-btn-toggle"),f=(0,l.up)("q-btn"),w=(0,l.up)("q-item-label"),k=(0,l.up)("q-list"),h=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.iD)("div",null,["node"===o.clickType?((0,l.wg)(),(0,l.iD)("div",Ia,[Qa,(0,l._)("div",ja,[(0,l._)("div",Va,[(0,l.Wm)(d,{dense:"",outlined:"",modelValue:o.clickNode.x,"onUpdate:modelValue":a[0]||(a[0]=e=>o.clickNode.x=e),readonly:""},null,8,["modelValue"])]),(0,l._)("div",Fa,[(0,l.Wm)(d,{dense:"",outlined:"",modelValue:o.clickNode.y,"onUpdate:modelValue":a[1]||(a[1]=e=>o.clickNode.y=e),readonly:""},null,8,["modelValue"])])]),Sa,(0,l.Wm)(d,{dense:"",outlined:"",modelValue:o.clickNode.id,"onUpdate:modelValue":a[2]||(a[2]=e=>o.clickNode.id=e),class:"q-mt-xs",readonly:""},null,8,["modelValue"]),Ma,(0,l.Wm)(d,{dense:"",outlined:"",modelValue:o.clickNode.cpuCores,"onUpdate:modelValue":a[3]||(a[3]=e=>o.clickNode.cpuCores=e),class:"q-mt-xs"},null,8,["modelValue"]),Ea,(0,l.Wm)(d,{dense:"",outlined:"",modelValue:o.clickNode.appUseCase,"onUpdate:modelValue":a[4]||(a[4]=e=>o.clickNode.appUseCase=e),class:"q-mt-xs"},null,8,["modelValue"]),Ha,(0,l.Wm)(d,{dense:"",outlined:"",modelValue:o.clickNode.name,"onUpdate:modelValue":a[5]||(a[5]=e=>o.clickNode.name=e),class:"q-mt-xs"},null,8,["modelValue"]),Ra,(0,l.Wm)(p,{dense:"",outlined:"",modelValue:o.clickNode.status,"onUpdate:modelValue":a[6]||(a[6]=e=>o.clickNode.status=e),options:["default","success","error","warning","running"],class:"q-mt-xs"},{prepend:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(c,{name:"task",class:"text-default",style:{"font-size":"20px"}},null,512),[[n.F8,"default"===o.clickNode.status]]),(0,l.wy)((0,l.Wm)(c,{name:"check_circle_outline",class:"text-positive",style:{"font-size":"20px"}},null,512),[[n.F8,"success"===o.clickNode.status]]),(0,l.wy)((0,l.Wm)(c,{name:"cancel",class:"text-red",style:{"font-size":"20px"}},null,512),[[n.F8,"error"===o.clickNode.status]]),(0,l.wy)((0,l.Wm)(c,{name:"error_outline",class:"text-warning",style:{"font-size":"20px"}},null,512),[[n.F8,"warning"===o.clickNode.status]]),(0,l.wy)((0,l.Wm)(c,{name:"directions_run",class:"text-primary",style:{"font-size":"20px"}},null,512),[[n.F8,"running"===o.clickNode.status]])])),selected:(0,l.w5)((()=>[(0,l._)("div",La,(0,P.zw)(o.clickNode.status),1)])),option:(0,l.w5)((e=>[(0,l.Wm)(u,(0,l.dG)(e.itemProps,(0,l.mx)(e.itemEvents)),{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>["default"===e.opt?((0,l.wg)(),(0,l.iD)("span",Ba,[(0,l.Wm)(c,{name:"task",class:"q-mr-sm text-default",style:{"font-size":"20px"}}),Oa])):"success"===e.opt?((0,l.wg)(),(0,l.iD)("span",Aa,[(0,l.Wm)(c,{name:"check_circle_outline",class:"q-mr-sm text-positive",style:{"font-size":"20px"}}),Ga])):"error"===e.opt?((0,l.wg)(),(0,l.iD)("span",Ja,[(0,l.Wm)(c,{name:"cancel",class:"q-mr-sm text-red",style:{"font-size":"20px"}}),Pa])):"warning"===e.opt?((0,l.wg)(),(0,l.iD)("span",$a,[(0,l.Wm)(c,{name:"error_outline",class:"q-mr-sm text-warning",style:{"font-size":"20px"}}),Ya])):"running"===e.opt?((0,l.wg)(),(0,l.iD)("span",Ka,[(0,l.Wm)(c,{name:"directions_run",class:"q-mr-sm text-primary",style:{"font-size":"20px"}}),Xa])):(0,l.kq)("",!0)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue"]),et,(0,l.Wm)(m,{modelValue:o.clickNode.htc,"onUpdate:modelValue":a[7]||(a[7]=e=>o.clickNode.htc=e),class:"q-mt-xs",style:{border:"1px solid #c2c2c2"},dense:"",push:"",spread:"","no-caps":"",outlined:"",unelevated:"",ripple:!1,"toggle-color":"grey",color:"white","text-color":"black",options:[{label:"true",value:!0},{label:"false",value:!1}]},null,8,["modelValue"]),(0,l._)("div",null,[(0,l.Wm)(f,{label:"保存",color:"primary",class:"q-mb-md",onClick:a[8]||(a[8]=e=>o.saveNode())})])])):"edge"===o.clickType?((0,l.wg)(),(0,l.iD)("div",at,[tt,(0,l.Wm)(d,{dense:"",outlined:"",modelValue:o.clickEdge.source.cell,"onUpdate:modelValue":a[9]||(a[9]=e=>o.clickEdge.source.cell=e),class:"q-mt-xs",readonly:""},null,8,["modelValue"]),lt,(0,l.Wm)(d,{dense:"",outlined:"",modelValue:o.clickEdge.target.cell,"onUpdate:modelValue":a[10]||(a[10]=e=>o.clickEdge.target.cell=e),class:"q-mt-xs",readonly:""},null,8,["modelValue"]),ot,(0,l.Wm)(k,{outlined:"",separator:"",class:"rounded-borders q-mt-xs",style:{border:"1px solid #e0e0e0"}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.clickEdge.store.data.fileDependencies,(e=>((0,l.wg)(),(0,l.j4)(u,{key:e},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,{caption:""},{default:(0,l.w5)((()=>[nt])),_:1}),(0,l.Wm)(w,{class:"q-pb-xs"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,P.zw)(e.targetAppFile),1)])),_:2},1024),(0,l.Wm)(w,{caption:""},{default:(0,l.w5)((()=>[st])),_:1}),(0,l.Wm)(w,{class:"q-pb-xs"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,P.zw)(e.dependencyAppFile),1)])),_:2},1024),(0,l.Wm)(w,{caption:""},{default:(0,l.w5)((()=>[it])),_:1}),(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,P.zw)(e.dependencyType),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)(r,{top:"",side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{size:"12px",flat:"",round:"",icon:"delete"})])),_:1})])),_:2},1024)))),128)),(0,l.wy)(((0,l.wg)(),(0,l.j4)(u,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,{caption:""},{default:(0,l.w5)((()=>[dt])),_:1})])),_:1})])),_:1})),[[h]])])),_:1})])):((0,l.wg)(),(0,l.iD)("div",ct,[rt,(0,l.Wm)(d,{dense:"",outlined:"",modelValue:o.thisFlow.id,"onUpdate:modelValue":a[11]||(a[11]=e=>o.thisFlow.id=e),class:"q-mt-xs",readonly:""},null,8,["modelValue"]),ut,(0,l.Wm)(d,{dense:"",outlined:"",modelValue:o.thisFlow.name,"onUpdate:modelValue":a[12]||(a[12]=e=>o.thisFlow.name=e),class:"q-mt-xs"},null,8,["modelValue"]),pt,(0,l.Wm)(d,{dense:"",outlined:"",modelValue:o.thisFlow.materialName,"onUpdate:modelValue":a[13]||(a[13]=e=>o.thisFlow.materialName=e),class:"q-mt-xs"},null,8,["modelValue"]),(0,l._)("div",null,[(0,l.Wm)(f,{label:"保存",color:"primary",class:"q-mb-md",onClick:a[14]||(a[14]=e=>o.saveFlow())})])]))])}var ft=t(4434);const wt={props:{flow:{type:Object}},setup(e){const a=(0,f.iH)(),t=(0,f.iH)(),o=(0,f.iH)(),n=(0,f.iH)(""),s=(0,f.iH)({name:"",id:"",materialName:""});function i(){const e={name:a.value.name,cpuCores:a.value.cpuCores,appUseCase:a.value.appUseCase,status:a.value.status,htc:a.value.htc};t.value.setData(e),t.value.store.data.position.x=a.value.x,t.value.store.data.position.y=a.value.y,ft.Z.create({type:"positive",message:"保存节点成功！"})}function d(){e.flow.name=s.value.name,e.flow.id=s.value.id,e.flow.materialName=s.value.materialName,ft.Z.create({type:"positive",message:"保存成功！"})}(0,l.Y3)((()=>{s.value.name=e.flow.name,s.value.id=e.flow.id,s.value.materialName=e.flow.materialName}));const c=e=>{n.value="node",t.value=e;const l=t.value.getData(),o={id:t.value.id,cpuCores:l.cpuCores,appUseCase:l.appUseCase,name:l.name,status:l.status,htc:l.htc,x:t.value.store.data.position.x,y:t.value.store.data.position.y};a.value=o},r=e=>{t.value=e,a.value&&(a.value.x=t.value.store.data.position.x,a.value.y=t.value.store.data.position.y)},u=e=>{n.value="edge",o.value=e},p=()=>{n.value="blank",s.value.name=e.flow.name,s.value.id=e.flow.id,s.value.materialName=e.flow.materialName};return{clickType:n,clickNode:a,clickEdge:o,saveNode:i,nodeClickResponse:c,nodeMouseMoveResponse:r,edgeClickResponse:u,blankClickResponse:p,thisFlow:s,saveFlow:d}}};var kt=t(7757),ht=t(2350),gt=t(201);const bt=(0,j.Z)(wt,[["render",mt],["__scopeId","data-v-aa34cc68"]]),_t=bt;A()(wt,"components",{QInput:wa.Z,QSelect:kt.Z,QIcon:R.Z,QItem:E.Z,QItemSection:H.Z,QItemLabel:ht.Z,QBtnToggle:gt.Z,QBtn:V.Z,QList:M.Z,QSeparator:L.Z}),A()(wt,"directives",{Ripple:Le.Z});const vt={components:{MiniMap:Ta,EditPanel:_t},props:{showRightDrawer:{type:Boolean},flow:{type:Object}},setup(e){const a=(0,l.FN)(),t=(0,f.iH)(),o=(0,l.Fl)((()=>e.showRightDrawer)),n=()=>{a.parent.proxy.shRightDrawer()},s=e=>{t.value.nodeClickResponse(e)},i=e=>{t.value.nodeMouseMoveResponse(e)},d=e=>{t.value.edgeClickResponse(e)},c=()=>{t.value.blankClickResponse()};return{shRightDrawer:n,showRightDrawerCom:o,editPanel:t,nodeClickResponse:s,nodeMouseMoveResponse:i,edgeClickResponse:d,blankClickResponse:c}}},xt=(0,j.Z)(vt,[["render",ya],["__scopeId","data-v-128e38de"]]),yt=xt;A()(vt,"components",{QDrawer:pa.Z,QBar:ma.Z,QIcon:R.Z,QSpace:fa.Z,QBtn:V.Z,QScrollArea:ka.Z});t(4874);const Ct=e=>((0,l.dD)("data-v-d9bf3972"),e=e(),(0,l.Cn)(),e),Wt={key:0,class:"default-node htc-node-1"},Dt=Ct((()=>(0,l._)("div",{class:"left-side"},null,-1))),qt=[Dt],Ut={key:1,class:"default-node htc-node-2"},Zt=Ct((()=>(0,l._)("div",{class:"left-side"},null,-1))),zt=[Zt],Tt={class:"default-node"},Nt={class:"left-side"},It={key:0,class:"material-icons status-icons tooltip text-positive"},Qt=(0,l.Uk)(" check_circle_outline "),jt=Ct((()=>(0,l._)("span",{class:"tooltiptext bg-positive",style:{left:"18%"}},"成功",-1))),Vt=[Qt,jt],Ft={key:1,class:"material-icons status-icons tooltip text-red"},St=(0,l.Uk)(" cancel "),Mt=Ct((()=>(0,l._)("span",{class:"tooltiptext bg-red",style:{left:"18%"}},"错误",-1))),Et=[St,Mt],Ht={key:2,class:"material-icons status-icons tooltip text-warning"},Rt=(0,l.Uk)(" error_outline "),Lt=Ct((()=>(0,l._)("span",{class:"tooltiptext bg-warning",style:{left:"18%"}},"警告",-1))),Bt=[Rt,Lt],Ot={key:3,class:"material-icons status-icons running-status tooltip text-primary"},At=(0,l.Uk)(" directions_run "),Gt=Ct((()=>(0,l._)("span",{class:"tooltiptext bg-primary",style:{left:"18%"}},"运行",-1))),Jt=[At,Gt],Pt={key:4,class:"material-icons status-icons tooltip text-default"},$t=(0,l.Uk)(" task "),Yt=Ct((()=>(0,l._)("span",{class:"tooltiptext",style:{left:"18%"}},"默认",-1))),Kt=[$t,Yt],Xt={class:"center"},el={class:"right-side"},al=(0,l.Uk)(" tune "),tl=Ct((()=>(0,l._)("span",{class:"tooltiptext"},"配置",-1))),ll=[al,tl];function ol(e,a,t,o,n,s){return(0,l.wg)(),(0,l.iD)("div",null,[o.data.htc?((0,l.wg)(),(0,l.iD)("div",Wt,qt)):(0,l.kq)("",!0),o.data.htc?((0,l.wg)(),(0,l.iD)("div",Ut,zt)):(0,l.kq)("",!0),(0,l._)("div",Tt,[(0,l._)("div",Nt,["success"===o.data.status?((0,l.wg)(),(0,l.iD)("span",It,Vt)):"error"===o.data.status?((0,l.wg)(),(0,l.iD)("span",Ft,Et)):"warning"===o.data.status?((0,l.wg)(),(0,l.iD)("span",Ht,Bt)):"running"===o.data.status?((0,l.wg)(),(0,l.iD)("span",Ot,Jt)):((0,l.wg)(),(0,l.iD)("span",Pt,Kt))]),(0,l._)("div",Xt,(0,P.zw)(o.data.name),1),(0,l._)("div",el,[(0,l._)("span",{class:"material-icons status-icons cursor-pointer tooltip",onClick:a[0]||(a[0]=(...e)=>o.nodeSetting&&o.nodeSetting(...e))},ll)])])])}var nl=t(499);const sl={setup(){const e=(0,l.f3)("getNode"),a=e(),t=(0,f.iH)({name:"",status:""}),o=()=>{nl.Z.create({title:"配置",options:{type:"radio",model:"opt1",items:[{label:"使用本地参数文件",value:"opt1",color:"secondary"},{label:"在线配置参数",value:"opt2"}]},ok:"继续",cancel:"取消"}).onOk((e=>{ft.Z.create({message:"选择了 "+e,color:"primary"})}))};return(0,l.bv)((()=>{t.value=a.getData(),a.on("change:data",(({current:e})=>{t.value=e}))})),{data:t,nodeSetting:o}}},il=(0,j.Z)(sl,[["render",ol],["__scopeId","data-v-d9bf3972"]]),dl=il,cl=e=>((0,l.dD)("data-v-30a818e0"),e=e(),(0,l.Cn)(),e),rl={class:"text-h6 row"},ul=(0,l.Uk)(" 帮助 "),pl=(0,l.Uk)(" 最大化 "),ml=(0,l.Uk)(" 最小化 "),fl=(0,l.Uk)(" 关闭 "),wl=cl((()=>(0,l._)("div",{class:"text-h6 q-mb-md"},"如何新增",-1))),kl=cl((()=>(0,l._)("p",null,"按住并拖动左侧组件库中的节点到中间画布，松开鼠标即可新增节点。",-1))),hl=cl((()=>(0,l._)("div",{class:"text-h6 q-mb-md"},"如何删除",-1))),gl=cl((()=>(0,l._)("p",null,"鼠标右键点击需要删除的节点，在弹出菜单中点击“删除”。",-1))),bl=cl((()=>(0,l._)("div",{class:"text-h6 q-mb-md"},"如何移动",-1))),_l=cl((()=>(0,l._)("p",null,"按住并拖动中间画布中的节点到指定位置，松开鼠标即可移动节点。",-1))),vl=cl((()=>(0,l._)("div",{class:"text-h6 q-mb-md"},"如何连线",-1))),xl=cl((()=>(0,l._)("p",null," 鼠标移动到节点上、下边框的连接桩（小圆圈）处，当鼠标指针变为十字形状（+）后，移动鼠标到另一节点的连接桩并松开鼠标，即可连线。 ",-1))),yl=cl((()=>(0,l._)("div",{class:"text-h6 q-mb-md"},"如何配置节点",-1))),Cl=cl((()=>(0,l._)("p",null,"鼠标右键点击需要配置的节点，在弹出菜单中点击“配置”。",-1))),Wl=cl((()=>(0,l._)("div",{class:"text-h6 q-mb-md"},"如何查看节点",-1))),Dl=cl((()=>(0,l._)("p",null,"鼠标右键点击需要查看的节点，在弹出菜单中点击“查看”。",-1)));function ql(e,a,t,o,n,s){const i=(0,l.up)("q-space"),d=(0,l.up)("q-tooltip"),c=(0,l.up)("q-btn"),r=(0,l.up)("q-card-section"),u=(0,l.up)("q-tab"),p=(0,l.up)("q-tabs"),m=(0,l.up)("q-tab-panel"),f=(0,l.up)("q-tab-panels"),w=(0,l.up)("q-splitter"),k=(0,l.up)("q-card"),h=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(h,{modelValue:o.showHelpDialog,"onUpdate:modelValue":[a[5]||(a[5]=e=>o.showHelpDialog=e),o.close],onEscapeKey:o.close,maximized:o.maximized,"full-width":o.maximized},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{style:{width:"600px","max-width":"80vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l._)("div",rl,[ul,(0,l.Wm)(i),o.maximized?((0,l.wg)(),(0,l.j4)(c,{key:1,dense:"",flat:"",icon:"minimize",onClick:a[1]||(a[1]=e=>o.maximized=!1)},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{offset:[8,8]},{default:(0,l.w5)((()=>[ml])),_:1})])),_:1})):((0,l.wg)(),(0,l.j4)(c,{key:0,dense:"",flat:"",icon:"crop_square",onClick:a[0]||(a[0]=e=>o.maximized=!0)},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{offset:[8,8]},{default:(0,l.w5)((()=>[pl])),_:1})])),_:1})),(0,l.Wm)(c,{dense:"",flat:"",icon:"close",onClick:o.close},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{offset:[8,8]},{default:(0,l.w5)((()=>[fl])),_:1})])),_:1},8,["onClick"])])])),_:1}),(0,l.Wm)(r,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{limits:[20,30],modelValue:o.splitterModel,"onUpdate:modelValue":a[4]||(a[4]=e=>o.splitterModel=e)},{before:(0,l.w5)((()=>[(0,l.Wm)(p,{modelValue:o.tab,"onUpdate:modelValue":a[2]||(a[2]=e=>o.tab=e),vertical:"",class:"text-primary"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"如何新增",label:"如何新增"}),(0,l.Wm)(u,{name:"如何删除",label:"如何删除"}),(0,l.Wm)(u,{name:"如何移动",label:"如何移动"}),(0,l.Wm)(u,{name:"如何连线",label:"如何连线"}),(0,l.Wm)(u,{name:"如何配置节点",label:"如何配置节点"}),(0,l.Wm)(u,{name:"如何查看节点",label:"如何查看节点"})])),_:1},8,["modelValue"])])),after:(0,l.w5)((()=>[(0,l.Wm)(f,{modelValue:o.tab,"onUpdate:modelValue":a[3]||(a[3]=e=>o.tab=e),animated:"",swipeable:"",vertical:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"如何新增"},{default:(0,l.w5)((()=>[wl,kl])),_:1}),(0,l.Wm)(m,{name:"如何删除"},{default:(0,l.w5)((()=>[hl,gl])),_:1}),(0,l.Wm)(m,{name:"如何移动"},{default:(0,l.w5)((()=>[bl,_l])),_:1}),(0,l.Wm)(m,{name:"如何连线"},{default:(0,l.w5)((()=>[vl,xl])),_:1}),(0,l.Wm)(m,{name:"如何配置节点"},{default:(0,l.w5)((()=>[yl,Cl])),_:1}),(0,l.Wm)(m,{name:"如何查看节点"},{default:(0,l.w5)((()=>[Wl,Dl])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","onEscapeKey","maximized","full-width"])])}const Ul={props:{openHelpDialog:{type:Boolean}},setup(e){const a=(0,f.iH)("如何新增"),t=(0,f.iH)(20),o=(0,l.FN)(),n=(0,f.iH)(!1),s=(0,l.Fl)((()=>e.openHelpDialog)),i=()=>{o.parent.proxy.closeHelp(),n.value=!1};return{close:i,tab:a,splitterModel:t,showHelpDialog:s,maximized:n}}};var Zl=t(218),zl=t(7547),Tl=t(3269),Nl=t(5906),Il=t(6602);const Ql=(0,j.Z)(Ul,[["render",ql],["__scopeId","data-v-30a818e0"]]),jl=Ql;A()(Ul,"components",{QDialog:Se.Z,QCard:Me.Z,QCardSection:Ee.Z,QSpace:fa.Z,QBtn:V.Z,QTooltip:F.Z,QSplitter:Zl.Z,QTabs:zl.Z,QTab:Tl.Z,QTabPanels:Nl.Z,QTabPanel:Il.Z});const Vl={class:"text-h6 row"},Fl=(0,l.Uk)(" 查看数据 "),Sl=(0,l.Uk)(" 最大化 "),Ml=(0,l.Uk)(" 最小化 "),El=(0,l.Uk)(" 关闭 ");function Hl(e,a,t,o,n,s){const i=(0,l.up)("q-space"),d=(0,l.up)("q-tooltip"),c=(0,l.up)("q-btn"),r=(0,l.up)("q-card-section"),u=(0,l.up)("json-viewer"),p=(0,l.up)("q-card"),m=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(m,{modelValue:o.showCodeDialog,"onUpdate:modelValue":[a[2]||(a[2]=e=>o.showCodeDialog=e),o.close],onEscapeKey:o.close,maximized:o.maximized,"full-width":o.maximized},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{style:{"min-width":"600px","max-width":"80vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l._)("div",Vl,[Fl,(0,l.Wm)(i),o.maximized?((0,l.wg)(),(0,l.j4)(c,{key:1,dense:"",flat:"",icon:"minimize",onClick:a[1]||(a[1]=e=>o.maximized=!1)},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{offset:[8,8]},{default:(0,l.w5)((()=>[Ml])),_:1})])),_:1})):((0,l.wg)(),(0,l.j4)(c,{key:0,dense:"",flat:"",icon:"crop_square",onClick:a[0]||(a[0]=e=>o.maximized=!0)},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{offset:[8,8]},{default:(0,l.w5)((()=>[Sl])),_:1})])),_:1})),(0,l.Wm)(c,{dense:"",flat:"",icon:"close",onClick:o.close},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{offset:[8,8]},{default:(0,l.w5)((()=>[El])),_:1})])),_:1},8,["onClick"])])])),_:1}),(0,l.Wm)(r,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{value:o.jsonData,"expand-depth":3,copyable:{copyText:"复制到剪贴板",copiedText:"复制成功!",timeout:2e3},boxed:!0,expanded:!0},null,8,["value"])])),_:1})])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","onEscapeKey","maximized","full-width"])])}var Rl=t(401),Ll=t.n(Rl);const Bl={components:{JsonViewer:Ll()},props:{openCodeDialog:{type:Boolean},data:{type:String}},setup(e){const a=(0,l.FN)(),t=(0,f.iH)(!1),o=(0,l.Fl)((()=>e.openCodeDialog)),n=(0,l.Fl)((()=>JSON.parse(e.data))),s=()=>{a.parent.proxy.closeCode(),t.value=!1};return{close:s,showCodeDialog:o,jsonData:n,maximized:t}}},Ol=(0,j.Z)(Bl,[["render",Hl]]),Al=Ol;A()(Bl,"components",{QDialog:Se.Z,QCard:Me.Z,QCardSection:Ee.Z,QSpace:fa.Z,QBtn:V.Z,QTooltip:F.Z});const Gl=(0,l.Uk)("删除"),Jl=(0,l.Uk)("查看数据"),Pl=(0,l.Uk)("添加节点"),$l=(0,l.Uk)("删除"),Yl=(0,l.Uk)("查看数据"),Kl=(0,l.Uk)("查看数据"),Xl=(0,l.Uk)("更多"),eo=(0,l.Uk)("清空");function ao(e,a,t,o,n,s){const i=(0,l.up)("q-item-section"),d=(0,l.up)("q-item"),c=(0,l.up)("q-separator"),r=(0,l.up)("q-list"),u=(0,l.up)("q-icon"),p=(0,l.up)("q-menu"),m=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(p,{target:"#container","touch-position":"","context-menu":""},{default:(0,l.w5)((()=>["node"==t.choiceType?((0,l.wg)(),(0,l.j4)(r,{key:0,dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{onClick:a[0]||(a[0]=a=>e.$emit("deleteNode"))},{default:(0,l.w5)((()=>[Gl])),_:1})])),_:1})),[[m]]),(0,l.Wm)(c),(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{onClick:a[1]||(a[1]=a=>e.$emit("showNode"))},{default:(0,l.w5)((()=>[Jl])),_:1})])),_:1})),[[m]]),(0,l.Wm)(c),(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{onClick:a[2]||(a[2]=a=>e.$emit("addNode"))},{default:(0,l.w5)((()=>[Pl])),_:1})])),_:1})),[[m]])])),_:1})):(0,l.kq)("",!0),"edge"==t.choiceType?((0,l.wg)(),(0,l.j4)(r,{key:1,dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{onClick:a[3]||(a[3]=a=>e.$emit("deleteEdge"))},{default:(0,l.w5)((()=>[$l])),_:1})])),_:1})),[[m]]),(0,l.Wm)(c),(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{onClick:a[4]||(a[4]=a=>e.$emit("showEdge"))},{default:(0,l.w5)((()=>[Yl])),_:1})])),_:1})),[[m]])])),_:1})):(0,l.kq)("",!0),"blank"==t.choiceType?((0,l.wg)(),(0,l.j4)(r,{key:2,dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{onClick:a[5]||(a[5]=a=>e.$emit("showData"))},{default:(0,l.w5)((()=>[Kl])),_:1})])),_:1})),[[m]]),(0,l.Wm)(c),(0,l.Wm)(d,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[Xl])),_:1}),(0,l.Wm)(i,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"keyboard_arrow_right"})])),_:1}),(0,l.Wm)(p,{anchor:"top end",self:"top start"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{dense:"",style:{"min-width":"100px"}},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{onClick:a[6]||(a[6]=a=>e.$emit("refresh"))},{default:(0,l.w5)((()=>[eo])),_:1})])),_:1})),[[m]])])),_:1})])),_:1})])),_:1})])),_:1})):(0,l.kq)("",!0)])),_:1})}const to={props:{choiceType:{type:String}},setup(){return{}}},lo=(0,j.Z)(to,[["render",ao],["__scopeId","data-v-4cec5cf4"]]),oo=lo;A()(to,"components",{QMenu:Fe.Z,QList:M.Z,QItem:E.Z,QItemSection:H.Z,QSeparator:L.Z,QIcon:R.Z}),A()(to,"directives",{ClosePopup:B.Z});const{Dnd:no}=r.e9,so=(0,l.aZ)({components:{Header:Oe,ToolBar:J,LeftDrawer:ba,RightDrawer:yt,HelpDialog:jl,CodeDialog:Al,ContextMenu:oo},setup(){const e=(0,u.Z)();let a;const t=(0,f.iH)({}),o=(0,f.iH)(""),n=(0,f.iH)(""),s=(0,f.iH)(),i=(0,f.iH)(100),d=(0,f.iH)(!0),w=(0,f.iH)(!0),k=(0,f.iH)(!1),h=(0,f.iH)(!1),g=(0,f.iH)({}),b=(0,f.iH)(!1),_=(0,f.iH)(!1),v={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#c2c8d5",strokeWidth:1.5,fill:"#fff"}}}},items:[{group:"top"},{group:"bottom"}]};let x={name:"测试工作流20220128-1",externalId:"w-workflow-20220128",materialName:"w",jobs:[{externalId:"fe94ef60-b536-22bb-61fd-6b3a2222be17",cpuCores:"2",appUseCase:"ab08ad37-055b-b368-58aa-037620228cf8",name:"Simulate1脚本",htc:!1},{externalId:"4557647d-19bc-b1d7-5aec-4963dfe83b28",cpuCores:"1",appUseCase:"f30223f0-a215-4402-38ba-067a917b095d",name:"Simulate2脚本",htc:!1},{externalId:"35344a12-c8d7-1e2c-704f-b10a9b56e2c6",cpuCores:"2",appUseCase:"c0121580-1097-418f-14be-170e474fb8d3",name:"Simulate3脚本",htc:!0},{externalId:"8c6f878b-ffa0-e51b-93d2-0e65344d7f56",cpuCores:"2",appUseCase:"f4f1357b-1bfc-6797-5030-b9822d910e73",name:"Simulate4脚本",htc:!1},{externalId:"ba2f49b7-912e-de79-50a3-8e6d4083f681",cpuCores:"1",appUseCase:"1d6913e0-32bd-4563-a073-4900579da937",name:"Simulate5脚本",htc:!1},{externalId:"7a65b4d8-12bd-bd09-170c-cf37cc0a568a",cpuCores:"2",appUseCase:"81abf716-a0f8-f064-cabe-6e4e44442825",name:"Simulate6脚本",htc:!1}],dependencies:[{externalId:"ba832c2b-7ff3-4b24-be99-53ad0f949161",jobExternalId:"4557647d-19bc-b1d7-5aec-4963dfe83b28",jobDependencyExternalId:"fe94ef60-b536-22bb-61fd-6b3a2222be17",fileDependencies:[{targetAppFile:"0a9c2cb6-3dc7-9a00-55f1-33f2e31f5561",dependencyAppFile:"2ae998c2-7a33-65a4-a9b1-07a101ec695c",dependencyType:"appFile"},{targetAppFile:"d499e05c-a1a1-f365-184a-06f64438d81f",dependencyAppFile:"f055da12-e175-3f38-c2df-4a589ddc5db9",dependencyType:"appFile"}]},{externalId:"6201ebaf-5c4a-4211-a9ca-7ecb367c9e25",jobExternalId:"35344a12-c8d7-1e2c-704f-b10a9b56e2c6",jobDependencyExternalId:"fe94ef60-b536-22bb-61fd-6b3a2222be17",fileDependencies:[{targetAppFile:"b098bf40-eb8c-30d8-ef16-8f21ab41b248",dependencyAppFile:"1191f899-eaad-b87c-8936-5cf96d72d1c4",dependencyType:"appFile"}]},{externalId:"a5b8558d-12c8-4ec8-a69f-cbcc7e1dbea7",jobExternalId:"8c6f878b-ffa0-e51b-93d2-0e65344d7f56",jobDependencyExternalId:"4557647d-19bc-b1d7-5aec-4963dfe83b28",fileDependencies:[{targetAppFile:"56c90586-a686-5330-0b16-72a231212171",dependencyAppFile:"56984e29-f833-adae-9253-882e255d2e3b",dependencyType:"appFile"}]},{externalId:"9eda6ea8-d91b-4b1c-9cfb-4a46be11b698",jobExternalId:"ba2f49b7-912e-de79-50a3-8e6d4083f681",jobDependencyExternalId:"4557647d-19bc-b1d7-5aec-4963dfe83b28"},{externalId:"080cf216-4e96-4b31-b664-8666e3f98b41",jobExternalId:"7a65b4d8-12bd-bd09-170c-cf37cc0a568a",jobDependencyExternalId:"35344a12-c8d7-1e2c-704f-b10a9b56e2c6"}]};const y=(0,f.iH)({name:"",id:"",materialName:""});let C={nodes:[],edges:[]};const W=()=>{a.undo()},D=()=>{a.redo()},q=()=>{i.value<=280&&(a.zoom(.2),setTimeout((()=>{i.value=Number((100*a.zoom()).toFixed(0))}),50))},U=()=>{i.value>=70&&(a.zoom(-.2),setTimeout((()=>{i.value=Number((100*a.zoom()).toFixed(0))}),50))},Z=e=>{a.zoomTo(e),setTimeout((()=>{i.value=Number((100*a.zoom()).toFixed(0))}),50)},z=()=>{a.zoomToFit(),setTimeout((()=>{i.value=Number((100*a.zoom()).toFixed(0))}),50)},T=()=>{a.centerContent()},N=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var a=16*Math.random()|0,t="x"==e?a:3&a|8;return t.toString(16)})),I=()=>{const t=a.toJSON().cells.find((e=>e.id==o.value)),l=N();a.addNode({id:l,data:{name:"未命名节点",cpuCores:"",appUseCase:"",status:"default",htc:!1},shape:"default-node",ports:{...v},x:null===t||void 0===t?void 0:t.position.x,y:(null===t||void 0===t?void 0:t.position.y)+160}),a.addEdge({source:null===t||void 0===t?void 0:t.id,target:l,shape:"default-edge",zIndex:-1}),e.notify({message:"添加节点成功！执行自动布局？",type:"positive",multiLine:!0,actions:[{label:"执行",color:"yellow",handler:()=>{J()}}]})},Q=()=>{e.dialog({title:"删除节点",message:"确定要删除该节点吗？",ok:"确定",cancel:"取消"}).onOk((()=>{a.removeNode(o.value),e.notify({message:"删除节点成功！",type:"positive"})}))},j=()=>{e.dialog({title:"删除连线",message:"确定要删除该连线吗？",ok:"确定",cancel:"取消"}).onOk((()=>{a.removeEdge(o.value),e.notify({message:"删除连线成功！",type:"positive"})}))},V=()=>{e.dialog({title:"清空画布",message:"确定要清空画布（包括所有节点和连线）吗？",ok:"确定",cancel:"取消"}).onOk((()=>{a.clearCells(),e.notify({message:"清空画布成功！",type:"positive"})}))},F=()=>{e.dialog({options:{title:"配置节点",type:"radio",model:"opt1",items:[{label:"使用本地参数文件",value:"opt1",color:"secondary"},{label:"在线配置参数",value:"opt2"}]},ok:"继续",cancel:"取消"}).onOk((a=>{e.notify({message:"选择了 "+a,color:"primary"})}))},S=()=>{E(),g.value=JSON.stringify(g.value.jobs.find((e=>e.externalId==o.value)),null,2),h.value=!0},M=()=>{E(),g.value=JSON.stringify(g.value.dependencies.find((e=>e.externalId==o.value)),null,2),h.value=!0},E=()=>{const e=a.toJSON().cells;let t=[],l=[];for(let a=0,o=e.length;a<o;a++)"default-edge"===e[a].shape?l.push({externalId:e[a].id,jobExternalId:e[a].target.cell,jobDependencyExternalId:e[a].source.cell,fileDependencies:e[a].fileDependencies}):t.push({externalId:e[a].id,cpuCores:e[a].data.cpuCores,appUseCase:e[a].data.appUseCase,name:e[a].data.name,htc:e[a].data.htc});g.value={name:y.value.name,externalId:y.value.id,materialName:y.value.materialName,jobs:t,dependencies:l}},H=()=>{E(),g.value=JSON.stringify(g.value,null,2),h.value=!0},R=()=>{h.value=!1},L=()=>{e.dialog({title:"导出数据",message:"确定要导出该流程数据（Json格式）吗？",ok:"确定",cancel:"取消"}).onOk((()=>{E();const a="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(g.value,null,"\t")),t=document.createElement("a");t.setAttribute("href",a),t.setAttribute("download","data"+p.ZP.formatDate(new Date,"YYYYMMDDHHmm")+".json"),t.click(),t.remove(),e.notify({message:"正在下载中，请稍候...",color:"primary"})}))},B=()=>{!0===_.value?a.hideGrid():a.showGrid(),_.value=!_.value,m.Z.set("showGrid",_.value)},O=()=>{b.value=!b.value,m.Z.set("showMinimap",b.value)},A=()=>{k.value=!0},G=()=>{k.value=!1},J=()=>{E(),x=g.value,X(),a.dispose(),se(),ie(),de(),ee(),T()},P=()=>{d.value=!d.value,!0===d.value&&!0===w.value?a.resize(window.innerWidth-600,window.innerHeight-52):!0===d.value&&!1===w.value||!1===d.value&&!0===w.value?a.resize(window.innerWidth-300,window.innerHeight-52):a.resize(window.innerWidth,window.innerHeight-52)},$=()=>{w.value=!w.value,w.value?document.getElementById("minimap").style.right="calc(316px)":document.getElementById("minimap").style.right="calc(16px)",!0===d.value&&!0===w.value?a.resize(window.innerWidth-600,window.innerHeight-52):!0===d.value&&!1===w.value||!1===d.value&&!0===w.value?a.resize(window.innerWidth-300,window.innerHeight-52):a.resize(window.innerWidth,window.innerHeight-52)},Y=(e,l)=>{const o=a.createNode(l.node);t.value.start(o,e)},K=(e,t)=>{const l=a.getNodes()[e];let o=l.getData();l.setData({name:o.name,status:t})},X=()=>{if(x.name&&(y.value.name=x.name),x.externalId&&(y.value.id=x.externalId),x.materialName&&(y.value.materialName=x.materialName),x.jobs){C.nodes=[];const e=x.jobs;for(let a=0,t=e.length;a<t;a++)C.nodes.push({id:e[a].externalId,data:{name:e[a].name,cpuCores:e[a].cpuCores,appUseCase:e[a].appUseCase,status:"default",htc:e[a].htc},shape:"default-node",ports:{...v}})}if(x.dependencies){C.edges=[];const e=x.dependencies;for(let a=0,t=e.length;a<t;a++)C.edges.push({id:e[a].externalId,source:e[a].jobDependencyExternalId,target:e[a].jobExternalId,fileDependencies:e[a].fileDependencies,shape:"default-edge",zIndex:-1})}},ee=()=>{const e=a.getNodes();for(let a=0,t=e.length;a<t;a++)e[a].getData().htc&&(e[a].setData({htc:!1}),e[a].setData({htc:!0}))},ae=t=>{x=t,X(),a.dispose(),se(),ie(),de(),ee(),T(),e.notify({message:"导入文件成功！",type:"positive"})},te=()=>{E(),m.Z.set("jsonData",g.value),e.notify({message:"保存数据成功！",type:"positive"})},le=()=>{m.Z.getItem("showMinimap")&&(b.value=m.Z.getItem("showMinimap")),m.Z.getItem("showGrid")&&(_.value=m.Z.getItem("showGrid")),m.Z.getItem("jsonData")&&(x=m.Z.getItem("jsonData"),X())},oe=()=>{K(0,"running"),K(1,"default"),K(2,"default"),K(3,"default"),K(4,"default"),K(5,"default"),setTimeout((()=>{K(0,"success"),K(1,"running"),K(2,"running"),setTimeout((()=>{K(1,"success"),K(3,"running"),K(4,"running"),setTimeout((()=>{K(3,"success"),setTimeout((()=>{K(4,"warning")}),3e3)}),1e3)}),1e3),setTimeout((()=>{K(2,"success"),K(5,"running"),setTimeout((()=>{K(5,"error")}),1e3)}),3e3)}),2e3)},ne=()=>{r.kJ.registerNode("default-node",{inherit:"vue-shape",width:200,height:36,component:dl},!0),r.kJ.registerEdge("default-edge",{inherit:"edge",attrs:{line:{stroke:"#c2c8d5",strokeWidth:1.5,targetMarker:{name:"path",offsetX:-5,d:"M10.3,11.9L10.3,6.29L10.3,5.6L10.3,0L0,5.95L10.3,11.9Z"}}}},!0)};function se(){const e=new c.Vq({type:"dagre",ranksep:40,nodesep:60,controlPoints:!1});e.layout(C);const t={name:"stroke"};a=new r.kJ({container:document.getElementById("container"),autoResize:!0,minimap:{enabled:!0,container:document.getElementById("minimap"),width:200,height:150},height:window.innerHeight-52,background:{color:"#f7f7fa"},grid:{size:10,visible:_.value,type:"dot",args:{color:"#a0a0a0",thickness:1}},snapline:!0,panning:!0,keyboard:!1,mousewheel:{enabled:!0,zoomAtMousePosition:!0,modifiers:"ctrl",minScale:.5,maxScale:3},history:{enabled:!0,ignoreChange:!0},selecting:{enabled:!0,multiple:!1,rubberEdge:!0,showNodeSelectionBox:!0,showEdgeSelectionBox:!0},connecting:{allowPort:!0,allowEdge:!1,allowNode:!1,allowLoop:!1,allowMulti:!1,allowBlank:!1,highlight:!0,snap:!0,router:{name:"er",args:{offset:"center",direction:"V"}},connector:{name:"rounded",args:{radius:45}},anchor:"center",connectionPoint:{name:"bbox"},validateConnection({targetMagnet:e,sourceCell:t,targetCell:l}){const o=a.toJSON().cells.find((e=>{if("edge"===e.shape&&e.target.cell===t.id&&e.source.cell===l.id)return!0}));return!o&&!!e},createEdge(){return a.createEdge({shape:"default-edge",attrs:{line:{strokeDasharray:"5 5"}},zIndex:-1})}},highlighting:{magnetAvailable:t,magnetAdsorbed:{name:"stroke",args:{attrs:{fill:"#fff",stroke:"#31d0c6"}}}}}).fromJSON(C)}const ie=()=>{t.value=new no({target:a,validateNode(){return!0}})};function de(){a.on("node:contextmenu",(({node:e})=>{n.value="node",o.value=e.id})),a.on("edge:contextmenu",(({edge:e})=>{n.value="edge",o.value=e.id})),a.on("blank:contextmenu",(()=>{n.value="blank",o.value=""})),a.on("cell:mousewheel",(()=>{setTimeout((()=>{i.value=Number((100*a.zoom()).toFixed(0))}),50)})),a.on("blank:mousewheel",(()=>{setTimeout((()=>{i.value=Number((100*a.zoom()).toFixed(0))}),50)})),a.on("node:click",(({node:e})=>{s.value.nodeClickResponse(e)})),a.on("edge:click",(({edge:e})=>{s.value.edgeClickResponse(e)})),a.on("blank:click",(({})=>{s.value.blankClickResponse()})),a.on("node:mousemove",(({node:e})=>{s.value.nodeMouseMoveResponse(e)})),a.on("edge:connected",(({edge:e})=>{e.attr({line:{strokeDasharray:""}})})),a.on("node:change:data",(({node:e})=>{const t=e.getData(),l=a.getIncomingEdges(e),o=a.getOutgoingEdges(e);null===l||void 0===l||l.forEach((e=>{"running"===t.status?(e.attr("line/strokeDasharray",5),e.attr("line/style/animation","running-line 30s infinite linear")):(e.attr("line/strokeDasharray",""),e.attr("line/style/animation",""))})),null===o||void 0===o||o.forEach((e=>{!0===t.htc?(e.attr("line/strokeWidth",5),e.attr("line/targetMarker/name","path"),e.attr("line/targetMarker/offsetX",-8),e.attr("line/targetMarker/d","M5.5,15.499,15.8,21.447,15.8,15.846,25.5,21.447,25.5,9.552,15.8,15.152,15.8,9.552z")):(e.attr("line/strokeWidth",1.5),e.attr("line/targetMarker/name","path"),e.attr("line/targetMarker/offsetX",-5),e.attr("line/targetMarker/d","M10.3,11.9L10.3,6.29L10.3,5.6L10.3,0L0,5.95L10.3,11.9Z"))}))})),a.on("edge:added",(()=>{ee()}))}return(0,l.bv)((()=>{le(),X(),ne(),se(),ie(),de(),ee(),T()})),{undo:W,redo:D,zoomIn:q,zoomOut:U,centerContent:T,choiceType:n,addNode:I,deleteNode:Q,deleteEdge:j,refresh:V,nodeSetting:F,showNode:S,showEdge:M,showData:H,downloadData:L,shGrid:B,layout:J,shLeftDrawer:P,shRightDrawer:$,showLeftDrawer:d,showRightDrawer:w,zoom:i,rightDrawer:s,startDrag:Y,runWorkFlow:oe,openHelpDialog:k,help:A,closeHelp:G,closeCode:R,openCodeDialog:h,jsonData:g,flow:y,showMinimap:b,shMinimap:O,showGrid:_,zoomTo:Z,zoomToFit:z,importJson:ae,saveData:te}}}),io=(0,j.Z)(so,[["render",d],["__scopeId","data-v-7644dc8c"]]),co=io,ro=(0,l.aZ)({name:"PageIndex",components:{X6Editor:co},setup(){return{}}}),uo=(0,j.Z)(ro,[["render",o]]),po=uo}}]);